const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./CMK4cpJ9.js","./BnK-R_8J.js","./error-404.BLrjNXsr.css","./DYjrdP8g.js","./error-500.DLkAwcfL.css"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Wc(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const ke={},cs=[],Yt=()=>{},jp=()=>!1,zi=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),zc=t=>t.startsWith("onUpdate:"),st=Object.assign,Gc=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Vv=Object.prototype.hasOwnProperty,Se=(t,e)=>Vv.call(t,e),ae=Array.isArray,us=t=>Ra(t)==="[object Map]",Bp=t=>Ra(t)==="[object Set]",ie=t=>typeof t=="function",Fe=t=>typeof t=="string",hr=t=>typeof t=="symbol",Ne=t=>t!==null&&typeof t=="object",Hp=t=>(Ne(t)||ie(t))&&ie(t.then)&&ie(t.catch),qp=Object.prototype.toString,Ra=t=>qp.call(t),Ov=t=>Ra(t).slice(8,-1),Wp=t=>Ra(t)==="[object Object]",Ca=t=>Fe(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,hs=Wc(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Pa=t=>{const e=Object.create(null);return(n=>e[n]||(e[n]=t(n)))},Mv=/-\w/g,Vt=Pa(t=>t.replace(Mv,e=>e.slice(1).toUpperCase())),Lv=/\B([A-Z])/g,fr=Pa(t=>t.replace(Lv,"-$1").toLowerCase()),xa=Pa(t=>t.charAt(0).toUpperCase()+t.slice(1)),El=Pa(t=>t?`on${xa(t)}`:""),Kn=(t,e)=>!Object.is(t,e),Do=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},zp=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},Kc=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Gp=t=>{const e=Fe(t)?Number(t):NaN;return isNaN(e)?t:e};let rf;const ka=()=>rf||(rf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Na(t){if(ae(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],s=Fe(r)?jv(r):Na(r);if(s)for(const i in s)e[i]=s[i]}return e}else if(Fe(t)||Ne(t))return t}const Fv=/;(?![^(]*\))/g,Uv=/:([^]+)/,$v=/\/\*[^]*?\*\//g;function jv(t){const e={};return t.replace($v,"").split(Fv).forEach(n=>{if(n){const r=n.split(Uv);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Da(t){let e="";if(Fe(t))e=t;else if(ae(t))for(let n=0;n<t.length;n++){const r=Da(t[n]);r&&(e+=r+" ")}else if(Ne(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function Bv(t){if(!t)return null;let{class:e,style:n}=t;return e&&!Fe(e)&&(t.class=Da(e)),n&&(t.style=Na(n)),t}const Hv="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",qv=Wc(Hv);function Kp(t){return!!t||t===""}const Qp=t=>!!(t&&t.__v_isRef===!0),Pe=t=>Fe(t)?t:t==null?"":ae(t)||Ne(t)&&(t.toString===qp||!ie(t.toString))?Qp(t)?Pe(t.value):JSON.stringify(t,Jp,2):String(t),Jp=(t,e)=>Qp(e)?Jp(t,e.value):us(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,s],i)=>(n[Tl(r,i)+" =>"]=s,n),{})}:Bp(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Tl(n))}:hr(e)?Tl(e):Ne(e)&&!ae(e)&&!Wp(e)?String(e):e,Tl=(t,e="")=>{var n;return hr(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};let Et;class Xp{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Et,!e&&Et&&(this.index=(Et.scopes||(Et.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Et;try{return Et=this,e()}finally{Et=n}}}on(){++this._on===1&&(this.prevScope=Et,Et=this)}off(){this._on>0&&--this._on===0&&(Et=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function Wv(t){return new Xp(t)}function Yp(){return Et}let De;const bl=new WeakSet;class Zp{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Et&&Et.active&&Et.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,bl.has(this)&&(bl.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||tg(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,sf(this),ng(this);const e=De,n=Ft;De=this,Ft=!0;try{return this.fn()}finally{rg(this),De=e,Ft=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Xc(e);this.deps=this.depsTail=void 0,sf(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?bl.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Jl(this)&&this.run()}get dirty(){return Jl(this)}}let eg=0,_i,yi;function tg(t,e=!1){if(t.flags|=8,e){t.next=yi,yi=t;return}t.next=_i,_i=t}function Qc(){eg++}function Jc(){if(--eg>0)return;if(yi){let e=yi;for(yi=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;_i;){let e=_i;for(_i=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function ng(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function rg(t){let e,n=t.depsTail,r=n;for(;r;){const s=r.prevDep;r.version===-1?(r===n&&(n=s),Xc(r),zv(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}t.deps=e,t.depsTail=n}function Jl(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(sg(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function sg(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Pi)||(t.globalVersion=Pi,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!Jl(t))))return;t.flags|=2;const e=t.dep,n=De,r=Ft;De=t,Ft=!0;try{ng(t);const s=t.fn(t._value);(e.version===0||Kn(s,t._value))&&(t.flags|=128,t._value=s,e.version++)}catch(s){throw e.version++,s}finally{De=n,Ft=r,rg(t),t.flags&=-3}}function Xc(t,e=!1){const{dep:n,prevSub:r,nextSub:s}=t;if(r&&(r.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)Xc(i,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function zv(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let Ft=!0;const ig=[];function wn(){ig.push(Ft),Ft=!1}function En(){const t=ig.pop();Ft=t===void 0?!0:t}function sf(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=De;De=void 0;try{e()}finally{De=n}}}let Pi=0;class Gv{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Yc{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!De||!Ft||De===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==De)n=this.activeLink=new Gv(De,this),De.deps?(n.prevDep=De.depsTail,De.depsTail.nextDep=n,De.depsTail=n):De.deps=De.depsTail=n,og(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=De.depsTail,n.nextDep=void 0,De.depsTail.nextDep=n,De.depsTail=n,De.deps===n&&(De.deps=r)}return n}trigger(e){this.version++,Pi++,this.notify(e)}notify(e){Qc();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Jc()}}}function og(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)og(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const Qo=new WeakMap,Cr=Symbol(""),Xl=Symbol(""),xi=Symbol("");function ft(t,e,n){if(Ft&&De){let r=Qo.get(t);r||Qo.set(t,r=new Map);let s=r.get(n);s||(r.set(n,s=new Yc),s.map=r,s.key=n),s.track()}}function gn(t,e,n,r,s,i){const o=Qo.get(t);if(!o){Pi++;return}const l=c=>{c&&c.trigger()};if(Qc(),e==="clear")o.forEach(l);else{const c=ae(t),h=c&&Ca(n);if(c&&n==="length"){const u=Number(r);o.forEach((d,g)=>{(g==="length"||g===xi||!hr(g)&&g>=u)&&l(d)})}else switch((n!==void 0||o.has(void 0))&&l(o.get(n)),h&&l(o.get(xi)),e){case"add":c?h&&l(o.get("length")):(l(o.get(Cr)),us(t)&&l(o.get(Xl)));break;case"delete":c||(l(o.get(Cr)),us(t)&&l(o.get(Xl)));break;case"set":us(t)&&l(o.get(Cr));break}}Jc()}function Kv(t,e){const n=Qo.get(t);return n&&n.get(e)}function Xr(t){const e=Te(t);return e===t?e:(ft(e,"iterate",xi),Pt(t)?e:e.map(jt))}function Va(t){return ft(t=Te(t),"iterate",xi),t}function Un(t,e){return on(t)?Qn(t)?Es(jt(e)):Es(e):jt(e)}const Qv={__proto__:null,[Symbol.iterator](){return Il(this,Symbol.iterator,t=>Un(this,t))},concat(...t){return Xr(this).concat(...t.map(e=>ae(e)?Xr(e):e))},entries(){return Il(this,"entries",t=>(t[1]=Un(this,t[1]),t))},every(t,e){return hn(this,"every",t,e,void 0,arguments)},filter(t,e){return hn(this,"filter",t,e,n=>n.map(r=>Un(this,r)),arguments)},find(t,e){return hn(this,"find",t,e,n=>Un(this,n),arguments)},findIndex(t,e){return hn(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return hn(this,"findLast",t,e,n=>Un(this,n),arguments)},findLastIndex(t,e){return hn(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return hn(this,"forEach",t,e,void 0,arguments)},includes(...t){return Al(this,"includes",t)},indexOf(...t){return Al(this,"indexOf",t)},join(t){return Xr(this).join(t)},lastIndexOf(...t){return Al(this,"lastIndexOf",t)},map(t,e){return hn(this,"map",t,e,void 0,arguments)},pop(){return ci(this,"pop")},push(...t){return ci(this,"push",t)},reduce(t,...e){return of(this,"reduce",t,e)},reduceRight(t,...e){return of(this,"reduceRight",t,e)},shift(){return ci(this,"shift")},some(t,e){return hn(this,"some",t,e,void 0,arguments)},splice(...t){return ci(this,"splice",t)},toReversed(){return Xr(this).toReversed()},toSorted(t){return Xr(this).toSorted(t)},toSpliced(...t){return Xr(this).toSpliced(...t)},unshift(...t){return ci(this,"unshift",t)},values(){return Il(this,"values",t=>Un(this,t))}};function Il(t,e,n){const r=Va(t),s=r[e]();return r!==t&&!Pt(t)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.done||(i.value=n(i.value)),i}),s}const Jv=Array.prototype;function hn(t,e,n,r,s,i){const o=Va(t),l=o!==t&&!Pt(t),c=o[e];if(c!==Jv[e]){const d=c.apply(t,i);return l?jt(d):d}let h=n;o!==t&&(l?h=function(d,g){return n.call(this,Un(t,d),g,t)}:n.length>2&&(h=function(d,g){return n.call(this,d,g,t)}));const u=c.call(o,h,r);return l&&s?s(u):u}function of(t,e,n,r){const s=Va(t);let i=n;return s!==t&&(Pt(t)?n.length>3&&(i=function(o,l,c){return n.call(this,o,l,c,t)}):i=function(o,l,c){return n.call(this,o,Un(t,l),c,t)}),s[e](i,...r)}function Al(t,e,n){const r=Te(t);ft(r,"iterate",xi);const s=r[e](...n);return(s===-1||s===!1)&&Oa(n[0])?(n[0]=Te(n[0]),r[e](...n)):s}function ci(t,e,n=[]){wn(),Qc();const r=Te(t)[e].apply(t,n);return Jc(),En(),r}const Xv=Wc("__proto__,__v_isRef,__isVue"),ag=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(hr));function Yv(t){hr(t)||(t=String(t));const e=Te(this);return ft(e,"has",t),e.hasOwnProperty(t)}class lg{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const s=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(s?i?lw:fg:i?hg:ug).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=ae(e);if(!s){let c;if(o&&(c=Qv[n]))return c;if(n==="hasOwnProperty")return Yv}const l=Reflect.get(e,n,We(e)?e:r);if((hr(n)?ag.has(n):Xv(n))||(s||ft(e,"get",n),i))return l;if(We(l)){const c=o&&Ca(n)?l:l.value;return s&&Ne(c)?Zl(c):c}return Ne(l)?s?Zl(l):rr(l):l}}class cg extends lg{constructor(e=!1){super(!1,e)}set(e,n,r,s){let i=e[n];const o=ae(e)&&Ca(n);if(!this._isShallow){const h=on(i);if(!Pt(r)&&!on(r)&&(i=Te(i),r=Te(r)),!o&&We(i)&&!We(r))return h||(i.value=r),!0}const l=o?Number(n)<e.length:Se(e,n),c=Reflect.set(e,n,r,We(e)?e:s);return e===Te(s)&&(l?Kn(r,i)&&gn(e,"set",n,r):gn(e,"add",n,r)),c}deleteProperty(e,n){const r=Se(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&r&&gn(e,"delete",n,void 0),s}has(e,n){const r=Reflect.has(e,n);return(!hr(n)||!ag.has(n))&&ft(e,"has",n),r}ownKeys(e){return ft(e,"iterate",ae(e)?"length":Cr),Reflect.ownKeys(e)}}class Zv extends lg{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const ew=new cg,tw=new Zv,nw=new cg(!0);const Yl=t=>t,yo=t=>Reflect.getPrototypeOf(t);function rw(t,e,n){return function(...r){const s=this.__v_raw,i=Te(s),o=us(i),l=t==="entries"||t===Symbol.iterator&&o,c=t==="keys"&&o,h=s[t](...r),u=n?Yl:e?Es:jt;return!e&&ft(i,"iterate",c?Xl:Cr),{next(){const{value:d,done:g}=h.next();return g?{value:d,done:g}:{value:l?[u(d[0]),u(d[1])]:u(d),done:g}},[Symbol.iterator](){return this}}}}function vo(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function sw(t,e){const n={get(s){const i=this.__v_raw,o=Te(i),l=Te(s);t||(Kn(s,l)&&ft(o,"get",s),ft(o,"get",l));const{has:c}=yo(o),h=e?Yl:t?Es:jt;if(c.call(o,s))return h(i.get(s));if(c.call(o,l))return h(i.get(l));i!==o&&i.get(s)},get size(){const s=this.__v_raw;return!t&&ft(Te(s),"iterate",Cr),s.size},has(s){const i=this.__v_raw,o=Te(i),l=Te(s);return t||(Kn(s,l)&&ft(o,"has",s),ft(o,"has",l)),s===l?i.has(s):i.has(s)||i.has(l)},forEach(s,i){const o=this,l=o.__v_raw,c=Te(l),h=e?Yl:t?Es:jt;return!t&&ft(c,"iterate",Cr),l.forEach((u,d)=>s.call(i,h(u),h(d),o))}};return st(n,t?{add:vo("add"),set:vo("set"),delete:vo("delete"),clear:vo("clear")}:{add(s){!e&&!Pt(s)&&!on(s)&&(s=Te(s));const i=Te(this);return yo(i).has.call(i,s)||(i.add(s),gn(i,"add",s,s)),this},set(s,i){!e&&!Pt(i)&&!on(i)&&(i=Te(i));const o=Te(this),{has:l,get:c}=yo(o);let h=l.call(o,s);h||(s=Te(s),h=l.call(o,s));const u=c.call(o,s);return o.set(s,i),h?Kn(i,u)&&gn(o,"set",s,i):gn(o,"add",s,i),this},delete(s){const i=Te(this),{has:o,get:l}=yo(i);let c=o.call(i,s);c||(s=Te(s),c=o.call(i,s)),l&&l.call(i,s);const h=i.delete(s);return c&&gn(i,"delete",s,void 0),h},clear(){const s=Te(this),i=s.size!==0,o=s.clear();return i&&gn(s,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=rw(s,t,e)}),n}function Zc(t,e){const n=sw(t,e);return(r,s,i)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?r:Reflect.get(Se(n,s)&&s in r?n:r,s,i)}const iw={get:Zc(!1,!1)},ow={get:Zc(!1,!0)},aw={get:Zc(!0,!1)};const ug=new WeakMap,hg=new WeakMap,fg=new WeakMap,lw=new WeakMap;function cw(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function uw(t){return t.__v_skip||!Object.isExtensible(t)?0:cw(Ov(t))}function rr(t){return on(t)?t:eu(t,!1,ew,iw,ug)}function is(t){return eu(t,!1,nw,ow,hg)}function Zl(t){return eu(t,!0,tw,aw,fg)}function eu(t,e,n,r,s){if(!Ne(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=uw(t);if(i===0)return t;const o=s.get(t);if(o)return o;const l=new Proxy(t,i===2?r:n);return s.set(t,l),l}function Qn(t){return on(t)?Qn(t.__v_raw):!!(t&&t.__v_isReactive)}function on(t){return!!(t&&t.__v_isReadonly)}function Pt(t){return!!(t&&t.__v_isShallow)}function Oa(t){return t?!!t.__v_raw:!1}function Te(t){const e=t&&t.__v_raw;return e?Te(e):t}function hw(t){return!Se(t,"__v_skip")&&Object.isExtensible(t)&&zp(t,"__v_skip",!0),t}const jt=t=>Ne(t)?rr(t):t,Es=t=>Ne(t)?Zl(t):t;function We(t){return t?t.__v_isRef===!0:!1}function qe(t){return dg(t,!1)}function af(t){return dg(t,!0)}function dg(t,e){return We(t)?t:new fw(t,e)}class fw{constructor(e,n){this.dep=new Yc,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Te(e),this._value=n?e:jt(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||Pt(e)||on(e);e=r?e:Te(e),Kn(e,n)&&(this._rawValue=e,this._value=r?e:jt(e),this.dep.trigger())}}function be(t){return We(t)?t.value:t}function dw(t){return ie(t)?t():be(t)}const pw={get:(t,e,n)=>e==="__v_raw"?t:be(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const s=t[e];return We(s)&&!We(n)?(s.value=n,!0):Reflect.set(t,e,n,r)}};function pg(t){return Qn(t)?t:new Proxy(t,pw)}class gw{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0,this._raw=Te(e);let s=!0,i=e;if(!ae(e)||!Ca(String(n)))do s=!Oa(i)||Pt(i);while(s&&(i=i.__v_raw));this._shallow=s}get value(){let e=this._object[this._key];return this._shallow&&(e=be(e)),this._value=e===void 0?this._defaultValue:e}set value(e){if(this._shallow&&We(this._raw[this._key])){const n=this._object[this._key];if(We(n)){n.value=e;return}}this._object[this._key]=e}get dep(){return Kv(this._raw,this._key)}}class mw{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function gg(t,e,n){return We(t)?t:ie(t)?new mw(t):Ne(t)&&arguments.length>1?_w(t,e,n):qe(t)}function _w(t,e,n){return new gw(t,e,n)}class yw{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Yc(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Pi-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&De!==this)return tg(this,!0),!0}get value(){const e=this.dep.track();return sg(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function vw(t,e,n=!1){let r,s;return ie(t)?r=t:(r=t.get,s=t.set),new yw(r,s,n)}const wo={},Jo=new WeakMap;let Ir;function ww(t,e=!1,n=Ir){if(n){let r=Jo.get(n);r||Jo.set(n,r=[]),r.push(t)}}function Ew(t,e,n=ke){const{immediate:r,deep:s,once:i,scheduler:o,augmentJob:l,call:c}=n,h=k=>s?k:Pt(k)||s===!1||s===0?mn(k,1):mn(k);let u,d,g,m,I=!1,R=!1;if(We(t)?(d=()=>t.value,I=Pt(t)):Qn(t)?(d=()=>h(t),I=!0):ae(t)?(R=!0,I=t.some(k=>Qn(k)||Pt(k)),d=()=>t.map(k=>{if(We(k))return k.value;if(Qn(k))return h(k);if(ie(k))return c?c(k,2):k()})):ie(t)?e?d=c?()=>c(t,2):t:d=()=>{if(g){wn();try{g()}finally{En()}}const k=Ir;Ir=u;try{return c?c(t,3,[m]):t(m)}finally{Ir=k}}:d=Yt,e&&s){const k=d,M=s===!0?1/0:s;d=()=>mn(k(),M)}const N=Yp(),O=()=>{u.stop(),N&&N.active&&Gc(N.effects,u)};if(i&&e){const k=e;e=(...M)=>{k(...M),O()}}let D=R?new Array(t.length).fill(wo):wo;const C=k=>{if(!(!(u.flags&1)||!u.dirty&&!k))if(e){const M=u.run();if(s||I||(R?M.some((j,E)=>Kn(j,D[E])):Kn(M,D))){g&&g();const j=Ir;Ir=u;try{const E=[M,D===wo?void 0:R&&D[0]===wo?[]:D,m];D=M,c?c(e,3,E):e(...E)}finally{Ir=j}}}else u.run()};return l&&l(C),u=new Zp(d),u.scheduler=o?()=>o(C,!1):C,m=k=>ww(k,!1,u),g=u.onStop=()=>{const k=Jo.get(u);if(k){if(c)c(k,4);else for(const M of k)M();Jo.delete(u)}},e?r?C(!0):D=u.run():o?o(C.bind(null,!0),!0):u.run(),O.pause=u.pause.bind(u),O.resume=u.resume.bind(u),O.stop=O,O}function mn(t,e=1/0,n){if(e<=0||!Ne(t)||t.__v_skip||(n=n||new Map,(n.get(t)||0)>=e))return t;if(n.set(t,e),e--,We(t))mn(t.value,e,n);else if(ae(t))for(let r=0;r<t.length;r++)mn(t[r],e,n);else if(Bp(t)||us(t))t.forEach(r=>{mn(r,e,n)});else if(Wp(t)){for(const r in t)mn(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&mn(t[r],e,n)}return t}function Gi(t,e,n,r){try{return r?t(...r):t()}catch(s){Vs(s,e,n)}}function Bt(t,e,n,r){if(ie(t)){const s=Gi(t,e,n,r);return s&&Hp(s)&&s.catch(i=>{Vs(i,e,n)}),s}if(ae(t)){const s=[];for(let i=0;i<t.length;i++)s.push(Bt(t[i],e,n,r));return s}}function Vs(t,e,n,r=!0){const s=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||ke;if(e){let l=e.parent;const c=e.proxy,h=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const u=l.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](t,c,h)===!1)return}l=l.parent}if(i){wn(),Gi(i,null,10,[t,c,h]),En();return}}Tw(t,n,s,r,o)}function Tw(t,e,n,r=!0,s=!1){if(s)throw t;console.error(t)}const _t=[];let Gt=-1;const fs=[];let $n=null,Zr=0;const mg=Promise.resolve();let Xo=null;function _g(t){const e=Xo||mg;return t?e.then(this?t.bind(this):t):e}function bw(t){let e=Gt+1,n=_t.length;for(;e<n;){const r=e+n>>>1,s=_t[r],i=ki(s);i<t||i===t&&s.flags&2?e=r+1:n=r}return e}function tu(t){if(!(t.flags&1)){const e=ki(t),n=_t[_t.length-1];!n||!(t.flags&2)&&e>=ki(n)?_t.push(t):_t.splice(bw(e),0,t),t.flags|=1,yg()}}function yg(){Xo||(Xo=mg.then(vg))}function ec(t){ae(t)?fs.push(...t):$n&&t.id===-1?$n.splice(Zr+1,0,t):t.flags&1||(fs.push(t),t.flags|=1),yg()}function lf(t,e,n=Gt+1){for(;n<_t.length;n++){const r=_t[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;_t.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Yo(t){if(fs.length){const e=[...new Set(fs)].sort((n,r)=>ki(n)-ki(r));if(fs.length=0,$n){$n.push(...e);return}for($n=e,Zr=0;Zr<$n.length;Zr++){const n=$n[Zr];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}$n=null,Zr=0}}const ki=t=>t.id==null?t.flags&2?-1:1/0:t.id;function vg(t){try{for(Gt=0;Gt<_t.length;Gt++){const e=_t[Gt];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Gi(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Gt<_t.length;Gt++){const e=_t[Gt];e&&(e.flags&=-2)}Gt=-1,_t.length=0,Yo(),Xo=null,(_t.length||fs.length)&&vg()}}let Ct=null,wg=null;function Zo(t){const e=Ct;return Ct=t,wg=t&&t.type.__scopeId||null,e}function nu(t,e=Ct,n){if(!e||t._n)return t;const r=(...s)=>{r._d&&na(-1);const i=Zo(e);let o;try{o=t(...s)}finally{Zo(i),r._d&&na(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function os(t,e){if(Ct===null)return t;const n=$a(Ct),r=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[i,o,l,c=ke]=e[s];i&&(ie(i)&&(i={mounted:i,updated:i}),i.deep&&mn(o),r.push({dir:i,instance:n,value:o,oldValue:void 0,arg:l,modifiers:c}))}return t}function Kt(t,e,n,r){const s=t.dirs,i=e&&e.dirs;for(let o=0;o<s.length;o++){const l=s[o];i&&(l.oldValue=i[o].value);let c=l.dir[r];c&&(wn(),Bt(c,n,8,[t.el,l,t,e]),En())}}const Iw=Symbol("_vte"),Eg=t=>t.__isTeleport,pn=Symbol("_leaveCb"),Eo=Symbol("_enterCb");function Aw(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return La(()=>{t.isMounted=!0}),su(()=>{t.isUnmounting=!0}),t}const xt=[Function,Array],Tg={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:xt,onEnter:xt,onAfterEnter:xt,onEnterCancelled:xt,onBeforeLeave:xt,onLeave:xt,onAfterLeave:xt,onLeaveCancelled:xt,onBeforeAppear:xt,onAppear:xt,onAfterAppear:xt,onAppearCancelled:xt},bg=t=>{const e=t.subTree;return e.component?bg(e.component):e},Sw={name:"BaseTransition",props:Tg,setup(t,{slots:e}){const n=Qi(),r=Aw();return()=>{const s=e.default&&Sg(e.default(),!0);if(!s||!s.length)return;const i=Ig(s),o=Te(t),{mode:l}=o;if(r.isLeaving)return Sl(i);const c=cf(i);if(!c)return Sl(i);let h=tc(c,o,r,n,d=>h=d);c.type!==rt&&Ni(c,h);let u=n.subTree&&cf(n.subTree);if(u&&u.type!==rt&&!Xt(u,c)&&bg(n).type!==rt){let d=tc(u,o,r,n);if(Ni(u,d),l==="out-in"&&c.type!==rt)return r.isLeaving=!0,d.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete d.afterLeave,u=void 0},Sl(i);l==="in-out"&&c.type!==rt?d.delayLeave=(g,m,I)=>{const R=Ag(r,u);R[String(u.key)]=u,g[pn]=()=>{m(),g[pn]=void 0,delete h.delayedLeave,u=void 0},h.delayedLeave=()=>{I(),delete h.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return i}}};function Ig(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==rt){e=n;break}}return e}const Rw=Sw;function Ag(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function tc(t,e,n,r,s){const{appear:i,mode:o,persisted:l=!1,onBeforeEnter:c,onEnter:h,onAfterEnter:u,onEnterCancelled:d,onBeforeLeave:g,onLeave:m,onAfterLeave:I,onLeaveCancelled:R,onBeforeAppear:N,onAppear:O,onAfterAppear:D,onAppearCancelled:C}=e,k=String(t.key),M=Ag(n,t),j=(y,T)=>{y&&Bt(y,r,9,T)},E=(y,T)=>{const A=T[1];j(y,T),ae(y)?y.every(b=>b.length<=1)&&A():y.length<=1&&A()},v={mode:o,persisted:l,beforeEnter(y){let T=c;if(!n.isMounted)if(i)T=N||c;else return;y[pn]&&y[pn](!0);const A=M[k];A&&Xt(t,A)&&A.el[pn]&&A.el[pn](),j(T,[y])},enter(y){let T=h,A=u,b=d;if(!n.isMounted)if(i)T=O||h,A=D||u,b=C||d;else return;let w=!1;const ce=y[Eo]=Ee=>{w||(w=!0,Ee?j(b,[y]):j(A,[y]),v.delayedLeave&&v.delayedLeave(),y[Eo]=void 0)};T?E(T,[y,ce]):ce()},leave(y,T){const A=String(t.key);if(y[Eo]&&y[Eo](!0),n.isUnmounting)return T();j(g,[y]);let b=!1;const w=y[pn]=ce=>{b||(b=!0,T(),ce?j(R,[y]):j(I,[y]),y[pn]=void 0,M[A]===t&&delete M[A])};M[A]=t,m?E(m,[y,w]):w()},clone(y){const T=tc(y,e,n,r,s);return s&&s(T),T}};return v}function Sl(t){if(Ki(t))return t=sr(t),t.children=null,t}function cf(t){if(!Ki(t))return Eg(t.type)&&t.children?Ig(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&ie(n.default))return n.default()}}function Ni(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Ni(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Sg(t,e=!1,n){let r=[],s=0;for(let i=0;i<t.length;i++){let o=t[i];const l=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===Ge?(o.patchFlag&128&&s++,r=r.concat(Sg(o.children,e,l))):(e||o.type!==rt)&&r.push(l!=null?sr(o,{key:l}):o)}if(s>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}function Rg(t,e){return ie(t)?st({name:t.name},e,{setup:t}):t}function ru(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const ea=new WeakMap;function ds(t,e,n,r,s=!1){if(ae(t)){t.forEach((I,R)=>ds(I,e&&(ae(e)?e[R]:e),n,r,s));return}if(ps(r)&&!s){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&ds(t,e,n,r.component.subTree);return}const i=r.shapeFlag&4?$a(r.component):r.el,o=s?null:i,{i:l,r:c}=t,h=e&&e.r,u=l.refs===ke?l.refs={}:l.refs,d=l.setupState,g=Te(d),m=d===ke?jp:I=>Se(g,I);if(h!=null&&h!==c){if(uf(e),Fe(h))u[h]=null,m(h)&&(d[h]=null);else if(We(h)){h.value=null;const I=e;I.k&&(u[I.k]=null)}}if(ie(c))Gi(c,l,12,[o,u]);else{const I=Fe(c),R=We(c);if(I||R){const N=()=>{if(t.f){const O=I?m(c)?d[c]:u[c]:c.value;if(s)ae(O)&&Gc(O,i);else if(ae(O))O.includes(i)||O.push(i);else if(I)u[c]=[i],m(c)&&(d[c]=u[c]);else{const D=[i];c.value=D,t.k&&(u[t.k]=D)}}else I?(u[c]=o,m(c)&&(d[c]=o)):R&&(c.value=o,t.k&&(u[t.k]=o))};if(o){const O=()=>{N(),ea.delete(t)};O.id=-1,ea.set(t,O),wt(O,n)}else uf(t),N()}}}function uf(t){const e=ea.get(t);e&&(e.flags|=8,ea.delete(t))}let hf=!1;const Yr=()=>{hf||(console.error("Hydration completed but contains mismatches."),hf=!0)},Cw=t=>t.namespaceURI.includes("svg")&&t.tagName!=="foreignObject",Pw=t=>t.namespaceURI.includes("MathML"),To=t=>{if(t.nodeType===1){if(Cw(t))return"svg";if(Pw(t))return"mathml"}},as=t=>t.nodeType===8;function xw(t){const{mt:e,p:n,o:{patchProp:r,createText:s,nextSibling:i,parentNode:o,remove:l,insert:c,createComment:h}}=t,u=(C,k)=>{if(!k.hasChildNodes()){n(null,C,k),Yo(),k._vnode=C;return}d(k.firstChild,C,null,null,null),Yo(),k._vnode=C},d=(C,k,M,j,E,v=!1)=>{v=v||!!k.dynamicChildren;const y=as(C)&&C.data==="[",T=()=>R(C,k,M,j,E,y),{type:A,ref:b,shapeFlag:w,patchFlag:ce}=k;let Ee=C.nodeType;k.el=C,ce===-2&&(v=!1,k.dynamicChildren=null);let te=null;switch(A){case xr:Ee!==3?k.children===""?(c(k.el=s(""),o(C),C),te=C):te=T():(C.data!==k.children&&(Yr(),C.data=k.children),te=i(C));break;case rt:D(C)?(te=i(C),O(k.el=C.content.firstChild,C,M)):Ee!==8||y?te=T():te=i(C);break;case wi:if(y&&(C=i(C),Ee=C.nodeType),Ee===1||Ee===3){te=C;const de=!k.children.length;for(let Z=0;Z<k.staticCount;Z++)de&&(k.children+=te.nodeType===1?te.outerHTML:te.data),Z===k.staticCount-1&&(k.anchor=te),te=i(te);return y?i(te):te}else T();break;case Ge:y?te=I(C,k,M,j,E,v):te=T();break;default:if(w&1)(Ee!==1||k.type.toLowerCase()!==C.tagName.toLowerCase())&&!D(C)?te=T():te=g(C,k,M,j,E,v);else if(w&6){k.slotScopeIds=E;const de=o(C);if(y?te=N(C):as(C)&&C.data==="teleport start"?te=N(C,C.data,"teleport end"):te=i(C),e(k,de,null,M,j,To(de),v),ps(k)&&!k.type.__asyncResolved){let Z;y?(Z=Le(Ge),Z.anchor=te?te.previousSibling:de.lastChild):Z=C.nodeType===3?jn(""):Le("div"),Z.el=C,k.component.subTree=Z}}else w&64?Ee!==8?te=T():te=k.type.hydrate(C,k,M,j,E,v,t,m):w&128&&(te=k.type.hydrate(C,k,M,j,To(o(C)),E,v,t,d))}return b!=null&&ds(b,null,j,k),te},g=(C,k,M,j,E,v)=>{v=v||!!k.dynamicChildren;const{type:y,props:T,patchFlag:A,shapeFlag:b,dirs:w,transition:ce}=k,Ee=y==="input"||y==="option";if(Ee||A!==-1){w&&Kt(k,null,M,"created");let te=!1;if(D(C)){te=Xg(null,ce)&&M&&M.vnode.props&&M.vnode.props.appear;const Z=C.content.firstChild;if(te){const Ce=Z.getAttribute("class");Ce&&(Z.$cls=Ce),ce.beforeEnter(Z)}O(Z,C,M),k.el=C=Z}if(b&16&&!(T&&(T.innerHTML||T.textContent))){let Z=m(C.firstChild,k,C,M,j,E,v);for(;Z;){bo(C,1)||Yr();const Ce=Z;Z=Z.nextSibling,l(Ce)}}else if(b&8){let Z=k.children;Z[0]===`
`&&(C.tagName==="PRE"||C.tagName==="TEXTAREA")&&(Z=Z.slice(1));const{textContent:Ce}=C;Ce!==Z&&Ce!==Z.replace(/\r\n|\r/g,`
`)&&(bo(C,0)||Yr(),C.textContent=k.children)}if(T){if(Ee||!v||A&48){const Z=C.tagName.includes("-");for(const Ce in T)(Ee&&(Ce.endsWith("value")||Ce==="indeterminate")||zi(Ce)&&!hs(Ce)||Ce[0]==="."||Z)&&r(C,Ce,null,T[Ce],void 0,M)}else if(T.onClick)r(C,"onClick",null,T.onClick,void 0,M);else if(A&4&&Qn(T.style))for(const Z in T.style)T.style[Z]}let de;(de=T&&T.onVnodeBeforeMount)&&kt(de,M,k),w&&Kt(k,null,M,"beforeMount"),((de=T&&T.onVnodeMounted)||w||te)&&nm(()=>{de&&kt(de,M,k),te&&ce.enter(C),w&&Kt(k,null,M,"mounted")},j)}return C.nextSibling},m=(C,k,M,j,E,v,y)=>{y=y||!!k.dynamicChildren;const T=k.children,A=T.length;for(let b=0;b<A;b++){const w=y?T[b]:T[b]=Rt(T[b]),ce=w.type===xr;C?(ce&&!y&&b+1<A&&Rt(T[b+1]).type===xr&&(c(s(C.data.slice(w.children.length)),M,i(C)),C.data=w.children),C=d(C,w,j,E,v,y)):ce&&!w.children?c(w.el=s(""),M):(bo(M,1)||Yr(),n(null,w,M,null,j,E,To(M),v))}return C},I=(C,k,M,j,E,v)=>{const{slotScopeIds:y}=k;y&&(E=E?E.concat(y):y);const T=o(C),A=m(i(C),k,T,M,j,E,v);return A&&as(A)&&A.data==="]"?i(k.anchor=A):(Yr(),c(k.anchor=h("]"),T,A),A)},R=(C,k,M,j,E,v)=>{if(bo(C.parentElement,1)||Yr(),k.el=null,v){const A=N(C);for(;;){const b=i(C);if(b&&b!==A)l(b);else break}}const y=i(C),T=o(C);return l(C),n(null,k,T,y,M,j,To(T),E),M&&(M.vnode.el=k.el,Ua(M,k.el)),y},N=(C,k="[",M="]")=>{let j=0;for(;C;)if(C=i(C),C&&as(C)&&(C.data===k&&j++,C.data===M)){if(j===0)return i(C);j--}return C},O=(C,k,M)=>{const j=k.parentNode;j&&j.replaceChild(C,k);let E=M;for(;E;)E.vnode.el===k&&(E.vnode.el=E.subTree.el=C),E=E.parent},D=C=>C.nodeType===1&&C.tagName==="TEMPLATE";return[u,d]}const ff="data-allow-mismatch",kw={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function bo(t,e){if(e===0||e===1)for(;t&&!t.hasAttribute(ff);)t=t.parentElement;const n=t&&t.getAttribute(ff);if(n==null)return!1;if(n==="")return!0;{const r=n.split(",");return e===0&&r.includes("children")?!0:r.includes(kw[e])}}ka().requestIdleCallback;ka().cancelIdleCallback;function Nw(t,e){if(as(t)&&t.data==="["){let n=1,r=t.nextSibling;for(;r;){if(r.nodeType===1){if(e(r)===!1)break}else if(as(r))if(r.data==="]"){if(--n===0)break}else r.data==="["&&n++;r=r.nextSibling}}else e(t)}const ps=t=>!!t.type.__asyncLoader;function df(t){ie(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:r,delay:s=200,hydrate:i,timeout:o,suspensible:l=!0,onError:c}=t;let h=null,u,d=0;const g=()=>(d++,h=null,m()),m=()=>{let I;return h||(I=h=e().catch(R=>{if(R=R instanceof Error?R:new Error(String(R)),c)return new Promise((N,O)=>{c(R,()=>N(g()),()=>O(R),d+1)});throw R}).then(R=>I!==h&&h?h:(R&&(R.__esModule||R[Symbol.toStringTag]==="Module")&&(R=R.default),u=R,R)))};return Rg({name:"AsyncComponentWrapper",__asyncLoader:m,__asyncHydrate(I,R,N){let O=!1;(R.bu||(R.bu=[])).push(()=>O=!0);const D=()=>{O||N()},C=i?()=>{const k=i(D,M=>Nw(I,M));k&&(R.bum||(R.bum=[])).push(k)}:D;u?C():m().then(()=>!R.isUnmounted&&C())},get __asyncResolved(){return u},setup(){const I=ot;if(ru(I),u)return()=>Io(u,I);const R=C=>{h=null,Vs(C,I,13,!r)};if(l&&I.suspense||bs)return m().then(C=>()=>Io(C,I)).catch(C=>(R(C),()=>r?Le(r,{error:C}):null));const N=qe(!1),O=qe(),D=qe(!!s);return s&&setTimeout(()=>{D.value=!1},s),o!=null&&setTimeout(()=>{if(!N.value&&!O.value){const C=new Error(`Async component timed out after ${o}ms.`);R(C),O.value=C}},o),m().then(()=>{N.value=!0,I.parent&&Ki(I.parent.vnode)&&I.parent.update()}).catch(C=>{R(C),O.value=C}),()=>{if(N.value&&u)return Io(u,I);if(O.value&&r)return Le(r,{error:O.value});if(n&&!D.value)return Io(n,I)}}})}function Io(t,e){const{ref:n,props:r,children:s,ce:i}=e.vnode,o=Le(t,r,s);return o.ref=n,o.ce=i,delete e.vnode.ce,o}const Ki=t=>t.type.__isKeepAlive;function Cg(t,e){xg(t,"a",e)}function Pg(t,e){xg(t,"da",e)}function xg(t,e,n=ot){const r=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(Ma(e,r,n),n){let s=n.parent;for(;s&&s.parent;)Ki(s.parent.vnode)&&Dw(r,e,n,s),s=s.parent}}function Dw(t,e,n,r){const s=Ma(e,t,r,!0);kg(()=>{Gc(r[e],s)},n)}function Ma(t,e,n=ot,r=!1){if(n){const s=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{wn();const l=Ji(n),c=Bt(e,n,t,o);return l(),En(),c});return r?s.unshift(i):s.push(i),i}}const Sn=t=>(e,n=ot)=>{(!bs||t==="sp")&&Ma(t,(...r)=>e(...r),n)},Vw=Sn("bm"),La=Sn("m"),Ow=Sn("bu"),Mw=Sn("u"),su=Sn("bum"),kg=Sn("um"),Lw=Sn("sp"),Fw=Sn("rtg"),Uw=Sn("rtc");function Ng(t,e=ot){Ma("ec",t,e)}const Dg="components";function Hk(t,e){return Og(Dg,t,!0,e)||t}const Vg=Symbol.for("v-ndc");function $w(t){return Fe(t)?Og(Dg,t,!1)||t:t||Vg}function Og(t,e,n=!0,r=!1){const s=Ct||ot;if(s){const i=s.type;{const l=kE(i,!1);if(l&&(l===e||l===Vt(e)||l===xa(Vt(e))))return i}const o=pf(s[t]||i[t],e)||pf(s.appContext[t],e);return!o&&r?i:o}}function pf(t,e){return t&&(t[e]||t[Vt(e)]||t[xa(Vt(e))])}function zn(t,e,n,r){let s;const i=n,o=ae(t);if(o||Fe(t)){const l=o&&Qn(t);let c=!1,h=!1;l&&(c=!Pt(t),h=on(t),t=Va(t)),s=new Array(t.length);for(let u=0,d=t.length;u<d;u++)s[u]=e(c?h?Es(jt(t[u])):jt(t[u]):t[u],u,void 0,i)}else if(typeof t=="number"){s=new Array(t);for(let l=0;l<t;l++)s[l]=e(l+1,l,void 0,i)}else if(Ne(t))if(t[Symbol.iterator])s=Array.from(t,(l,c)=>e(l,c,void 0,i));else{const l=Object.keys(t);s=new Array(l.length);for(let c=0,h=l.length;c<h;c++){const u=l[c];s[c]=e(t[u],u,c,i)}}else s=[];return s}const nc=t=>t?am(t)?$a(t):nc(t.parent):null,vi=st(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>nc(t.parent),$root:t=>nc(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Lg(t),$forceUpdate:t=>t.f||(t.f=()=>{tu(t.update)}),$nextTick:t=>t.n||(t.n=_g.bind(t.proxy)),$watch:t=>Yw.bind(t)}),Rl=(t,e)=>t!==ke&&!t.__isScriptSetup&&Se(t,e),jw={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:l,appContext:c}=t;if(e[0]!=="$"){const g=o[e];if(g!==void 0)switch(g){case 1:return r[e];case 2:return s[e];case 4:return n[e];case 3:return i[e]}else{if(Rl(r,e))return o[e]=1,r[e];if(s!==ke&&Se(s,e))return o[e]=2,s[e];if(Se(i,e))return o[e]=3,i[e];if(n!==ke&&Se(n,e))return o[e]=4,n[e];rc&&(o[e]=0)}}const h=vi[e];let u,d;if(h)return e==="$attrs"&&ft(t.attrs,"get",""),h(t);if((u=l.__cssModules)&&(u=u[e]))return u;if(n!==ke&&Se(n,e))return o[e]=4,n[e];if(d=c.config.globalProperties,Se(d,e))return d[e]},set({_:t},e,n){const{data:r,setupState:s,ctx:i}=t;return Rl(s,e)?(s[e]=n,!0):r!==ke&&Se(r,e)?(r[e]=n,!0):Se(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:s,props:i,type:o}},l){let c;return!!(n[l]||t!==ke&&l[0]!=="$"&&Se(t,l)||Rl(e,l)||Se(i,l)||Se(r,l)||Se(vi,l)||Se(s.config.globalProperties,l)||(c=o.__cssModules)&&c[l])},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Se(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function gf(t){return ae(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let rc=!0;function Bw(t){const e=Lg(t),n=t.proxy,r=t.ctx;rc=!1,e.beforeCreate&&mf(e.beforeCreate,t,"bc");const{data:s,computed:i,methods:o,watch:l,provide:c,inject:h,created:u,beforeMount:d,mounted:g,beforeUpdate:m,updated:I,activated:R,deactivated:N,beforeDestroy:O,beforeUnmount:D,destroyed:C,unmounted:k,render:M,renderTracked:j,renderTriggered:E,errorCaptured:v,serverPrefetch:y,expose:T,inheritAttrs:A,components:b,directives:w,filters:ce}=e;if(h&&Hw(h,r,null),o)for(const de in o){const Z=o[de];ie(Z)&&(r[de]=Z.bind(n))}if(s){const de=s.call(n,n);Ne(de)&&(t.data=rr(de))}if(rc=!0,i)for(const de in i){const Z=i[de],Ce=ie(Z)?Z.bind(n,n):ie(Z.get)?Z.get.bind(n,n):Yt,qr=!ie(Z)&&ie(Z.set)?Z.set.bind(n):Yt,qt=ja({get:Ce,set:qr});Object.defineProperty(r,de,{enumerable:!0,configurable:!0,get:()=>qt.value,set:It=>qt.value=It})}if(l)for(const de in l)Mg(l[de],r,n,de);if(c){const de=ie(c)?c.call(n):c;Reflect.ownKeys(de).forEach(Z=>{Ug(Z,de[Z])})}u&&mf(u,t,"c");function te(de,Z){ae(Z)?Z.forEach(Ce=>de(Ce.bind(n))):Z&&de(Z.bind(n))}if(te(Vw,d),te(La,g),te(Ow,m),te(Mw,I),te(Cg,R),te(Pg,N),te(Ng,v),te(Uw,j),te(Fw,E),te(su,D),te(kg,k),te(Lw,y),ae(T))if(T.length){const de=t.exposed||(t.exposed={});T.forEach(Z=>{Object.defineProperty(de,Z,{get:()=>n[Z],set:Ce=>n[Z]=Ce,enumerable:!0})})}else t.exposed||(t.exposed={});M&&t.render===Yt&&(t.render=M),A!=null&&(t.inheritAttrs=A),b&&(t.components=b),w&&(t.directives=w),y&&ru(t)}function Hw(t,e,n=Yt){ae(t)&&(t=sc(t));for(const r in t){const s=t[r];let i;Ne(s)?"default"in s?i=gs(s.from||r,s.default,!0):i=gs(s.from||r):i=gs(s),We(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function mf(t,e,n){Bt(ae(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function Mg(t,e,n,r){let s=r.includes(".")?$g(n,r):()=>n[r];if(Fe(t)){const i=e[t];ie(i)&&Vo(s,i)}else if(ie(t))Vo(s,t.bind(n));else if(Ne(t))if(ae(t))t.forEach(i=>Mg(i,e,n,r));else{const i=ie(t.handler)?t.handler.bind(n):e[t.handler];ie(i)&&Vo(s,i,t)}}function Lg(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,l=i.get(e);let c;return l?c=l:!s.length&&!n&&!r?c=e:(c={},s.length&&s.forEach(h=>ta(c,h,o,!0)),ta(c,e,o)),Ne(e)&&i.set(e,c),c}function ta(t,e,n,r=!1){const{mixins:s,extends:i}=e;i&&ta(t,i,n,!0),s&&s.forEach(o=>ta(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const l=qw[o]||n&&n[o];t[o]=l?l(t[o],e[o]):e[o]}return t}const qw={data:_f,props:yf,emits:yf,methods:fi,computed:fi,beforeCreate:mt,created:mt,beforeMount:mt,mounted:mt,beforeUpdate:mt,updated:mt,beforeDestroy:mt,beforeUnmount:mt,destroyed:mt,unmounted:mt,activated:mt,deactivated:mt,errorCaptured:mt,serverPrefetch:mt,components:fi,directives:fi,watch:zw,provide:_f,inject:Ww};function _f(t,e){return e?t?function(){return st(ie(t)?t.call(this,this):t,ie(e)?e.call(this,this):e)}:e:t}function Ww(t,e){return fi(sc(t),sc(e))}function sc(t){if(ae(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function mt(t,e){return t?[...new Set([].concat(t,e))]:e}function fi(t,e){return t?st(Object.create(null),t,e):e}function yf(t,e){return t?ae(t)&&ae(e)?[...new Set([...t,...e])]:st(Object.create(null),gf(t),gf(e??{})):e}function zw(t,e){if(!t)return e;if(!e)return t;const n=st(Object.create(null),t);for(const r in e)n[r]=mt(t[r],e[r]);return n}function Fg(){return{app:null,config:{isNativeTag:jp,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Gw=0;function Kw(t,e){return function(r,s=null){ie(r)||(r=st({},r)),s!=null&&!Ne(s)&&(s=null);const i=Fg(),o=new WeakSet,l=[];let c=!1;const h=i.app={_uid:Gw++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:DE,get config(){return i.config},set config(u){},use(u,...d){return o.has(u)||(u&&ie(u.install)?(o.add(u),u.install(h,...d)):ie(u)&&(o.add(u),u(h,...d))),h},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),h},component(u,d){return d?(i.components[u]=d,h):i.components[u]},directive(u,d){return d?(i.directives[u]=d,h):i.directives[u]},mount(u,d,g){if(!c){const m=h._ceVNode||Le(r,s);return m.appContext=i,g===!0?g="svg":g===!1&&(g=void 0),d&&e?e(m,u):t(m,u,g),c=!0,h._container=u,u.__vue_app__=h,$a(m.component)}},onUnmount(u){l.push(u)},unmount(){c&&(Bt(l,h._instance,16),t(null,h._container),delete h._container.__vue_app__)},provide(u,d){return i.provides[u]=d,h},runWithContext(u){const d=Pr;Pr=h;try{return u()}finally{Pr=d}}};return h}}let Pr=null;function Ug(t,e){if(ot){let n=ot.provides;const r=ot.parent&&ot.parent.provides;r===n&&(n=ot.provides=Object.create(r)),n[t]=e}}function gs(t,e,n=!1){const r=Qi();if(r||Pr){let s=Pr?Pr._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return n&&ie(e)?e.call(r&&r.proxy):e}}function iu(){return!!(Qi()||Pr)}const Qw=Symbol.for("v-scx"),Jw=()=>gs(Qw);function Xw(t,e){return ou(t,null,e)}function Vo(t,e,n){return ou(t,e,n)}function ou(t,e,n=ke){const{immediate:r,deep:s,flush:i,once:o}=n,l=st({},n),c=e&&r||!e&&i!=="post";let h;if(bs){if(i==="sync"){const m=Jw();h=m.__watcherHandles||(m.__watcherHandles=[])}else if(!c){const m=()=>{};return m.stop=Yt,m.resume=Yt,m.pause=Yt,m}}const u=ot;l.call=(m,I,R)=>Bt(m,u,I,R);let d=!1;i==="post"?l.scheduler=m=>{wt(m,u&&u.suspense)}:i!=="sync"&&(d=!0,l.scheduler=(m,I)=>{I?m():tu(m)}),l.augmentJob=m=>{e&&(m.flags|=4),d&&(m.flags|=2,u&&(m.id=u.uid,m.i=u))};const g=Ew(t,e,l);return bs&&(h?h.push(g):c&&g()),g}function Yw(t,e,n){const r=this.proxy,s=Fe(t)?t.includes(".")?$g(r,t):()=>r[t]:t.bind(r,r);let i;ie(e)?i=e:(i=e.handler,n=e);const o=Ji(this),l=ou(s,i.bind(r),n);return o(),l}function $g(t,e){const n=e.split(".");return()=>{let r=t;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}const Zw=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Vt(e)}Modifiers`]||t[`${fr(e)}Modifiers`];function eE(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||ke;let s=n;const i=e.startsWith("update:"),o=i&&Zw(r,e.slice(7));o&&(o.trim&&(s=n.map(u=>Fe(u)?u.trim():u)),o.number&&(s=n.map(Kc)));let l,c=r[l=El(e)]||r[l=El(Vt(e))];!c&&i&&(c=r[l=El(fr(e))]),c&&Bt(c,t,6,s);const h=r[l+"Once"];if(h){if(!t.emitted)t.emitted={};else if(t.emitted[l])return;t.emitted[l]=!0,Bt(h,t,6,s)}}const tE=new WeakMap;function jg(t,e,n=!1){const r=n?tE:e.emitsCache,s=r.get(t);if(s!==void 0)return s;const i=t.emits;let o={},l=!1;if(!ie(t)){const c=h=>{const u=jg(h,e,!0);u&&(l=!0,st(o,u))};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!i&&!l?(Ne(t)&&r.set(t,null),null):(ae(i)?i.forEach(c=>o[c]=null):st(o,i),Ne(t)&&r.set(t,o),o)}function Fa(t,e){return!t||!zi(e)?!1:(e=e.slice(2).replace(/Once$/,""),Se(t,e[0].toLowerCase()+e.slice(1))||Se(t,fr(e))||Se(t,e))}function Cl(t){const{type:e,vnode:n,proxy:r,withProxy:s,propsOptions:[i],slots:o,attrs:l,emit:c,render:h,renderCache:u,props:d,data:g,setupState:m,ctx:I,inheritAttrs:R}=t,N=Zo(t);let O,D;try{if(n.shapeFlag&4){const k=s||r,M=k;O=Rt(h.call(M,k,u,d,m,g,I)),D=l}else{const k=e;O=Rt(k.length>1?k(d,{attrs:l,slots:o,emit:c}):k(d,null)),D=e.props?l:rE(l)}}catch(k){Ei.length=0,Vs(k,t,1),O=Le(rt)}let C=O;if(D&&R!==!1){const k=Object.keys(D),{shapeFlag:M}=C;k.length&&M&7&&(i&&k.some(zc)&&(D=sE(D,i)),C=sr(C,D,!1,!0))}return n.dirs&&(C=sr(C,null,!1,!0),C.dirs=C.dirs?C.dirs.concat(n.dirs):n.dirs),n.transition&&Ni(C,n.transition),O=C,Zo(N),O}function nE(t,e=!0){let n;for(let r=0;r<t.length;r++){const s=t[r];if(Vi(s)){if(s.type!==rt||s.children==="v-if"){if(n)return;n=s}}else return}return n}const rE=t=>{let e;for(const n in t)(n==="class"||n==="style"||zi(n))&&((e||(e={}))[n]=t[n]);return e},sE=(t,e)=>{const n={};for(const r in t)(!zc(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function iE(t,e,n){const{props:r,children:s,component:i}=t,{props:o,children:l,patchFlag:c}=e,h=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return r?vf(r,o,h):!!o;if(c&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const g=u[d];if(o[g]!==r[g]&&!Fa(h,g))return!0}}}else return(s||l)&&(!l||!l.$stable)?!0:r===o?!1:r?o?vf(r,o,h):!0:!!o;return!1}function vf(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(e[i]!==t[i]&&!Fa(n,i))return!0}return!1}function Ua({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const Bg={},Hg=()=>Object.create(Bg),qg=t=>Object.getPrototypeOf(t)===Bg;function oE(t,e,n,r=!1){const s={},i=Hg();t.propsDefaults=Object.create(null),Wg(t,e,s,i);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);n?t.props=r?s:is(s):t.type.props?t.props=s:t.props=i,t.attrs=i}function aE(t,e,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=t,l=Te(s),[c]=t.propsOptions;let h=!1;if((r||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let d=0;d<u.length;d++){let g=u[d];if(Fa(t.emitsOptions,g))continue;const m=e[g];if(c)if(Se(i,g))m!==i[g]&&(i[g]=m,h=!0);else{const I=Vt(g);s[I]=ic(c,l,I,m,t,!1)}else m!==i[g]&&(i[g]=m,h=!0)}}}else{Wg(t,e,s,i)&&(h=!0);let u;for(const d in l)(!e||!Se(e,d)&&((u=fr(d))===d||!Se(e,u)))&&(c?n&&(n[d]!==void 0||n[u]!==void 0)&&(s[d]=ic(c,l,d,void 0,t,!0)):delete s[d]);if(i!==l)for(const d in i)(!e||!Se(e,d))&&(delete i[d],h=!0)}h&&gn(t.attrs,"set","")}function Wg(t,e,n,r){const[s,i]=t.propsOptions;let o=!1,l;if(e)for(let c in e){if(hs(c))continue;const h=e[c];let u;s&&Se(s,u=Vt(c))?!i||!i.includes(u)?n[u]=h:(l||(l={}))[u]=h:Fa(t.emitsOptions,c)||(!(c in r)||h!==r[c])&&(r[c]=h,o=!0)}if(i){const c=Te(n),h=l||ke;for(let u=0;u<i.length;u++){const d=i[u];n[d]=ic(s,c,d,h[d],t,!Se(h,d))}}return o}function ic(t,e,n,r,s,i){const o=t[n];if(o!=null){const l=Se(o,"default");if(l&&r===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&ie(c)){const{propsDefaults:h}=s;if(n in h)r=h[n];else{const u=Ji(s);r=h[n]=c.call(null,e),u()}}else r=c;s.ce&&s.ce._setProp(n,r)}o[0]&&(i&&!l?r=!1:o[1]&&(r===""||r===fr(n))&&(r=!0))}return r}const lE=new WeakMap;function zg(t,e,n=!1){const r=n?lE:e.propsCache,s=r.get(t);if(s)return s;const i=t.props,o={},l=[];let c=!1;if(!ie(t)){const u=d=>{c=!0;const[g,m]=zg(d,e,!0);st(o,g),m&&l.push(...m)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!i&&!c)return Ne(t)&&r.set(t,cs),cs;if(ae(i))for(let u=0;u<i.length;u++){const d=Vt(i[u]);wf(d)&&(o[d]=ke)}else if(i)for(const u in i){const d=Vt(u);if(wf(d)){const g=i[u],m=o[d]=ae(g)||ie(g)?{type:g}:st({},g),I=m.type;let R=!1,N=!0;if(ae(I))for(let O=0;O<I.length;++O){const D=I[O],C=ie(D)&&D.name;if(C==="Boolean"){R=!0;break}else C==="String"&&(N=!1)}else R=ie(I)&&I.name==="Boolean";m[0]=R,m[1]=N,(R||Se(m,"default"))&&l.push(d)}}const h=[o,l];return Ne(t)&&r.set(t,h),h}function wf(t){return t[0]!=="$"&&!hs(t)}const au=t=>t==="_"||t==="_ctx"||t==="$stable",lu=t=>ae(t)?t.map(Rt):[Rt(t)],cE=(t,e,n)=>{if(e._n)return e;const r=nu((...s)=>lu(e(...s)),n);return r._c=!1,r},Gg=(t,e,n)=>{const r=t._ctx;for(const s in t){if(au(s))continue;const i=t[s];if(ie(i))e[s]=cE(s,i,r);else if(i!=null){const o=lu(i);e[s]=()=>o}}},Kg=(t,e)=>{const n=lu(e);t.slots.default=()=>n},Qg=(t,e,n)=>{for(const r in e)(n||!au(r))&&(t[r]=e[r])},uE=(t,e,n)=>{const r=t.slots=Hg();if(t.vnode.shapeFlag&32){const s=e._;s?(Qg(r,e,n),n&&zp(r,"_",s,!0)):Gg(e,r)}else e&&Kg(t,e)},hE=(t,e,n)=>{const{vnode:r,slots:s}=t;let i=!0,o=ke;if(r.shapeFlag&32){const l=e._;l?n&&l===1?i=!1:Qg(s,e,n):(i=!e.$stable,Gg(e,s)),o=e}else e&&(Kg(t,e),o={default:1});if(i)for(const l in s)!au(l)&&o[l]==null&&delete s[l]},wt=nm;function fE(t){return Jg(t)}function dE(t){return Jg(t,xw)}function Jg(t,e){const n=ka();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:l,createComment:c,setText:h,setElementText:u,parentNode:d,nextSibling:g,setScopeId:m=Yt,insertStaticContent:I}=t,R=(S,P,L,W=null,B=null,H=null,G=void 0,z=null,K=!!P.dynamicChildren)=>{if(S===P)return;S&&!Xt(S,P)&&(W=Pn(S),It(S,B,H,!0),S=null),P.patchFlag===-2&&(K=!1,P.dynamicChildren=null);const{type:q,ref:re,shapeFlag:J}=P;switch(q){case xr:N(S,P,L,W);break;case rt:O(S,P,L,W);break;case wi:S==null&&D(P,L,W,G);break;case Ge:b(S,P,L,W,B,H,G,z,K);break;default:J&1?M(S,P,L,W,B,H,G,z,K):J&6?w(S,P,L,W,B,H,G,z,K):(J&64||J&128)&&q.process(S,P,L,W,B,H,G,z,K,xn)}re!=null&&B?ds(re,S&&S.ref,H,P||S,!P):re==null&&S&&S.ref!=null&&ds(S.ref,null,H,S,!0)},N=(S,P,L,W)=>{if(S==null)r(P.el=l(P.children),L,W);else{const B=P.el=S.el;P.children!==S.children&&h(B,P.children)}},O=(S,P,L,W)=>{S==null?r(P.el=c(P.children||""),L,W):P.el=S.el},D=(S,P,L,W)=>{[S.el,S.anchor]=I(S.children,P,L,W,S.el,S.anchor)},C=({el:S,anchor:P},L,W)=>{let B;for(;S&&S!==P;)B=g(S),r(S,L,W),S=B;r(P,L,W)},k=({el:S,anchor:P})=>{let L;for(;S&&S!==P;)L=g(S),s(S),S=L;s(P)},M=(S,P,L,W,B,H,G,z,K)=>{if(P.type==="svg"?G="svg":P.type==="math"&&(G="mathml"),S==null)j(P,L,W,B,H,G,z,K);else{const q=S.el&&S.el._isVueCE?S.el:null;try{q&&q._beginPatch(),y(S,P,B,H,G,z,K)}finally{q&&q._endPatch()}}},j=(S,P,L,W,B,H,G,z)=>{let K,q;const{props:re,shapeFlag:J,transition:ee,dirs:le}=S;if(K=S.el=o(S.type,H,re&&re.is,re),J&8?u(K,S.children):J&16&&v(S.children,K,null,W,B,Pl(S,H),G,z),le&&Kt(S,null,W,"created"),E(K,S,S.scopeId,G,W),re){for(const Ae in re)Ae!=="value"&&!hs(Ae)&&i(K,Ae,null,re[Ae],H,W);"value"in re&&i(K,"value",null,re.value,H),(q=re.onVnodeBeforeMount)&&kt(q,W,S)}le&&Kt(S,null,W,"beforeMount");const me=Xg(B,ee);me&&ee.beforeEnter(K),r(K,P,L),((q=re&&re.onVnodeMounted)||me||le)&&wt(()=>{q&&kt(q,W,S),me&&ee.enter(K),le&&Kt(S,null,W,"mounted")},B)},E=(S,P,L,W,B)=>{if(L&&m(S,L),W)for(let H=0;H<W.length;H++)m(S,W[H]);if(B){let H=B.subTree;if(P===H||em(H.type)&&(H.ssContent===P||H.ssFallback===P)){const G=B.vnode;E(S,G,G.scopeId,G.slotScopeIds,B.parent)}}},v=(S,P,L,W,B,H,G,z,K=0)=>{for(let q=K;q<S.length;q++){const re=S[q]=z?Bn(S[q]):Rt(S[q]);R(null,re,P,L,W,B,H,G,z)}},y=(S,P,L,W,B,H,G)=>{const z=P.el=S.el;let{patchFlag:K,dynamicChildren:q,dirs:re}=P;K|=S.patchFlag&16;const J=S.props||ke,ee=P.props||ke;let le;if(L&&wr(L,!1),(le=ee.onVnodeBeforeUpdate)&&kt(le,L,P,S),re&&Kt(P,S,L,"beforeUpdate"),L&&wr(L,!0),(J.innerHTML&&ee.innerHTML==null||J.textContent&&ee.textContent==null)&&u(z,""),q?T(S.dynamicChildren,q,z,L,W,Pl(P,B),H):G||Z(S,P,z,null,L,W,Pl(P,B),H,!1),K>0){if(K&16)A(z,J,ee,L,B);else if(K&2&&J.class!==ee.class&&i(z,"class",null,ee.class,B),K&4&&i(z,"style",J.style,ee.style,B),K&8){const me=P.dynamicProps;for(let Ae=0;Ae<me.length;Ae++){const Ie=me[Ae],ct=J[Ie],Je=ee[Ie];(Je!==ct||Ie==="value")&&i(z,Ie,ct,Je,B,L)}}K&1&&S.children!==P.children&&u(z,P.children)}else!G&&q==null&&A(z,J,ee,L,B);((le=ee.onVnodeUpdated)||re)&&wt(()=>{le&&kt(le,L,P,S),re&&Kt(P,S,L,"updated")},W)},T=(S,P,L,W,B,H,G)=>{for(let z=0;z<P.length;z++){const K=S[z],q=P[z],re=K.el&&(K.type===Ge||!Xt(K,q)||K.shapeFlag&198)?d(K.el):L;R(K,q,re,null,W,B,H,G,!0)}},A=(S,P,L,W,B)=>{if(P!==L){if(P!==ke)for(const H in P)!hs(H)&&!(H in L)&&i(S,H,P[H],null,B,W);for(const H in L){if(hs(H))continue;const G=L[H],z=P[H];G!==z&&H!=="value"&&i(S,H,z,G,B,W)}"value"in L&&i(S,"value",P.value,L.value,B)}},b=(S,P,L,W,B,H,G,z,K)=>{const q=P.el=S?S.el:l(""),re=P.anchor=S?S.anchor:l("");let{patchFlag:J,dynamicChildren:ee,slotScopeIds:le}=P;le&&(z=z?z.concat(le):le),S==null?(r(q,L,W),r(re,L,W),v(P.children||[],L,re,B,H,G,z,K)):J>0&&J&64&&ee&&S.dynamicChildren?(T(S.dynamicChildren,ee,L,B,H,G,z),(P.key!=null||B&&P===B.subTree)&&Yg(S,P,!0)):Z(S,P,L,re,B,H,G,z,K)},w=(S,P,L,W,B,H,G,z,K)=>{P.slotScopeIds=z,S==null?P.shapeFlag&512?B.ctx.activate(P,L,W,G,K):ce(P,L,W,B,H,G,K):Ee(S,P,K)},ce=(S,P,L,W,B,H,G)=>{const z=S.component=SE(S,W,B);if(Ki(S)&&(z.ctx.renderer=xn),RE(z,!1,G),z.asyncDep){if(B&&B.registerDep(z,te,G),!S.el){const K=z.subTree=Le(rt);O(null,K,P,L),S.placeholder=K.el}}else te(z,S,P,L,B,H,G)},Ee=(S,P,L)=>{const W=P.component=S.component;if(iE(S,P,L))if(W.asyncDep&&!W.asyncResolved){de(W,P,L);return}else W.next=P,W.update();else P.el=S.el,W.vnode=P},te=(S,P,L,W,B,H,G)=>{const z=()=>{if(S.isMounted){let{next:J,bu:ee,u:le,parent:me,vnode:Ae}=S;{const Xe=Zg(S);if(Xe){J&&(J.el=Ae.el,de(S,J,G)),Xe.asyncDep.then(()=>{S.isUnmounted||z()});return}}let Ie=J,ct;wr(S,!1),J?(J.el=Ae.el,de(S,J,G)):J=Ae,ee&&Do(ee),(ct=J.props&&J.props.onVnodeBeforeUpdate)&&kt(ct,me,J,Ae),wr(S,!0);const Je=Cl(S),vt=S.subTree;S.subTree=Je,R(vt,Je,d(vt.el),Pn(vt),S,B,H),J.el=Je.el,Ie===null&&Ua(S,Je.el),le&&wt(le,B),(ct=J.props&&J.props.onVnodeUpdated)&&wt(()=>kt(ct,me,J,Ae),B)}else{let J;const{el:ee,props:le}=P,{bm:me,m:Ae,parent:Ie,root:ct,type:Je}=S,vt=ps(P);if(wr(S,!1),me&&Do(me),!vt&&(J=le&&le.onVnodeBeforeMount)&&kt(J,Ie,P),wr(S,!0),ee&&zr){const Xe=()=>{S.subTree=Cl(S),zr(ee,S.subTree,S,B,null)};vt&&Je.__asyncHydrate?Je.__asyncHydrate(ee,S,Xe):Xe()}else{ct.ce&&ct.ce._def.shadowRoot!==!1&&ct.ce._injectChildStyle(Je);const Xe=S.subTree=Cl(S);R(null,Xe,L,W,S,B,H),P.el=Xe.el}if(Ae&&wt(Ae,B),!vt&&(J=le&&le.onVnodeMounted)){const Xe=P;wt(()=>kt(J,Ie,Xe),B)}(P.shapeFlag&256||Ie&&ps(Ie.vnode)&&Ie.vnode.shapeFlag&256)&&S.a&&wt(S.a,B),S.isMounted=!0,P=L=W=null}};S.scope.on();const K=S.effect=new Zp(z);S.scope.off();const q=S.update=K.run.bind(K),re=S.job=K.runIfDirty.bind(K);re.i=S,re.id=S.uid,K.scheduler=()=>tu(re),wr(S,!0),q()},de=(S,P,L)=>{P.component=S;const W=S.vnode.props;S.vnode=P,S.next=null,aE(S,P.props,W,L),hE(S,P.children,L),wn(),lf(S),En()},Z=(S,P,L,W,B,H,G,z,K=!1)=>{const q=S&&S.children,re=S?S.shapeFlag:0,J=P.children,{patchFlag:ee,shapeFlag:le}=P;if(ee>0){if(ee&128){qr(q,J,L,W,B,H,G,z,K);return}else if(ee&256){Ce(q,J,L,W,B,H,G,z,K);return}}le&8?(re&16&&cn(q,B,H),J!==q&&u(L,J)):re&16?le&16?qr(q,J,L,W,B,H,G,z,K):cn(q,B,H,!0):(re&8&&u(L,""),le&16&&v(J,L,W,B,H,G,z,K))},Ce=(S,P,L,W,B,H,G,z,K)=>{S=S||cs,P=P||cs;const q=S.length,re=P.length,J=Math.min(q,re);let ee;for(ee=0;ee<J;ee++){const le=P[ee]=K?Bn(P[ee]):Rt(P[ee]);R(S[ee],le,L,null,B,H,G,z,K)}q>re?cn(S,B,H,!0,!1,J):v(P,L,W,B,H,G,z,K,J)},qr=(S,P,L,W,B,H,G,z,K)=>{let q=0;const re=P.length;let J=S.length-1,ee=re-1;for(;q<=J&&q<=ee;){const le=S[q],me=P[q]=K?Bn(P[q]):Rt(P[q]);if(Xt(le,me))R(le,me,L,null,B,H,G,z,K);else break;q++}for(;q<=J&&q<=ee;){const le=S[J],me=P[ee]=K?Bn(P[ee]):Rt(P[ee]);if(Xt(le,me))R(le,me,L,null,B,H,G,z,K);else break;J--,ee--}if(q>J){if(q<=ee){const le=ee+1,me=le<re?P[le].el:W;for(;q<=ee;)R(null,P[q]=K?Bn(P[q]):Rt(P[q]),L,me,B,H,G,z,K),q++}}else if(q>ee)for(;q<=J;)It(S[q],B,H,!0),q++;else{const le=q,me=q,Ae=new Map;for(q=me;q<=ee;q++){const Be=P[q]=K?Bn(P[q]):Rt(P[q]);Be.key!=null&&Ae.set(Be.key,q)}let Ie,ct=0;const Je=ee-me+1;let vt=!1,Xe=0;const un=new Array(Je);for(q=0;q<Je;q++)un[q]=0;for(q=le;q<=J;q++){const Be=S[q];if(ct>=Je){It(Be,B,H,!0);continue}let At;if(Be.key!=null)At=Ae.get(Be.key);else for(Ie=me;Ie<=ee;Ie++)if(un[Ie-me]===0&&Xt(Be,P[Ie])){At=Ie;break}At===void 0?It(Be,B,H,!0):(un[At-me]=q+1,At>=Xe?Xe=At:vt=!0,R(Be,P[At],L,null,B,H,G,z,K),ct++)}const Gr=vt?pE(un):cs;for(Ie=Gr.length-1,q=Je-1;q>=0;q--){const Be=me+q,At=P[Be],gr=P[Be+1],Ks=Be+1<re?gr.el||gr.placeholder:W;un[q]===0?R(null,At,L,Ks,B,H,G,z,K):vt&&(Ie<0||q!==Gr[Ie]?qt(At,L,Ks,2):Ie--)}}},qt=(S,P,L,W,B=null)=>{const{el:H,type:G,transition:z,children:K,shapeFlag:q}=S;if(q&6){qt(S.component.subTree,P,L,W);return}if(q&128){S.suspense.move(P,L,W);return}if(q&64){G.move(S,P,L,xn);return}if(G===Ge){r(H,P,L);for(let J=0;J<K.length;J++)qt(K[J],P,L,W);r(S.anchor,P,L);return}if(G===wi){C(S,P,L);return}if(W!==2&&q&1&&z)if(W===0)z.beforeEnter(H),r(H,P,L),wt(()=>z.enter(H),B);else{const{leave:J,delayLeave:ee,afterLeave:le}=z,me=()=>{S.ctx.isUnmounted?s(H):r(H,P,L)},Ae=()=>{H._isLeaving&&H[pn](!0),J(H,()=>{me(),le&&le()})};ee?ee(H,me,Ae):Ae()}else r(H,P,L)},It=(S,P,L,W=!1,B=!1)=>{const{type:H,props:G,ref:z,children:K,dynamicChildren:q,shapeFlag:re,patchFlag:J,dirs:ee,cacheIndex:le}=S;if(J===-2&&(B=!1),z!=null&&(wn(),ds(z,null,L,S,!0),En()),le!=null&&(P.renderCache[le]=void 0),re&256){P.ctx.deactivate(S);return}const me=re&1&&ee,Ae=!ps(S);let Ie;if(Ae&&(Ie=G&&G.onVnodeBeforeUnmount)&&kt(Ie,P,S),re&6)Ws(S.component,L,W);else{if(re&128){S.suspense.unmount(L,W);return}me&&Kt(S,null,P,"beforeUnmount"),re&64?S.type.remove(S,P,L,xn,W):q&&!q.hasOnce&&(H!==Ge||J>0&&J&64)?cn(q,P,L,!1,!0):(H===Ge&&J&384||!B&&re&16)&&cn(K,P,L),W&&qs(S)}(Ae&&(Ie=G&&G.onVnodeUnmounted)||me)&&wt(()=>{Ie&&kt(Ie,P,S),me&&Kt(S,null,P,"unmounted")},L)},qs=S=>{const{type:P,el:L,anchor:W,transition:B}=S;if(P===Ge){Wr(L,W);return}if(P===wi){k(S);return}const H=()=>{s(L),B&&!B.persisted&&B.afterLeave&&B.afterLeave()};if(S.shapeFlag&1&&B&&!B.persisted){const{leave:G,delayLeave:z}=B,K=()=>G(L,H);z?z(S.el,H,K):K()}else H()},Wr=(S,P)=>{let L;for(;S!==P;)L=g(S),s(S),S=L;s(P)},Ws=(S,P,L)=>{const{bum:W,scope:B,job:H,subTree:G,um:z,m:K,a:q}=S;Ef(K),Ef(q),W&&Do(W),B.stop(),H&&(H.flags|=8,It(G,S,P,L)),z&&wt(z,P),wt(()=>{S.isUnmounted=!0},P)},cn=(S,P,L,W=!1,B=!1,H=0)=>{for(let G=H;G<S.length;G++)It(S[G],P,L,W,B)},Pn=S=>{if(S.shapeFlag&6)return Pn(S.component.subTree);if(S.shapeFlag&128)return S.suspense.next();const P=g(S.anchor||S.el),L=P&&P[Iw];return L?g(L):P};let pr=!1;const zs=(S,P,L)=>{S==null?P._vnode&&It(P._vnode,null,null,!0):R(P._vnode||null,S,P,null,null,null,L),P._vnode=S,pr||(pr=!0,lf(),Yo(),pr=!1)},xn={p:R,um:It,m:qt,r:qs,mt:ce,mc:v,pc:Z,pbc:T,n:Pn,o:t};let Gs,zr;return e&&([Gs,zr]=e(xn)),{render:zs,hydrate:Gs,createApp:Kw(zs,Gs)}}function Pl({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function wr({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Xg(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Yg(t,e,n=!1){const r=t.children,s=e.children;if(ae(r)&&ae(s))for(let i=0;i<r.length;i++){const o=r[i];let l=s[i];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=s[i]=Bn(s[i]),l.el=o.el),!n&&l.patchFlag!==-2&&Yg(o,l)),l.type===xr&&l.patchFlag!==-1&&(l.el=o.el),l.type===rt&&!l.el&&(l.el=o.el)}}function pE(t){const e=t.slice(),n=[0];let r,s,i,o,l;const c=t.length;for(r=0;r<c;r++){const h=t[r];if(h!==0){if(s=n[n.length-1],t[s]<h){e[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)l=i+o>>1,t[n[l]]<h?i=l+1:o=l;h<t[n[i]]&&(i>0&&(e[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}function Zg(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Zg(e)}function Ef(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const em=t=>t.__isSuspense;let oc=0;const gE={name:"Suspense",__isSuspense:!0,process(t,e,n,r,s,i,o,l,c,h){if(t==null)_E(e,n,r,s,i,o,l,c,h);else{if(i&&i.deps>0&&!t.suspense.isInFallback){e.suspense=t.suspense,e.suspense.vnode=e,e.el=t.el;return}yE(t,e,n,r,s,o,l,c,h)}},hydrate:vE,normalize:wE},mE=gE;function Di(t,e){const n=t.props&&t.props[e];ie(n)&&n()}function _E(t,e,n,r,s,i,o,l,c){const{p:h,o:{createElement:u}}=c,d=u("div"),g=t.suspense=tm(t,s,r,e,d,n,i,o,l,c);h(null,g.pendingBranch=t.ssContent,d,null,r,g,i,o),g.deps>0?(Di(t,"onPending"),Di(t,"onFallback"),h(null,t.ssFallback,e,n,r,null,i,o),ms(g,t.ssFallback)):g.resolve(!1,!0)}function yE(t,e,n,r,s,i,o,l,{p:c,um:h,o:{createElement:u}}){const d=e.suspense=t.suspense;d.vnode=e,e.el=t.el;const g=e.ssContent,m=e.ssFallback,{activeBranch:I,pendingBranch:R,isInFallback:N,isHydrating:O}=d;if(R)d.pendingBranch=g,Xt(R,g)?(c(R,g,d.hiddenContainer,null,s,d,i,o,l),d.deps<=0?d.resolve():N&&(O||(c(I,m,n,r,s,null,i,o,l),ms(d,m)))):(d.pendingId=oc++,O?(d.isHydrating=!1,d.activeBranch=R):h(R,s,d),d.deps=0,d.effects.length=0,d.hiddenContainer=u("div"),N?(c(null,g,d.hiddenContainer,null,s,d,i,o,l),d.deps<=0?d.resolve():(c(I,m,n,r,s,null,i,o,l),ms(d,m))):I&&Xt(I,g)?(c(I,g,n,r,s,d,i,o,l),d.resolve(!0)):(c(null,g,d.hiddenContainer,null,s,d,i,o,l),d.deps<=0&&d.resolve()));else if(I&&Xt(I,g))c(I,g,n,r,s,d,i,o,l),ms(d,g);else if(Di(e,"onPending"),d.pendingBranch=g,g.shapeFlag&512?d.pendingId=g.component.suspenseId:d.pendingId=oc++,c(null,g,d.hiddenContainer,null,s,d,i,o,l),d.deps<=0)d.resolve();else{const{timeout:D,pendingId:C}=d;D>0?setTimeout(()=>{d.pendingId===C&&d.fallback(m)},D):D===0&&d.fallback(m)}}function tm(t,e,n,r,s,i,o,l,c,h,u=!1){const{p:d,m:g,um:m,n:I,o:{parentNode:R,remove:N}}=h;let O;const D=EE(t);D&&e&&e.pendingBranch&&(O=e.pendingId,e.deps++);const C=t.props?Gp(t.props.timeout):void 0,k=i,M={vnode:t,parent:e,parentComponent:n,namespace:o,container:r,hiddenContainer:s,deps:0,pendingId:oc++,timeout:typeof C=="number"?C:-1,activeBranch:null,pendingBranch:null,isInFallback:!u,isHydrating:u,isUnmounted:!1,effects:[],resolve(j=!1,E=!1){const{vnode:v,activeBranch:y,pendingBranch:T,pendingId:A,effects:b,parentComponent:w,container:ce,isInFallback:Ee}=M;let te=!1;M.isHydrating?M.isHydrating=!1:j||(te=y&&T.transition&&T.transition.mode==="out-in",te&&(y.transition.afterLeave=()=>{A===M.pendingId&&(g(T,ce,i===k?I(y):i,0),ec(b),Ee&&v.ssFallback&&(v.ssFallback.el=null))}),y&&(R(y.el)===ce&&(i=I(y)),m(y,w,M,!0),!te&&Ee&&v.ssFallback&&wt(()=>v.ssFallback.el=null,M)),te||g(T,ce,i,0)),ms(M,T),M.pendingBranch=null,M.isInFallback=!1;let de=M.parent,Z=!1;for(;de;){if(de.pendingBranch){de.effects.push(...b),Z=!0;break}de=de.parent}!Z&&!te&&ec(b),M.effects=[],D&&e&&e.pendingBranch&&O===e.pendingId&&(e.deps--,e.deps===0&&!E&&e.resolve()),Di(v,"onResolve")},fallback(j){if(!M.pendingBranch)return;const{vnode:E,activeBranch:v,parentComponent:y,container:T,namespace:A}=M;Di(E,"onFallback");const b=I(v),w=()=>{M.isInFallback&&(d(null,j,T,b,y,null,A,l,c),ms(M,j))},ce=j.transition&&j.transition.mode==="out-in";ce&&(v.transition.afterLeave=w),M.isInFallback=!0,m(v,y,null,!0),ce||w()},move(j,E,v){M.activeBranch&&g(M.activeBranch,j,E,v),M.container=j},next(){return M.activeBranch&&I(M.activeBranch)},registerDep(j,E,v){const y=!!M.pendingBranch;y&&M.deps++;const T=j.vnode.el;j.asyncDep.catch(A=>{Vs(A,j,0)}).then(A=>{if(j.isUnmounted||M.isUnmounted||M.pendingId!==j.suspenseId)return;j.asyncResolved=!0;const{vnode:b}=j;cc(j,A),T&&(b.el=T);const w=!T&&j.subTree.el;E(j,b,R(T||j.subTree.el),T?null:I(j.subTree),M,o,v),w&&(b.placeholder=null,N(w)),Ua(j,b.el),y&&--M.deps===0&&M.resolve()})},unmount(j,E){M.isUnmounted=!0,M.activeBranch&&m(M.activeBranch,n,j,E),M.pendingBranch&&m(M.pendingBranch,n,j,E)}};return M}function vE(t,e,n,r,s,i,o,l,c){const h=e.suspense=tm(e,r,n,t.parentNode,document.createElement("div"),null,s,i,o,l,!0),u=c(t,h.pendingBranch=e.ssContent,n,h,i,o);return h.deps===0&&h.resolve(!1,!0),u}function wE(t){const{shapeFlag:e,children:n}=t,r=e&32;t.ssContent=Tf(r?n.default:n),t.ssFallback=r?Tf(n.fallback):Le(rt)}function Tf(t){let e;if(ie(t)){const n=Ts&&t._c;n&&(t._d=!1,se()),t=t(),n&&(t._d=!0,e=bt,rm())}return ae(t)&&(t=nE(t)),t=Rt(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function nm(t,e){e&&e.pendingBranch?ae(t)?e.effects.push(...t):e.effects.push(t):ec(t)}function ms(t,e){t.activeBranch=e;const{vnode:n,parentComponent:r}=t;let s=e.el;for(;!s&&e.component;)e=e.component.subTree,s=e.el;n.el=s,r&&r.subTree===n&&(r.vnode.el=s,Ua(r,s))}function EE(t){const e=t.props&&t.props.suspensible;return e!=null&&e!==!1}const Ge=Symbol.for("v-fgt"),xr=Symbol.for("v-txt"),rt=Symbol.for("v-cmt"),wi=Symbol.for("v-stc"),Ei=[];let bt=null;function se(t=!1){Ei.push(bt=t?null:[])}function rm(){Ei.pop(),bt=Ei[Ei.length-1]||null}let Ts=1;function na(t,e=!1){Ts+=t,t<0&&bt&&e&&(bt.hasOnce=!0)}function sm(t){return t.dynamicChildren=Ts>0?bt||cs:null,rm(),Ts>0&&bt&&bt.push(t),t}function ge(t,e,n,r,s,i){return sm(F(t,e,n,r,s,i,!0))}function Jt(t,e,n,r,s){return sm(Le(t,e,n,r,s,!0))}function Vi(t){return t?t.__v_isVNode===!0:!1}function Xt(t,e){return t.type===e.type&&t.key===e.key}const im=({key:t})=>t??null,Oo=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Fe(t)||We(t)||ie(t)?{i:Ct,r:t,k:e,f:!!n}:t:null);function F(t,e=null,n=null,r=0,s=null,i=t===Ge?0:1,o=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&im(e),ref:e&&Oo(e),scopeId:wg,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Ct};return l?(cu(c,n),i&128&&t.normalize(c)):n&&(c.shapeFlag|=Fe(n)?8:16),Ts>0&&!o&&bt&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&bt.push(c),c}const Le=TE;function TE(t,e=null,n=null,r=0,s=null,i=!1){if((!t||t===Vg)&&(t=rt),Vi(t)){const l=sr(t,e,!0);return n&&cu(l,n),Ts>0&&!i&&bt&&(l.shapeFlag&6?bt[bt.indexOf(t)]=l:bt.push(l)),l.patchFlag=-2,l}if(NE(t)&&(t=t.__vccOpts),e){e=om(e);let{class:l,style:c}=e;l&&!Fe(l)&&(e.class=Da(l)),Ne(c)&&(Oa(c)&&!ae(c)&&(c=st({},c)),e.style=Na(c))}const o=Fe(t)?1:em(t)?128:Eg(t)?64:Ne(t)?4:ie(t)?2:0;return F(t,e,n,r,s,o,i,!0)}function om(t){return t?Oa(t)||qg(t)?st({},t):t:null}function sr(t,e,n=!1,r=!1){const{props:s,ref:i,patchFlag:o,children:l,transition:c}=t,h=e?bE(s||{},e):s,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:h,key:h&&im(h),ref:e&&e.ref?n&&i?ae(i)?i.concat(Oo(e)):[i,Oo(e)]:Oo(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:l,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ge?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:c,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&sr(t.ssContent),ssFallback:t.ssFallback&&sr(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return c&&r&&Ni(u,c.clone(u)),u}function jn(t=" ",e=0){return Le(xr,null,t,e)}function ac(t,e){const n=Le(wi,null,t);return n.staticCount=e,n}function Ut(t="",e=!1){return e?(se(),Jt(rt,null,t)):Le(rt,null,t)}function Rt(t){return t==null||typeof t=="boolean"?Le(rt):ae(t)?Le(Ge,null,t.slice()):Vi(t)?Bn(t):Le(xr,null,String(t))}function Bn(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:sr(t)}function cu(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(ae(e))n=16;else if(typeof e=="object")if(r&65){const s=e.default;s&&(s._c&&(s._d=!1),cu(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!qg(e)?e._ctx=Ct:s===3&&Ct&&(Ct.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ie(e)?(e={default:e,_ctx:Ct},n=32):(e=String(e),r&64?(n=16,e=[jn(e)]):n=8);t.children=e,t.shapeFlag|=n}function bE(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const s in r)if(s==="class")e.class!==r.class&&(e.class=Da([e.class,r.class]));else if(s==="style")e.style=Na([e.style,r.style]);else if(zi(s)){const i=e[s],o=r[s];o&&i!==o&&!(ae(i)&&i.includes(o))&&(e[s]=i?[].concat(i,o):o)}else s!==""&&(e[s]=r[s])}return e}function kt(t,e,n,r=null){Bt(t,e,7,[n,r])}const IE=Fg();let AE=0;function SE(t,e,n){const r=t.type,s=(e?e.appContext:t.appContext)||IE,i={uid:AE++,vnode:t,type:r,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Xp(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:zg(r,s),emitsOptions:jg(r,s),emit:null,emitted:null,propsDefaults:ke,inheritAttrs:r.inheritAttrs,ctx:ke,data:ke,props:ke,attrs:ke,slots:ke,refs:ke,setupState:ke,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=eE.bind(null,i),t.ce&&t.ce(i),i}let ot=null;const Qi=()=>ot||Ct;let ra,lc;{const t=ka(),e=(n,r)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(r),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};ra=e("__VUE_INSTANCE_SETTERS__",n=>ot=n),lc=e("__VUE_SSR_SETTERS__",n=>bs=n)}const Ji=t=>{const e=ot;return ra(t),t.scope.on(),()=>{t.scope.off(),ra(e)}},bf=()=>{ot&&ot.scope.off(),ra(null)};function am(t){return t.vnode.shapeFlag&4}let bs=!1;function RE(t,e=!1,n=!1){e&&lc(e);const{props:r,children:s}=t.vnode,i=am(t);oE(t,r,i,e),uE(t,s,n||e);const o=i?CE(t,e):void 0;return e&&lc(!1),o}function CE(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,jw);const{setup:r}=n;if(r){wn();const s=t.setupContext=r.length>1?xE(t):null,i=Ji(t),o=Gi(r,t,0,[t.props,s]),l=Hp(o);if(En(),i(),(l||t.sp)&&!ps(t)&&ru(t),l){if(o.then(bf,bf),e)return o.then(c=>{cc(t,c)}).catch(c=>{Vs(c,t,0)});t.asyncDep=o}else cc(t,o)}else lm(t)}function cc(t,e,n){ie(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ne(e)&&(t.setupState=pg(e)),lm(t)}function lm(t,e,n){const r=t.type;t.render||(t.render=r.render||Yt);{const s=Ji(t);wn();try{Bw(t)}finally{En(),s()}}}const PE={get(t,e){return ft(t,"get",""),t[e]}};function xE(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,PE),slots:t.slots,emit:t.emit,expose:e}}function $a(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(pg(hw(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in vi)return vi[n](t)},has(e,n){return n in e||n in vi}})):t.proxy}function kE(t,e=!0){return ie(t)?t.displayName||t.name:t.name||e&&t.__name}function NE(t){return ie(t)&&"__vccOpts"in t}const ja=(t,e)=>vw(t,e,bs);function cm(t,e,n){try{na(-1);const r=arguments.length;return r===2?Ne(e)&&!ae(e)?Vi(e)?Le(t,null,[e]):Le(t,e):Le(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Vi(n)&&(n=[n]),Le(t,e,n))}finally{na(1)}}const DE="3.5.25";let uc;const If=typeof window<"u"&&window.trustedTypes;if(If)try{uc=If.createPolicy("vue",{createHTML:t=>t})}catch{}const um=uc?t=>uc.createHTML(t):t=>t,VE="http://www.w3.org/2000/svg",OE="http://www.w3.org/1998/Math/MathML",dn=typeof document<"u"?document:null,Af=dn&&dn.createElement("template"),ME={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const s=e==="svg"?dn.createElementNS(VE,t):e==="mathml"?dn.createElementNS(OE,t):n?dn.createElement(t,{is:n}):dn.createElement(t);return t==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:t=>dn.createTextNode(t),createComment:t=>dn.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>dn.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,s,i){const o=n?n.previousSibling:e.lastChild;if(s&&(s===i||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{Af.innerHTML=um(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const l=Af.content;if(r==="svg"||r==="mathml"){const c=l.firstChild;for(;c.firstChild;)l.appendChild(c.firstChild);l.removeChild(c)}e.insertBefore(l,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Ln="transition",ui="animation",Oi=Symbol("_vtc"),hm={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},LE=st({},Tg,hm),FE=t=>(t.displayName="Transition",t.props=LE,t),UE=FE((t,{slots:e})=>cm(Rw,$E(t),e)),Er=(t,e=[])=>{ae(t)?t.forEach(n=>n(...e)):t&&t(...e)},Sf=t=>t?ae(t)?t.some(e=>e.length>1):t.length>1:!1;function $E(t){const e={};for(const b in t)b in hm||(e[b]=t[b]);if(t.css===!1)return e;const{name:n="v",type:r,duration:s,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:c=i,appearActiveClass:h=o,appearToClass:u=l,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:g=`${n}-leave-active`,leaveToClass:m=`${n}-leave-to`}=t,I=jE(s),R=I&&I[0],N=I&&I[1],{onBeforeEnter:O,onEnter:D,onEnterCancelled:C,onLeave:k,onLeaveCancelled:M,onBeforeAppear:j=O,onAppear:E=D,onAppearCancelled:v=C}=e,y=(b,w,ce,Ee)=>{b._enterCancelled=Ee,Tr(b,w?u:l),Tr(b,w?h:o),ce&&ce()},T=(b,w)=>{b._isLeaving=!1,Tr(b,d),Tr(b,m),Tr(b,g),w&&w()},A=b=>(w,ce)=>{const Ee=b?E:D,te=()=>y(w,b,ce);Er(Ee,[w,te]),Rf(()=>{Tr(w,b?c:i),fn(w,b?u:l),Sf(Ee)||Cf(w,r,R,te)})};return st(e,{onBeforeEnter(b){Er(O,[b]),fn(b,i),fn(b,o)},onBeforeAppear(b){Er(j,[b]),fn(b,c),fn(b,h)},onEnter:A(!1),onAppear:A(!0),onLeave(b,w){b._isLeaving=!0;const ce=()=>T(b,w);fn(b,d),b._enterCancelled?(fn(b,g),kf(b)):(kf(b),fn(b,g)),Rf(()=>{b._isLeaving&&(Tr(b,d),fn(b,m),Sf(k)||Cf(b,r,N,ce))}),Er(k,[b,ce])},onEnterCancelled(b){y(b,!1,void 0,!0),Er(C,[b])},onAppearCancelled(b){y(b,!0,void 0,!0),Er(v,[b])},onLeaveCancelled(b){T(b),Er(M,[b])}})}function jE(t){if(t==null)return null;if(Ne(t))return[xl(t.enter),xl(t.leave)];{const e=xl(t);return[e,e]}}function xl(t){return Gp(t)}function fn(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Oi]||(t[Oi]=new Set)).add(e)}function Tr(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[Oi];n&&(n.delete(e),n.size||(t[Oi]=void 0))}function Rf(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let BE=0;function Cf(t,e,n,r){const s=t._endId=++BE,i=()=>{s===t._endId&&r()};if(n!=null)return setTimeout(i,n);const{type:o,timeout:l,propCount:c}=HE(t,e);if(!o)return r();const h=o+"end";let u=0;const d=()=>{t.removeEventListener(h,g),i()},g=m=>{m.target===t&&++u>=c&&d()};setTimeout(()=>{u<c&&d()},l+1),t.addEventListener(h,g)}function HE(t,e){const n=window.getComputedStyle(t),r=I=>(n[I]||"").split(", "),s=r(`${Ln}Delay`),i=r(`${Ln}Duration`),o=Pf(s,i),l=r(`${ui}Delay`),c=r(`${ui}Duration`),h=Pf(l,c);let u=null,d=0,g=0;e===Ln?o>0&&(u=Ln,d=o,g=i.length):e===ui?h>0&&(u=ui,d=h,g=c.length):(d=Math.max(o,h),u=d>0?o>h?Ln:ui:null,g=u?u===Ln?i.length:c.length:0);const m=u===Ln&&/\b(?:transform|all)(?:,|$)/.test(r(`${Ln}Property`).toString());return{type:u,timeout:d,propCount:g,hasTransform:m}}function Pf(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>xf(n)+xf(t[r])))}function xf(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function kf(t){return(t?t.ownerDocument:document).body.offsetHeight}function qE(t,e,n){const r=t[Oi];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Nf=Symbol("_vod"),WE=Symbol("_vsh"),zE=Symbol(""),GE=/(?:^|;)\s*display\s*:/;function KE(t,e,n){const r=t.style,s=Fe(n);let i=!1;if(n&&!s){if(e)if(Fe(e))for(const o of e.split(";")){const l=o.slice(0,o.indexOf(":")).trim();n[l]==null&&Mo(r,l,"")}else for(const o in e)n[o]==null&&Mo(r,o,"");for(const o in n)o==="display"&&(i=!0),Mo(r,o,n[o])}else if(s){if(e!==n){const o=r[zE];o&&(n+=";"+o),r.cssText=n,i=GE.test(n)}}else e&&t.removeAttribute("style");Nf in t&&(t[Nf]=i?r.display:"",t[WE]&&(r.display="none"))}const Df=/\s*!important$/;function Mo(t,e,n){if(ae(n))n.forEach(r=>Mo(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=QE(t,e);Df.test(n)?t.setProperty(fr(r),n.replace(Df,""),"important"):t[r]=n}}const Vf=["Webkit","Moz","ms"],kl={};function QE(t,e){const n=kl[e];if(n)return n;let r=Vt(e);if(r!=="filter"&&r in t)return kl[e]=r;r=xa(r);for(let s=0;s<Vf.length;s++){const i=Vf[s]+r;if(i in t)return kl[e]=i}return e}const Of="http://www.w3.org/1999/xlink";function Mf(t,e,n,r,s,i=qv(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Of,e.slice(6,e.length)):t.setAttributeNS(Of,e,n):n==null||i&&!Kp(n)?t.removeAttribute(e):t.setAttribute(e,i?"":hr(n)?String(n):n)}function Lf(t,e,n,r,s){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?um(n):n);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const l=i==="OPTION"?t.getAttribute("value")||"":t.value,c=n==null?t.type==="checkbox"?"on":"":String(n);(l!==c||!("_value"in t))&&(t.value=c),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const l=typeof t[e];l==="boolean"?n=Kp(n):n==null&&l==="string"?(n="",o=!0):l==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(s||e)}function es(t,e,n,r){t.addEventListener(e,n,r)}function JE(t,e,n,r){t.removeEventListener(e,n,r)}const Ff=Symbol("_vei");function XE(t,e,n,r,s=null){const i=t[Ff]||(t[Ff]={}),o=i[e];if(r&&o)o.value=r;else{const[l,c]=YE(e);if(r){const h=i[e]=tT(r,s);es(t,l,h,c)}else o&&(JE(t,l,o,c),i[e]=void 0)}}const Uf=/(?:Once|Passive|Capture)$/;function YE(t){let e;if(Uf.test(t)){e={};let r;for(;r=t.match(Uf);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):fr(t.slice(2)),e]}let Nl=0;const ZE=Promise.resolve(),eT=()=>Nl||(ZE.then(()=>Nl=0),Nl=Date.now());function tT(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Bt(nT(r,n.value),e,5,[r])};return n.value=t,n.attached=eT(),n}function nT(t,e){if(ae(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>s=>!s._stopped&&r&&r(s))}else return e}const $f=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,rT=(t,e,n,r,s,i)=>{const o=s==="svg";e==="class"?qE(t,r,o):e==="style"?KE(t,n,r):zi(e)?zc(e)||XE(t,e,n,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):sT(t,e,r,o))?(Lf(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Mf(t,e,r,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Fe(r))?Lf(t,Vt(e),r,i,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Mf(t,e,r,o))};function sT(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&$f(e)&&ie(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="sandbox"&&t.tagName==="IFRAME"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return $f(e)&&Fe(n)?!1:e in t}const jf=t=>{const e=t.props["onUpdate:modelValue"]||!1;return ae(e)?n=>Do(e,n):e};function iT(t){t.target.composing=!0}function Bf(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Dl=Symbol("_assign");function Hf(t,e,n){return e&&(t=t.trim()),n&&(t=Kc(t)),t}const ls={created(t,{modifiers:{lazy:e,trim:n,number:r}},s){t[Dl]=jf(s);const i=r||s.props&&s.props.type==="number";es(t,e?"change":"input",o=>{o.target.composing||t[Dl](Hf(t.value,n,i))}),(n||i)&&es(t,"change",()=>{t.value=Hf(t.value,n,i)}),e||(es(t,"compositionstart",iT),es(t,"compositionend",Bf),es(t,"change",Bf))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:s,number:i}},o){if(t[Dl]=jf(o),t.composing)return;const l=(i||t.type==="number")&&!/^0\d/.test(t.value)?Kc(t.value):t.value,c=e??"";l!==c&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||s&&t.value.trim()===c)||(t.value=c))}},oT=["ctrl","shift","alt","meta"],aT={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>oT.some(n=>t[`${n}Key`]&&!e.includes(n))},lT=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=((s,...i)=>{for(let o=0;o<e.length;o++){const l=aT[e[o]];if(l&&l(s,e))return}return t(s,...i)}))},cT={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},uT=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=(s=>{if(!("key"in s))return;const i=fr(s.key);if(e.some(o=>o===i||cT[o]===i))return t(s)}))},fm=st({patchProp:rT},ME);let Ti,qf=!1;function hT(){return Ti||(Ti=fE(fm))}function fT(){return Ti=qf?Ti:dE(fm),qf=!0,Ti}const dT=((...t)=>{const e=hT().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=pm(r);if(!s)return;const i=e._component;!ie(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=n(s,!1,dm(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e}),pT=((...t)=>{const e=fT().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=pm(r);if(s)return n(s,!0,dm(s))},e});function dm(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function pm(t){return Fe(t)?document.querySelector(t):t}const gT=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,mT=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,_T=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function yT(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){vT(t);return}return e}function vT(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function sa(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const n=t.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!_T.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(gT.test(t)||mT.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,yT)}return JSON.parse(t)}catch(r){if(e.strict)throw r;return t}}const wT=/#/g,ET=/&/g,TT=/\//g,bT=/=/g,uu=/\+/g,IT=/%5e/gi,AT=/%60/gi,ST=/%7c/gi,RT=/%20/gi;function CT(t){return encodeURI(""+t).replace(ST,"|")}function hc(t){return CT(typeof t=="string"?t:JSON.stringify(t)).replace(uu,"%2B").replace(RT,"+").replace(wT,"%23").replace(ET,"%26").replace(AT,"`").replace(IT,"^").replace(TT,"%2F")}function Vl(t){return hc(t).replace(bT,"%3D")}function ia(t=""){try{return decodeURIComponent(""+t)}catch{return""+t}}function PT(t){return ia(t.replace(uu," "))}function xT(t){return ia(t.replace(uu," "))}function hu(t=""){const e=Object.create(null);t[0]==="?"&&(t=t.slice(1));for(const n of t.split("&")){const r=n.match(/([^=]+)=?(.*)/)||[];if(r.length<2)continue;const s=PT(r[1]);if(s==="__proto__"||s==="constructor")continue;const i=xT(r[2]||"");e[s]===void 0?e[s]=i:Array.isArray(e[s])?e[s].push(i):e[s]=[e[s],i]}return e}function kT(t,e){return(typeof e=="number"||typeof e=="boolean")&&(e=String(e)),e?Array.isArray(e)?e.map(n=>`${Vl(t)}=${hc(n)}`).join("&"):`${Vl(t)}=${hc(e)}`:Vl(t)}function gm(t){return Object.keys(t).filter(e=>t[e]!==void 0).map(e=>kT(e,t[e])).filter(Boolean).join("&")}const NT=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,DT=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,VT=/^([/\\]\s*){2,}[^/\\]/,OT=/^[\s\0]*(blob|data|javascript|vbscript):$/i,MT=/\/$|\/\?|\/#/,LT=/^\.?\//;function Os(t,e={}){return typeof e=="boolean"&&(e={acceptRelative:e}),e.strict?NT.test(t):DT.test(t)||(e.acceptRelative?VT.test(t):!1)}function FT(t){return!!t&&OT.test(t)}function fc(t="",e){return e?MT.test(t):t.endsWith("/")}function mm(t="",e){if(!e)return(fc(t)?t.slice(0,-1):t)||"/";if(!fc(t,!0))return t||"/";let n=t,r="";const s=t.indexOf("#");s!==-1&&(n=t.slice(0,s),r=t.slice(s));const[i,...o]=n.split("?");return((i.endsWith("/")?i.slice(0,-1):i)||"/")+(o.length>0?`?${o.join("?")}`:"")+r}function dc(t="",e){if(!e)return t.endsWith("/")?t:t+"/";if(fc(t,!0))return t||"/";let n=t,r="";const s=t.indexOf("#");if(s!==-1&&(n=t.slice(0,s),r=t.slice(s),!n))return r;const[i,...o]=n.split("?");return i+"/"+(o.length>0?`?${o.join("?")}`:"")+r}function UT(t=""){return t.startsWith("/")}function Wf(t=""){return UT(t)?t:"/"+t}function $T(t,e){if(ym(e)||Os(t))return t;const n=mm(e);return t.startsWith(n)?t:Ba(n,t)}function jT(t,e){if(ym(e))return t;const n=mm(e);if(!t.startsWith(n))return t;const r=t.slice(n.length);return r[0]==="/"?r:"/"+r}function _m(t,e){const n=Em(t),r={...hu(n.search),...e};return n.search=gm(r),Tm(n)}function ym(t){return!t||t==="/"}function BT(t){return t&&t!=="/"}function Ba(t,...e){let n=t||"";for(const r of e.filter(s=>BT(s)))if(n){const s=r.replace(LT,"");n=dc(n)+s}else n=r;return n}function vm(...t){const e=/\/(?!\/)/,n=t.filter(Boolean),r=[];let s=0;for(const o of n)if(!(!o||o==="/")){for(const[l,c]of o.split(e).entries())if(!(!c||c===".")){if(c===".."){if(r.length===1&&Os(r[0]))continue;r.pop(),s--;continue}if(l===1&&r[r.length-1]?.endsWith(":/")){r[r.length-1]+="/"+c;continue}r.push(c),s++}}let i=r.join("/");return s>=0?n[0]?.startsWith("/")&&!i.startsWith("/")?i="/"+i:n[0]?.startsWith("./")&&!i.startsWith("./")&&(i="./"+i):i="../".repeat(-1*s)+i,n[n.length-1]?.endsWith("/")&&!i.endsWith("/")&&(i+="/"),i}function HT(t,e,n={}){return n.trailingSlash||(t=dc(t),e=dc(e)),n.leadingSlash||(t=Wf(t),e=Wf(e)),n.encoding||(t=ia(t),e=ia(e)),t===e}const wm=Symbol.for("ufo:protocolRelative");function Em(t="",e){const n=t.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(n){const[,d,g=""]=n;return{protocol:d.toLowerCase(),pathname:g,href:d+g,auth:"",host:"",search:"",hash:""}}if(!Os(t,{acceptRelative:!0}))return zf(t);const[,r="",s,i=""]=t.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[];let[,o="",l=""]=i.match(/([^#/?]*)(.*)?/)||[];r==="file:"&&(l=l.replace(/\/(?=[A-Za-z]:)/,""));const{pathname:c,search:h,hash:u}=zf(l);return{protocol:r.toLowerCase(),auth:s?s.slice(0,Math.max(0,s.length-1)):"",host:o,pathname:c,search:h,hash:u,[wm]:!r}}function zf(t=""){const[e="",n="",r=""]=(t.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:e,search:n,hash:r}}function Tm(t){const e=t.pathname||"",n=t.search?(t.search.startsWith("?")?"":"?")+t.search:"",r=t.hash||"",s=t.auth?t.auth+"@":"",i=t.host||"";return(t.protocol||t[wm]?(t.protocol||"")+"//":"")+s+i+e+n+r}class qT extends Error{constructor(e,n){super(e,n),this.name="FetchError",n?.cause&&!this.cause&&(this.cause=n.cause)}}function WT(t){const e=t.error?.message||t.error?.toString()||"",n=t.request?.method||t.options?.method||"GET",r=t.request?.url||String(t.request)||"/",s=`[${n}] ${JSON.stringify(r)}`,i=t.response?`${t.response.status} ${t.response.statusText}`:"<no response>",o=`${s}: ${i}${e?` ${e}`:""}`,l=new qT(o,t.error?{cause:t.error}:void 0);for(const c of["request","options","response"])Object.defineProperty(l,c,{get(){return t[c]}});for(const[c,h]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(l,c,{get(){return t.response&&t.response[h]}});return l}const zT=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function Gf(t="GET"){return zT.has(t.toUpperCase())}function GT(t){if(t===void 0)return!1;const e=typeof t;return e==="string"||e==="number"||e==="boolean"||e===null?!0:e!=="object"?!1:Array.isArray(t)?!0:t.buffer||t instanceof FormData||t instanceof URLSearchParams?!1:t.constructor&&t.constructor.name==="Object"||typeof t.toJSON=="function"}const KT=new Set(["image/svg","application/xml","application/xhtml","application/html"]),QT=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function JT(t=""){if(!t)return"json";const e=t.split(";").shift()||"";return QT.test(e)?"json":e==="text/event-stream"?"stream":KT.has(e)||e.startsWith("text/")?"text":"blob"}function XT(t,e,n,r){const s=YT(e?.headers??t?.headers,n?.headers,r);let i;return(n?.query||n?.params||e?.params||e?.query)&&(i={...n?.params,...n?.query,...e?.params,...e?.query}),{...n,...e,query:i,params:i,headers:s}}function YT(t,e,n){if(!e)return new n(t);const r=new n(e);if(t)for(const[s,i]of Symbol.iterator in t||Array.isArray(t)?t:new n(t))r.set(s,i);return r}async function Ao(t,e){if(e)if(Array.isArray(e))for(const n of e)await n(t);else await e(t)}const ZT=new Set([408,409,425,429,500,502,503,504]),e0=new Set([101,204,205,304]);function bm(t={}){const{fetch:e=globalThis.fetch,Headers:n=globalThis.Headers,AbortController:r=globalThis.AbortController}=t;async function s(l){const c=l.error&&l.error.name==="AbortError"&&!l.options.timeout||!1;if(l.options.retry!==!1&&!c){let u;typeof l.options.retry=="number"?u=l.options.retry:u=Gf(l.options.method)?0:1;const d=l.response&&l.response.status||500;if(u>0&&(Array.isArray(l.options.retryStatusCodes)?l.options.retryStatusCodes.includes(d):ZT.has(d))){const g=typeof l.options.retryDelay=="function"?l.options.retryDelay(l):l.options.retryDelay||0;return g>0&&await new Promise(m=>setTimeout(m,g)),i(l.request,{...l.options,retry:u-1})}}const h=WT(l);throw Error.captureStackTrace&&Error.captureStackTrace(h,i),h}const i=async function(c,h={}){const u={request:c,options:XT(c,h,t.defaults,n),response:void 0,error:void 0};if(u.options.method&&(u.options.method=u.options.method.toUpperCase()),u.options.onRequest&&(await Ao(u,u.options.onRequest),u.options.headers instanceof n||(u.options.headers=new n(u.options.headers||{}))),typeof u.request=="string"&&(u.options.baseURL&&(u.request=$T(u.request,u.options.baseURL)),u.options.query&&(u.request=_m(u.request,u.options.query),delete u.options.query),"query"in u.options&&delete u.options.query,"params"in u.options&&delete u.options.params),u.options.body&&Gf(u.options.method))if(GT(u.options.body)){const m=u.options.headers.get("content-type");typeof u.options.body!="string"&&(u.options.body=m==="application/x-www-form-urlencoded"?new URLSearchParams(u.options.body).toString():JSON.stringify(u.options.body)),m||u.options.headers.set("content-type","application/json"),u.options.headers.has("accept")||u.options.headers.set("accept","application/json")}else("pipeTo"in u.options.body&&typeof u.options.body.pipeTo=="function"||typeof u.options.body.pipe=="function")&&("duplex"in u.options||(u.options.duplex="half"));let d;if(!u.options.signal&&u.options.timeout){const m=new r;d=setTimeout(()=>{const I=new Error("[TimeoutError]: The operation was aborted due to timeout");I.name="TimeoutError",I.code=23,m.abort(I)},u.options.timeout),u.options.signal=m.signal}try{u.response=await e(u.request,u.options)}catch(m){return u.error=m,u.options.onRequestError&&await Ao(u,u.options.onRequestError),await s(u)}finally{d&&clearTimeout(d)}if((u.response.body||u.response._bodyInit)&&!e0.has(u.response.status)&&u.options.method!=="HEAD"){const m=(u.options.parseResponse?"json":u.options.responseType)||JT(u.response.headers.get("content-type")||"");switch(m){case"json":{const I=await u.response.text(),R=u.options.parseResponse||sa;u.response._data=R(I);break}case"stream":{u.response._data=u.response.body||u.response._bodyInit;break}default:u.response._data=await u.response[m]()}}return u.options.onResponse&&await Ao(u,u.options.onResponse),!u.options.ignoreResponseError&&u.response.status>=400&&u.response.status<600?(u.options.onResponseError&&await Ao(u,u.options.onResponseError),await s(u)):u.response},o=async function(c,h){return(await i(c,h))._data};return o.raw=i,o.native=(...l)=>e(...l),o.create=(l={},c={})=>bm({...t,...c,defaults:{...t.defaults,...c.defaults,...l}}),o}const oa=(function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")})(),t0=oa.fetch?(...t)=>oa.fetch(...t):()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!")),n0=oa.Headers,r0=oa.AbortController,s0=bm({fetch:t0,Headers:n0,AbortController:r0}),i0=s0,o0=()=>window?.__NUXT__?.config||window?.useNuxtApp?.().payload?.config,fu=()=>o0().app,a0=()=>fu().baseURL,l0=()=>fu().buildAssetsDir,du=(...t)=>vm(Im(),l0(),...t),Im=(...t)=>{const e=fu(),n=e.cdnURL||e.baseURL;return t.length?vm(n,...t):n};globalThis.__buildAssetsURL=du,globalThis.__publicAssetsURL=Im;globalThis.$fetch||(globalThis.$fetch=i0.create({baseURL:a0()}));"global"in globalThis||(globalThis.global=globalThis);function pc(t,e={},n){for(const r in t){const s=t[r],i=n?`${n}:${r}`:r;typeof s=="object"&&s!==null?pc(s,e,i):typeof s=="function"&&(e[i]=s)}return e}const c0={run:t=>t()},u0=()=>c0,Am=typeof console.createTask<"u"?console.createTask:u0;function h0(t,e){const n=e.shift(),r=Am(n);return t.reduce((s,i)=>s.then(()=>r.run(()=>i(...e))),Promise.resolve())}function f0(t,e){const n=e.shift(),r=Am(n);return Promise.all(t.map(s=>r.run(()=>s(...e))))}function Ol(t,e){for(const n of[...t])n(e)}class d0{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(e,n,r={}){if(!e||typeof n!="function")return()=>{};const s=e;let i;for(;this._deprecatedHooks[e];)i=this._deprecatedHooks[e],e=i.to;if(i&&!r.allowDeprecated){let o=i.message;o||(o=`${s} hook has been deprecated`+(i.to?`, please use ${i.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(o)||(console.warn(o),this._deprecatedMessages.add(o))}if(!n.name)try{Object.defineProperty(n,"name",{get:()=>"_"+e.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[e]=this._hooks[e]||[],this._hooks[e].push(n),()=>{n&&(this.removeHook(e,n),n=void 0)}}hookOnce(e,n){let r,s=(...i)=>(typeof r=="function"&&r(),r=void 0,s=void 0,n(...i));return r=this.hook(e,s),r}removeHook(e,n){if(this._hooks[e]){const r=this._hooks[e].indexOf(n);r!==-1&&this._hooks[e].splice(r,1),this._hooks[e].length===0&&delete this._hooks[e]}}deprecateHook(e,n){this._deprecatedHooks[e]=typeof n=="string"?{to:n}:n;const r=this._hooks[e]||[];delete this._hooks[e];for(const s of r)this.hook(e,s)}deprecateHooks(e){Object.assign(this._deprecatedHooks,e);for(const n in e)this.deprecateHook(n,e[n])}addHooks(e){const n=pc(e),r=Object.keys(n).map(s=>this.hook(s,n[s]));return()=>{for(const s of r.splice(0,r.length))s()}}removeHooks(e){const n=pc(e);for(const r in n)this.removeHook(r,n[r])}removeAllHooks(){for(const e in this._hooks)delete this._hooks[e]}callHook(e,...n){return n.unshift(e),this.callHookWith(h0,e,...n)}callHookParallel(e,...n){return n.unshift(e),this.callHookWith(f0,e,...n)}callHookWith(e,n,...r){const s=this._before||this._after?{name:n,args:r,context:{}}:void 0;this._before&&Ol(this._before,s);const i=e(n in this._hooks?[...this._hooks[n]]:[],r);return i instanceof Promise?i.finally(()=>{this._after&&s&&Ol(this._after,s)}):(this._after&&s&&Ol(this._after,s),i)}beforeEach(e){return this._before=this._before||[],this._before.push(e),()=>{if(this._before!==void 0){const n=this._before.indexOf(e);n!==-1&&this._before.splice(n,1)}}}afterEach(e){return this._after=this._after||[],this._after.push(e),()=>{if(this._after!==void 0){const n=this._after.indexOf(e);n!==-1&&this._after.splice(n,1)}}}}function Sm(){return new d0}function p0(t={}){let e,n=!1;const r=o=>{if(e&&e!==o)throw new Error("Context conflict")};let s;if(t.asyncContext){const o=t.AsyncLocalStorage||globalThis.AsyncLocalStorage;o?s=new o:console.warn("[unctx] `AsyncLocalStorage` is not provided.")}const i=()=>{if(s){const o=s.getStore();if(o!==void 0)return o}return e};return{use:()=>{const o=i();if(o===void 0)throw new Error("Context is not available");return o},tryUse:()=>i(),set:(o,l)=>{l||r(o),e=o,n=!0},unset:()=>{e=void 0,n=!1},call:(o,l)=>{r(o),e=o;try{return s?s.run(o,l):l()}finally{n||(e=void 0)}},async callAsync(o,l){e=o;const c=()=>{e=o},h=()=>e===o?c:void 0;gc.add(h);try{const u=s?s.run(o,l):l();return n||(e=void 0),await u}finally{gc.delete(h)}}}}function g0(t={}){const e={};return{get(n,r={}){return e[n]||(e[n]=p0({...t,...r})),e[n]}}}const aa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof global<"u"?global:typeof window<"u"?window:{},Kf="__unctx__",m0=aa[Kf]||(aa[Kf]=g0()),_0=(t,e={})=>m0.get(t,e),Qf="__unctx_async_handlers__",gc=aa[Qf]||(aa[Qf]=new Set);function Rm(t){const e=[];for(const s of gc){const i=s();i&&e.push(i)}const n=()=>{for(const s of e)s()};let r=t();return r&&typeof r=="object"&&"catch"in r&&(r=r.catch(s=>{throw n(),s})),[r,n]}const Jf={id:"__nuxt-loader"},qk={componentName:"NuxtLink",prefetch:!0,prefetchOn:{visibility:!0}},y0="#__nuxt",Cm="nuxt-app",Xf=36e5,v0="vite:preloadError";function Pm(t=Cm){return _0(t,{asyncContext:!1})}const w0="__nuxt_plugin";function E0(t){let e=0;const n={_id:t.id||Cm||"nuxt-app",_scope:Wv(),provide:void 0,versions:{get nuxt(){return"4.2.1"},get vue(){return n.vueApp.version}},payload:is({...t.ssrContext?.payload||{},data:is({}),state:rr({}),once:new Set,_errors:is({})}),static:{data:{}},runWithContext(s){return n._scope.active&&!Yp()?n._scope.run(()=>Yf(n,s)):Yf(n,s)},isHydrating:!0,deferHydration(){if(!n.isHydrating)return()=>{};e++;let s=!1;return()=>{if(!s&&(s=!0,e--,e===0))return n.isHydrating=!1,n.callHook("app:suspense:resolve")}},_asyncDataPromises:{},_asyncData:is({}),_payloadRevivers:{},...t};{const s=window.__NUXT__;if(s)for(const i in s)switch(i){case"data":case"state":case"_errors":Object.assign(n.payload[i],s[i]);break;default:n.payload[i]=s[i]}}n.hooks=Sm(),n.hook=n.hooks.hook,n.callHook=n.hooks.callHook,n.provide=(s,i)=>{const o="$"+s;So(n,o,i),So(n.vueApp.config.globalProperties,o,i)},So(n.vueApp,"$nuxt",n),So(n.vueApp.config.globalProperties,"$nuxt",n);{window.addEventListener(v0,i=>{n.callHook("app:chunkError",{error:i.payload}),i.payload.message.includes("Unable to preload CSS")&&i.preventDefault()}),window.useNuxtApp||=je;const s=n.hook("app:error",(...i)=>{console.error("[nuxt] error caught during app initialization",...i)});n.hook("app:mounted",s)}const r=n.payload.config;return n.provide("config",r),n}function T0(t,e){e.hooks&&t.hooks.addHooks(e.hooks)}async function b0(t,e){if(typeof e=="function"){const{provide:n}=await t.runWithContext(()=>e(t))||{};if(n&&typeof n=="object")for(const r in n)t.provide(r,n[r])}}async function I0(t,e){const n=new Set,r=[],s=[];let i,o=0;async function l(c){const h=c.dependsOn?.filter(u=>e.some(d=>d._name===u)&&!n.has(u))??[];if(h.length>0)r.push([new Set(h),c]);else{const u=b0(t,c).then(async()=>{c._name&&(n.add(c._name),await Promise.all(r.map(async([d,g])=>{d.has(c._name)&&(d.delete(c._name),d.size===0&&(o++,await l(g)))})))}).catch(d=>{if(!c.parallel&&!t.payload.error)throw d;i||=d});c.parallel?s.push(u):await u}}for(const c of e)T0(t,c);for(const c of e)await l(c);if(await Promise.all(s),o)for(let c=0;c<o;c++)await Promise.all(s);if(i)throw t.payload.error||i}function Rn(t){if(typeof t=="function")return t;const e=t._name||t.name;return delete t.name,Object.assign(t.setup||(()=>{}),t,{[w0]:!0,_name:e})}function Yf(t,e,n){const r=()=>e();return Pm(t._id).set(t),t.vueApp.runWithContext(r)}function A0(t){let e;return iu()&&(e=Qi()?.appContext.app.$nuxt),e||=Pm(t).tryUse(),e||null}function je(t){const e=A0(t);if(!e)throw new Error("[nuxt] instance unavailable");return e}function Is(t){return je().$config}function So(t,e,n){Object.defineProperty(t,e,{get:()=>n})}function S0(t,e){return{ctx:{table:t},matchAll:n=>km(n,t)}}function xm(t){const e={};for(const n in t)e[n]=n==="dynamic"?new Map(Object.entries(t[n]).map(([r,s])=>[r,xm(s)])):new Map(Object.entries(t[n]));return e}function R0(t){return S0(xm(t))}function km(t,e,n){t.endsWith("/")&&(t=t.slice(0,-1)||"/");const r=[];for(const[i,o]of Zf(e.wildcard))(t===i||t.startsWith(i+"/"))&&r.push(o);for(const[i,o]of Zf(e.dynamic))if(t.startsWith(i+"/")){const l="/"+t.slice(i.length).split("/").splice(2).join("/");r.push(...km(l,o))}const s=e.static.get(t);return s&&r.push(s),r.filter(Boolean)}function Zf(t){return[...t.entries()].sort((e,n)=>e[0].length-n[0].length)}function Ml(t){if(t===null||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e!==null&&e!==Object.prototype&&Object.getPrototypeOf(e)!==null||Symbol.iterator in t?!1:Symbol.toStringTag in t?Object.prototype.toString.call(t)==="[object Module]":!0}function mc(t,e,n=".",r){if(!Ml(e))return mc(t,{},n,r);const s=Object.assign({},e);for(const i in t){if(i==="__proto__"||i==="constructor")continue;const o=t[i];o!=null&&(r&&r(s,i,o,n)||(Array.isArray(o)&&Array.isArray(s[i])?s[i]=[...o,...s[i]]:Ml(o)&&Ml(s[i])?s[i]=mc(o,s[i],(n?`${n}.`:"")+i.toString(),r):s[i]=o))}return s}function C0(t){return(...e)=>e.reduce((n,r)=>mc(n,r,"",t),{})}const P0=C0();function x0(t,e){try{return e in t}catch{return!1}}class ed extends Error{static __h3_error__=!0;statusCode=500;fatal=!1;unhandled=!1;statusMessage;data;cause;constructor(e,n={}){super(e,n),n.cause&&!this.cause&&(this.cause=n.cause)}toJSON(){const e={message:this.message,statusCode:_c(this.statusCode,500)};return this.statusMessage&&(e.statusMessage=Nm(this.statusMessage)),this.data!==void 0&&(e.data=this.data),e}}function k0(t){if(typeof t=="string")return new ed(t);if(N0(t))return t;const e=new ed(t.message??t.statusMessage??"",{cause:t.cause||t});if(x0(t,"stack"))try{Object.defineProperty(e,"stack",{get(){return t.stack}})}catch{try{e.stack=t.stack}catch{}}if(t.data&&(e.data=t.data),t.statusCode?e.statusCode=_c(t.statusCode,e.statusCode):t.status&&(e.statusCode=_c(t.status,e.statusCode)),t.statusMessage?e.statusMessage=t.statusMessage:t.statusText&&(e.statusMessage=t.statusText),e.statusMessage){const n=e.statusMessage;Nm(e.statusMessage)!==n&&console.warn("[h3] Please prefer using `message` for longer error messages instead of `statusMessage`. In the future, `statusMessage` will be sanitized by default.")}return t.fatal!==void 0&&(e.fatal=t.fatal),t.unhandled!==void 0&&(e.unhandled=t.unhandled),e}function N0(t){return t?.constructor?.__h3_error__===!0}const D0=/[^\u0009\u0020-\u007E]/g;function Nm(t=""){return t.replace(D0,"")}function _c(t,e=200){return!t||(typeof t=="string"&&(t=Number.parseInt(t,10)),t<100||t>999)?e:t}const Dm=Symbol("route");import.meta.url.replace(/\/app\/.*$/,"/");const Vr=()=>je()?.$router,Vm=()=>iu()?gs(Dm,je()._route):je()._route;const V0=()=>{try{if(je()._processingMiddleware)return!0}catch{return!1}return!1},O0=(t,e)=>{t||="/";const n=typeof t=="string"?t:"path"in t?M0(t):Vr().resolve(t).href;if(e?.open){const{target:c="_blank",windowFeatures:h={}}=e.open,u=[];for(const[d,g]of Object.entries(h))g!==void 0&&u.push(`${d.toLowerCase()}=${g}`);return open(n,c,u.join(", ")),Promise.resolve()}const r=Os(n,{acceptRelative:!0}),s=e?.external||r;if(s){if(!e?.external)throw new Error("Navigating to an external URL is not allowed by default. Use `navigateTo(url, { external: true })`.");const{protocol:c}=new URL(n,window.location.href);if(c&&FT(c))throw new Error(`Cannot navigate to a URL with '${c}' protocol.`)}const i=V0();if(!s&&i){if(e?.replace){if(typeof t=="string"){const{pathname:c,search:h,hash:u}=Em(t);return{path:c,...h&&{query:hu(h)},...u&&{hash:u},replace:!0}}return{...t,replace:!0}}return t}const o=Vr(),l=je();return s?(l._scope.stop(),e?.replace?location.replace(n):location.href=n,i?l.isHydrating?new Promise(()=>{}):!1:Promise.resolve()):e?.replace?o.replace(t):o.push(t)};function M0(t){return _m(t.path||"",t.query||{})+(t.hash||"")}const Om="__nuxt_error",pu=()=>gg(je().payload,"error"),L0=t=>{const e=gu(t);try{const n=pu();je().hooks.callHook("app:error",e),n.value||=e}catch{throw e}return e},F0=async(t={})=>{const e=je(),n=pu();e.callHook("app:error:cleared",t),t.redirect&&await Vr().replace(t.redirect),n.value=void 0},U0=t=>!!t&&typeof t=="object"&&Om in t,gu=t=>{const e=k0(t);return Object.defineProperty(e,Om,{value:!0,configurable:!1,writable:!1}),e};function $0(t){const e=B0(t),n=new ArrayBuffer(e.length),r=new DataView(n);for(let s=0;s<n.byteLength;s++)r.setUint8(s,e.charCodeAt(s));return n}const j0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function B0(t){t.length%4===0&&(t=t.replace(/==?$/,""));let e="",n=0,r=0;for(let s=0;s<t.length;s++)n<<=6,n|=j0.indexOf(t[s]),r+=6,r===24&&(e+=String.fromCharCode((n&16711680)>>16),e+=String.fromCharCode((n&65280)>>8),e+=String.fromCharCode(n&255),n=r=0);return r===12?(n>>=4,e+=String.fromCharCode(n)):r===18&&(n>>=2,e+=String.fromCharCode((n&65280)>>8),e+=String.fromCharCode(n&255)),e}const H0=-1,q0=-2,W0=-3,z0=-4,G0=-5,K0=-6;function Q0(t,e){return J0(JSON.parse(t),e)}function J0(t,e){if(typeof t=="number")return s(t,!0);if(!Array.isArray(t)||t.length===0)throw new Error("Invalid input");const n=t,r=Array(n.length);function s(i,o=!1){if(i===H0)return;if(i===W0)return NaN;if(i===z0)return 1/0;if(i===G0)return-1/0;if(i===K0)return-0;if(o||typeof i!="number")throw new Error("Invalid input");if(i in r)return r[i];const l=n[i];if(!l||typeof l!="object")r[i]=l;else if(Array.isArray(l))if(typeof l[0]=="string"){const c=l[0],h=e?.[c];if(h){let u=l[1];return typeof u!="number"&&(u=n.push(l[1])-1),r[i]=h(s(u))}switch(c){case"Date":r[i]=new Date(l[1]);break;case"Set":const u=new Set;r[i]=u;for(let m=1;m<l.length;m+=1)u.add(s(l[m]));break;case"Map":const d=new Map;r[i]=d;for(let m=1;m<l.length;m+=2)d.set(s(l[m]),s(l[m+1]));break;case"RegExp":r[i]=new RegExp(l[1],l[2]);break;case"Object":r[i]=Object(l[1]);break;case"BigInt":r[i]=BigInt(l[1]);break;case"null":const g=Object.create(null);r[i]=g;for(let m=1;m<l.length;m+=2)g[l[m]]=s(l[m+1]);break;case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":{const m=globalThis[c],I=new m(s(l[1]));r[i]=l[2]!==void 0?I.subarray(l[2],l[3]):I;break}case"ArrayBuffer":{const m=l[1],I=$0(m);r[i]=I;break}case"Temporal.Duration":case"Temporal.Instant":case"Temporal.PlainDate":case"Temporal.PlainTime":case"Temporal.PlainDateTime":case"Temporal.PlainMonthDay":case"Temporal.PlainYearMonth":case"Temporal.ZonedDateTime":{const m=c.slice(9);r[i]=Temporal[m].from(l[1]);break}case"URL":{const m=new URL(l[1]);r[i]=m;break}case"URLSearchParams":{const m=new URLSearchParams(l[1]);r[i]=m;break}default:throw new Error(`Unknown type ${c}`)}}else{const c=new Array(l.length);r[i]=c;for(let h=0;h<l.length;h+=1){const u=l[h];u!==q0&&(c[h]=s(u))}}else{const c={};r[i]=c;for(const h in l){if(h==="__proto__")throw new Error("Cannot parse an object with a `__proto__` property");const u=l[h];c[h]=s(u)}}return r[i]}return s(0)}const X0=new Set(["link","style","script","noscript"]),Y0=new Set(["title","titleTemplate","script","style","noscript"]),td=new Set(["base","meta","link","style","script","noscript"]),Z0=new Set(["title","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"]),eb=new Set(["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"]),tb=new Set(["key","tagPosition","tagPriority","tagDuplicateStrategy","innerHTML","textContent","processTemplateParams"]),nb=new Set(["templateParams","htmlAttrs","bodyAttrs"]),rb=new Set(["theme-color","google-site-verification","og","article","book","profile","twitter","author"]),sb=["name","property","http-equiv"],ib=new Set(["viewport","description","keywords","robots"]);function Mm(t){const e=t.split(":");return e.length?rb.has(e[1]):!1}function yc(t){const{props:e,tag:n}=t;if(eb.has(n))return n;if(n==="link"&&e.rel==="canonical")return"canonical";if(e.charset)return"charset";if(t.tag==="meta"){for(const r of sb)if(e[r]!==void 0){const s=e[r],i=s.includes(":"),o=ib.has(s),c=!(i||o)&&t.key?`:key:${t.key}`:"";return`${n}:${s}${c}`}}if(t.key)return`${n}:key:${t.key}`;if(e.id)return`${n}:id:${e.id}`;if(Y0.has(n)){const r=t.textContent||t.innerHTML;if(r)return`${n}:content:${r}`}}function nd(t){const e=t._h||t._d;if(e)return e;const n=t.textContent||t.innerHTML;return n||`${t.tag}:${Object.entries(t.props).map(([r,s])=>`${r}:${String(s)}`).join(",")}`}function la(t,e,n){typeof t==="function"&&(!n||n!=="titleTemplate"&&!(n[0]==="o"&&n[1]==="n"))&&(t=t());let s;if(e&&(s=e(n,t)),Array.isArray(s))return s.map(i=>la(i,e));if(s?.constructor===Object){const i={};for(const o of Object.keys(s))i[o]=la(s[o],e,o);return i}return s}function ob(t,e){const n=t==="style"?new Map:new Set;function r(s){const i=s.trim();if(i)if(t==="style"){const[o,...l]=i.split(":").map(c=>c.trim());o&&l.length&&n.set(o,l.join(":"))}else i.split(" ").filter(Boolean).forEach(o=>n.add(o))}return typeof e=="string"?t==="style"?e.split(";").forEach(r):r(e):Array.isArray(e)?e.forEach(s=>r(s)):e&&typeof e=="object"&&Object.entries(e).forEach(([s,i])=>{i&&i!=="false"&&(t==="style"?n.set(s.trim(),i):r(s))}),n}function Lm(t,e){return t.props=t.props||{},e?t.tag==="templateParams"?(t.props=e,t):(Object.entries(e).forEach(([n,r])=>{if(r===null){t.props[n]=null;return}if(n==="class"||n==="style"){t.props[n]=ob(n,r);return}if(tb.has(n)){if(["textContent","innerHTML"].includes(n)&&typeof r=="object"){let o=e.type;if(e.type||(o="application/json"),!o?.endsWith("json")&&o!=="speculationrules")return;e.type=o,t.props.type=o,t[n]=JSON.stringify(r)}else t[n]=r;return}const s=String(r),i=n.startsWith("data-");s==="true"||s===""?t.props[n]=i?s:!0:!r&&i&&s==="false"?t.props[n]="false":r!==void 0&&(t.props[n]=r)}),t):t}function ab(t,e){const n=typeof e=="object"&&typeof e!="function"?e:{[t==="script"||t==="noscript"||t==="style"?"innerHTML":"textContent"]:e},r=Lm({tag:t,props:{}},n);return r.key&&X0.has(r.tag)&&(r.props["data-hid"]=r._h=r.key),r.tag==="script"&&typeof r.innerHTML=="object"&&(r.innerHTML=JSON.stringify(r.innerHTML),r.props.type=r.props.type||"application/json"),Array.isArray(r.props.content)?r.props.content.map(s=>({...r,props:{...r.props,content:s}})):r}function lb(t,e){if(!t)return[];typeof t=="function"&&(t=t());const n=(s,i)=>{for(let o=0;o<e.length;o++)i=e[o](s,i);return i};t=n(void 0,t);const r=[];return t=la(t,n),Object.entries(t||{}).forEach(([s,i])=>{if(i!==void 0)for(const o of Array.isArray(i)?i:[i])r.push(ab(s,o))}),r.flat()}const rd=(t,e)=>t._w===e._w?t._p-e._p:t._w-e._w,sd={base:-10,title:10},cb={critical:-8,high:-1,low:2},id={meta:{"content-security-policy":-30,charset:-20,viewport:-15},link:{preconnect:20,stylesheet:60,preload:70,modulepreload:70,prefetch:90,"dns-prefetch":90,prerender:90},script:{async:30,defer:80,sync:50},style:{imported:40,sync:60}},ub=/@import/,hi=t=>t===""||t===!0;function hb(t,e){if(typeof e.tagPriority=="number")return e.tagPriority;let n=100;const r=cb[e.tagPriority]||0,s=t.resolvedOptions.disableCapoSorting?{link:{},script:{},style:{}}:id;if(e.tag in sd)n=sd[e.tag];else if(e.tag==="meta"){const i=e.props["http-equiv"]==="content-security-policy"?"content-security-policy":e.props.charset?"charset":e.props.name==="viewport"?"viewport":null;i&&(n=id.meta[i])}else e.tag==="link"&&e.props.rel?n=s.link[e.props.rel]:e.tag==="script"?hi(e.props.async)?n=s.script.async:e.props.src&&!hi(e.props.defer)&&!hi(e.props.async)&&e.props.type!=="module"&&!e.props.type?.endsWith("json")?n=s.script.sync:hi(e.props.defer)&&e.props.src&&!hi(e.props.async)&&(n=s.script.defer):e.tag==="style"&&(n=e.innerHTML&&ub.test(e.innerHTML)?s.style.imported:s.style.sync);return(n||100)+r}function od(t,e){const n=typeof e=="function"?e(t):e,r=n.key||String(t.plugins.size+1);t.plugins.get(r)||(t.plugins.set(r,n),t.hooks.addHooks(n.hooks||{}))}function fb(t={}){const e=Sm();e.addHooks(t.hooks||{});const n=!t.document,r=new Map,s=new Map,i=new Set,o={_entryCount:1,plugins:s,dirty:!1,resolvedOptions:t,hooks:e,ssr:n,entries:r,headEntries(){return[...r.values()]},use:l=>od(o,l),push(l,c){const h={...c||{}};delete h.head;const u=h._index??o._entryCount++,d={_i:u,input:l,options:h},g={_poll(m=!1){o.dirty=!0,!m&&i.add(u),e.callHook("entries:updated",o)},dispose(){r.delete(u)&&o.invalidate()},patch(m){(!h.mode||h.mode==="server"&&n||h.mode==="client"&&!n)&&(d.input=m,r.set(u,d),g._poll())}};return g.patch(l),g},async resolveTags(){const l={tagMap:new Map,tags:[],entries:[...o.entries.values()]};for(await e.callHook("entries:resolve",l);i.size;){const g=i.values().next().value;i.delete(g);const m=r.get(g);if(m){const I={tags:lb(m.input,t.propResolvers||[]).map(R=>Object.assign(R,m.options)),entry:m};await e.callHook("entries:normalize",I),m._tags=I.tags.map((R,N)=>(R._w=hb(o,R),R._p=(m._i<<10)+N,R._d=yc(R),R))}}let c=!1;l.entries.flatMap(g=>(g._tags||[]).map(m=>({...m,props:{...m.props}}))).sort(rd).reduce((g,m)=>{const I=String(m._d||m._p);if(!g.has(I))return g.set(I,m);const R=g.get(I);if((m?.tagDuplicateStrategy||(nb.has(m.tag)?"merge":null)||(m.key&&m.key===R.key?"merge":null))==="merge"){const O={...R.props};Object.entries(m.props).forEach(([D,C])=>O[D]=D==="style"?new Map([...R.props.style||new Map,...C]):D==="class"?new Set([...R.props.class||new Set,...C]):C),g.set(I,{...m,props:O})}else m._p>>10===R._p>>10&&m.tag==="meta"&&Mm(I)?(g.set(I,Object.assign([...Array.isArray(R)?R:[R],m],m)),c=!0):(m._w===R._w?m._p>R._p:m?._w<R?._w)&&g.set(I,m);return g},l.tagMap);const h=l.tagMap.get("title"),u=l.tagMap.get("titleTemplate");if(o._title=h?.textContent,u){const g=u?.textContent;if(o._titleTemplate=g,g){let m=typeof g=="function"?g(h?.textContent):g;typeof m=="string"&&!o.plugins.has("template-params")&&(m=m.replace("%s",h?.textContent||"")),h?m===null?l.tagMap.delete("title"):l.tagMap.set("title",{...h,textContent:m}):(u.tag="title",u.textContent=m)}}l.tags=Array.from(l.tagMap.values()),c&&(l.tags=l.tags.flat().sort(rd)),await e.callHook("tags:beforeResolve",l),await e.callHook("tags:resolve",l),await e.callHook("tags:afterResolve",l);const d=[];for(const g of l.tags){const{innerHTML:m,tag:I,props:R}=g;if(Z0.has(I)&&!(Object.keys(R).length===0&&!g.innerHTML&&!g.textContent)&&!(I==="meta"&&!R.content&&!R["http-equiv"]&&!R.charset)){if(I==="script"&&m){if(R.type?.endsWith("json")){const N=typeof m=="string"?m:JSON.stringify(m);g.innerHTML=N.replace(/</g,"\\u003C")}else typeof m=="string"&&(g.innerHTML=m.replace(new RegExp(`</${I}`,"g"),`<\\/${I}`));g._d=yc(g)}d.push(g)}}return d},invalidate(){for(const l of r.values())i.add(l._i);o.dirty=!0,e.callHook("entries:updated",o)}};return(t?.plugins||[]).forEach(l=>od(o,l)),o.hooks.callHook("init",o),t.init?.forEach(l=>l&&o.push(l)),o}const db=(t,e)=>We(e)?dw(e):e,Fm="usehead";function pb(t){return{install(n){n.config.globalProperties.$unhead=t,n.config.globalProperties.$head=t,n.provide(Fm,t)}}.install}function gb(){if(iu()){const t=gs(Fm);if(!t)throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.");return t}throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.")}function Wk(t,e={}){const n=e.head||gb();return n.ssr?n.push(t||{},e):mb(n,t,e)}function mb(t,e,n={}){const r=qe(!1);let s;return Xw(()=>{const o=r.value?{}:la(e,db);s?s.patch(o):s=t.push(o,n)}),Qi()&&(su(()=>{s.dispose()}),Pg(()=>{r.value=!0}),Cg(()=>{r.value=!1})),s}let Lo,Fo;function _b(){return Lo=$fetch(du(`builds/meta/${Is().app.buildId}.json`),{responseType:"json"}),Lo.then(t=>{Fo=R0(t.matcher)}).catch(t=>{console.error("[nuxt] Error fetching app manifest.",t)}),Lo}function Ha(){return Lo||_b()}async function mu(t){const e=typeof t=="string"?t:t.path;if(await Ha(),!Fo)return console.error("[nuxt] Error creating app manifest matcher.",Fo),{};try{return P0({},...Fo.matchAll(e).reverse())}catch(n){return console.error("[nuxt] Error matching route rules.",n),{}}}async function ad(t,e={}){if(!await $m(t))return null;const r=await vb(t,e);return await Um(r)||null}const yb="_payload.json";async function vb(t,e={}){const n=new URL(t,"http://localhost");if(n.host!=="localhost"||Os(n.pathname,{acceptRelative:!0}))throw new Error("Payload URL must not include hostname: "+t);const r=Is(),s=e.hash||(e.fresh?Date.now():r.app.buildId),i=r.app.cdnURL,o=i&&await $m(t)?i:r.app.baseURL;return Ba(o,n.pathname,yb+(s?`?${s}`:""))}async function Um(t){const e=fetch(t,{cache:"force-cache"}).then(n=>n.text().then(jm));try{return await e}catch(n){console.warn("[nuxt] Cannot load payload ",t,n)}return null}async function $m(t=Vm().path){const e=je();return t=t==="/"?t:t.replace(/\/$/,""),(await Ha()).prerendered.includes(t)?!0:e.runWithContext(async()=>{const r=await mu({path:t});return!!r.prerender&&!r.redirect})}let br=null;async function wb(){if(br)return br;const t=document.getElementById("__NUXT_DATA__");if(!t)return{};const e=await jm(t.textContent||""),n=t.dataset.src?await Um(t.dataset.src):void 0;return br={...e,...n,...window.__NUXT__},br.config?.public&&(br.config.public=rr(br.config.public)),br}async function jm(t){return await Q0(t,je()._payloadRevivers)}function Eb(t,e){je()._payloadRevivers[t]=e}const Tb=[["NuxtError",t=>gu(t)],["EmptyShallowRef",t=>af(t==="_"?void 0:t==="0n"?BigInt(0):sa(t))],["EmptyRef",t=>qe(t==="_"?void 0:t==="0n"?BigInt(0):sa(t))],["ShallowRef",t=>af(t)],["ShallowReactive",t=>is(t)],["Ref",t=>qe(t)],["Reactive",t=>rr(t)]],bb=Rn({name:"nuxt:revive-payload:client",order:-30,async setup(t){let e,n;for(const[r,s]of Tb)Eb(r,s);Object.assign(t.payload,([e,n]=Rm(()=>t.runWithContext(wb)),e=await e,n(),e)),delete window.__NUXT__}});async function _u(t,e={}){const n=e.document||t.resolvedOptions.document;if(!n||!t.dirty)return;const r={shouldRender:!0,tags:[]};if(await t.hooks.callHook("dom:beforeRender",r),!!r.shouldRender)return t._domUpdatePromise||(t._domUpdatePromise=new Promise(async s=>{const i=new Map,o=new Promise(m=>{t.resolveTags().then(I=>{m(I.map(R=>{const N=i.get(R._d)||0,O={tag:R,id:(N?`${R._d}:${N}`:R._d)||nd(R),shouldRender:!0};return R._d&&Mm(R._d)&&i.set(R._d,N+1),O}))})});let l=t._dom;if(!l){l={title:n.title,elMap:new Map().set("htmlAttrs",n.documentElement).set("bodyAttrs",n.body)};for(const m of["body","head"]){const I=n[m]?.children;for(const R of I){const N=R.tagName.toLowerCase();if(!td.has(N))continue;const O=Lm({tag:N,props:{}},{innerHTML:R.innerHTML,...R.getAttributeNames().reduce((D,C)=>(D[C]=R.getAttribute(C),D),{})||{}});if(O.key=R.getAttribute("data-hid")||void 0,O._d=yc(O)||nd(O),l.elMap.has(O._d)){let D=1,C=O._d;for(;l.elMap.has(C);)C=`${O._d}:${D++}`;l.elMap.set(C,R)}else l.elMap.set(O._d,R)}}}l.pendingSideEffects={...l.sideEffects},l.sideEffects={};function c(m,I,R){const N=`${m}:${I}`;l.sideEffects[N]=R,delete l.pendingSideEffects[N]}function h({id:m,$el:I,tag:R}){const N=R.tag.endsWith("Attrs");l.elMap.set(m,I),N||(R.textContent&&R.textContent!==I.textContent&&(I.textContent=R.textContent),R.innerHTML&&R.innerHTML!==I.innerHTML&&(I.innerHTML=R.innerHTML),c(m,"el",()=>{I?.remove(),l.elMap.delete(m)}));for(const O in R.props){if(!Object.prototype.hasOwnProperty.call(R.props,O))continue;const D=R.props[O];if(O.startsWith("on")&&typeof D=="function"){const k=I?.dataset;if(k&&k[`${O}fired`]){const M=O.slice(0,-5);D.call(I,new Event(M.substring(2)))}I.getAttribute(`data-${O}`)!==""&&((R.tag==="bodyAttrs"?n.defaultView:I).addEventListener(O.substring(2),D.bind(I)),I.setAttribute(`data-${O}`,""));continue}const C=`attr:${O}`;if(O==="class"){if(!D)continue;for(const k of D)N&&c(m,`${C}:${k}`,()=>I.classList.remove(k)),!I.classList.contains(k)&&I.classList.add(k)}else if(O==="style"){if(!D)continue;for(const[k,M]of D)c(m,`${C}:${k}`,()=>{I.style.removeProperty(k)}),I.style.setProperty(k,M)}else D!==!1&&D!==null&&(I.getAttribute(O)!==D&&I.setAttribute(O,D===!0?"":String(D)),N&&c(m,C,()=>I.removeAttribute(O)))}}const u=[],d={bodyClose:void 0,bodyOpen:void 0,head:void 0},g=await o;for(const m of g){const{tag:I,shouldRender:R,id:N}=m;if(R){if(I.tag==="title"){n.title=I.textContent,c("title","",()=>n.title=l.title);continue}m.$el=m.$el||l.elMap.get(N),m.$el?h(m):td.has(I.tag)&&u.push(m)}}for(const m of u){const I=m.tag.tagPosition||"head";m.$el=n.createElement(m.tag.tag),h(m),d[I]=d[I]||n.createDocumentFragment(),d[I].appendChild(m.$el)}for(const m of g)await t.hooks.callHook("dom:renderTag",m,n,c);d.head&&n.head.appendChild(d.head),d.bodyOpen&&n.body.insertBefore(d.bodyOpen,n.body.firstChild),d.bodyClose&&n.body.appendChild(d.bodyClose);for(const m in l.pendingSideEffects)l.pendingSideEffects[m]();t._dom=l,await t.hooks.callHook("dom:rendered",{renders:g}),s()}).finally(()=>{t._domUpdatePromise=void 0,t.dirty=!1})),t._domUpdatePromise}function Ib(t={}){const e=t.domOptions?.render||_u;t.document=t.document||(typeof window<"u"?document:void 0);const n=t.document?.head.querySelector('script[id="unhead:payload"]')?.innerHTML||!1;return fb({...t,plugins:[...t.plugins||[],{key:"client",hooks:{"entries:updated":e}}],init:[n?JSON.parse(n):!1,...t.init||[]]})}function Ab(t,e){let n=0;return()=>{const r=++n;e(()=>{n===r&&t()})}}function Sb(t={}){const e=Ib({domOptions:{render:Ab(()=>_u(e),n=>setTimeout(n,0))},...t});return e.install=pb(e),e}const Rb={disableDefaults:!0},Cb=Rn({name:"nuxt:head",enforce:"pre",setup(t){const e=Sb(Rb);t.vueApp.use(e);{let n=!0;const r=async()=>{n=!1,await _u(e)};e.hooks.hook("dom:beforeRender",s=>{s.shouldRender=!n}),t.hooks.hook("page:start",()=>{n=!0}),t.hooks.hook("page:finish",()=>{t.isHydrating||r()}),t.hooks.hook("app:error",r),t.hooks.hook("app:suspense:resolve",r)}}}),Pb=async t=>{let e,n;const r=([e,n]=Rm(()=>mu({path:t.path})),e=await e,n(),e);if(r.redirect){const s=r.redirect.includes("#")?r.redirect:r.redirect+t.hash;return Os(s,{acceptRelative:!0})?(window.location.href=s,!1):s}},xb=[Pb];function Ll(t){const e=t&&typeof t=="object"?t:{};typeof t=="object"&&(t=Tm({pathname:t.path||"",search:gm(t.query||{}),hash:t.hash||""}));const n=new URL(t.toString(),window.location.href);return{path:n.pathname,fullPath:t,query:hu(n.search),hash:n.hash,params:e.params||{},name:void 0,matched:e.matched||[],redirectedFrom:void 0,meta:e.meta||{},href:t}}const kb=Rn({name:"nuxt:router",enforce:"pre",setup(t){const e=jT(window.location.pathname,Is().app.baseURL)+window.location.search+window.location.hash,n=[],r={"navigate:before":[],"resolve:before":[],"navigate:after":[],error:[]},s=(d,g)=>(r[d].push(g),()=>r[d].splice(r[d].indexOf(g),1)),i=Is().app.baseURL,o=rr(Ll(e));async function l(d,g){try{const m=Ll(d);for(const I of r["navigate:before"]){const R=await I(m,o);if(R===!1||R instanceof Error)return;if(typeof R=="string"&&R.length)return l(R,!0)}for(const I of r["resolve:before"])await I(m,o);Object.assign(o,m),window.history[g?"replaceState":"pushState"]({},"",Ba(i,m.fullPath)),t.isHydrating||await t.runWithContext(F0);for(const I of r["navigate:after"])await I(m,o)}catch(m){for(const I of r.error)await I(m)}}const h={currentRoute:ja(()=>o),isReady:()=>Promise.resolve(),options:{},install:()=>Promise.resolve(),push:d=>l(d,!1),replace:d=>l(d,!0),back:()=>window.history.go(-1),go:d=>window.history.go(d),forward:()=>window.history.go(1),beforeResolve:d=>s("resolve:before",d),beforeEach:d=>s("navigate:before",d),afterEach:d=>s("navigate:after",d),onError:d=>s("error",d),resolve:Ll,addRoute:(d,g)=>{n.push(g)},getRoutes:()=>n,hasRoute:d=>n.some(g=>g.name===d),removeRoute:d=>{const g=n.findIndex(m=>m.name===d);g!==-1&&n.splice(g,1)}};t.vueApp.component("RouterLink",Rg({functional:!0,props:{to:{type:String,required:!0},custom:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,ariaCurrentValue:String},setup:(d,{slots:g})=>{const m=()=>l(d.to,d.replace);return()=>{const I=h.resolve(d.to);return d.custom?g.default?.({href:d.to,navigate:m,route:I}):cm("a",{href:d.to,onClick:R=>(R.preventDefault(),m())},g)}}})),window.addEventListener("popstate",d=>{const g=d.target.location;h.replace(g.href.replace(g.origin,""))}),t._route=o,t._middleware||={global:[],named:{}};const u=t.payload.state._layout;return t.hooks.hookOnce("app:created",async()=>{h.beforeEach(async(d,g)=>{d.meta=rr(d.meta||{}),t.isHydrating&&u&&!on(d.meta.layout)&&(d.meta.layout=u),t._processingMiddleware=!0;{const m=new Set([...xb,...t._middleware.global]);{const I=await t.runWithContext(()=>mu({path:d.path}));if(I.appMiddleware)for(const R in I.appMiddleware){const N=t._middleware.named[R];if(!N)return;I.appMiddleware[R]?m.add(N):m.delete(N)}}for(const I of m){const R=await t.runWithContext(()=>I(d,g));if(R!==!0&&(R||R===!1))return R}}}),h.afterEach(()=>{delete t._processingMiddleware}),await h.replace(e),HT(o.fullPath,e)||await t.runWithContext(()=>O0(o.fullPath))}),{provide:{route:o,router:h}}}}),ld=globalThis.requestIdleCallback||(t=>{const e=Date.now(),n={didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-e))};return setTimeout(()=>{t(n)},1)}),zk=globalThis.cancelIdleCallback||(t=>{clearTimeout(t)}),yu=t=>{const e=je();e.isHydrating?e.hooks.hookOnce("app:suspense:resolve",()=>{ld(()=>t())}):ld(()=>t())},Nb=Rn({name:"nuxt:payload",setup(t){const e=new Set;Vr().beforeResolve(async(n,r)=>{if(n.path===r.path)return;const s=await ad(n.path);if(s){for(const i of e)delete t.static.data[i];for(const i in s.data)i in t.static.data||e.add(i),t.static.data[i]=s.data[i]}}),yu(()=>{t.hooks.hook("link:prefetch",async n=>{const{hostname:r}=new URL(n,window.location.href);r===window.location.hostname&&await ad(n).catch(()=>{console.warn("[nuxt] Error preloading payload for",n)})}),navigator.connection?.effectiveType!=="slow-2g"&&setTimeout(Ha,1e3)})}}),Db=Rn(()=>{const t=Vr();yu(()=>{t.beforeResolve(async()=>{await new Promise(e=>{setTimeout(e,100),requestAnimationFrame(()=>{setTimeout(e,0)})})})})}),Vb=Rn(t=>{let e;async function n(){let r;try{r=await Ha()}catch(s){const i=s;if(!("status"in i&&(i.status===404||i.status===403)))throw i}e&&clearTimeout(e),e=setTimeout(n,Xf);try{const s=await $fetch(du("builds/latest.json")+`?${Date.now()}`);s.id!==r?.id&&(t.hooks.callHook("app:manifest:update",s),e&&clearTimeout(e))}catch{}}yu(()=>{e=setTimeout(n,Xf)})});function Ob(t={}){const e=t.path||window.location.pathname;let n={};try{n=sa(sessionStorage.getItem("nuxt:reload")||"{}")}catch{}if(t.force||n?.path!==e||n?.expires<Date.now()){try{sessionStorage.setItem("nuxt:reload",JSON.stringify({path:e,expires:Date.now()+(t.ttl??1e4)}))}catch{}if(t.persistState)try{sessionStorage.setItem("nuxt:reload:state",JSON.stringify({state:je().payload.state}))}catch{}window.location.pathname!==e?window.location.href=e:window.location.reload()}}const Mb=Rn({name:"nuxt:chunk-reload",setup(t){const e=Vr(),n=Is(),r=new Set;e.beforeEach(()=>{r.clear()}),t.hook("app:chunkError",({error:i})=>{r.add(i)});function s(i){const o=Ba(n.app.baseURL,i.fullPath);Ob({path:o,persistState:!0})}t.hook("app:manifest:update",()=>{e.beforeResolve(s)}),e.onError((i,o)=>{r.has(i)&&s(o)})}}),Lb=Rn({name:"nuxt:global-components"}),Fb=()=>{};var cd={};const Bm=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Ub=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],l=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Hm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,l=o?t[s+1]:0,c=s+2<t.length,h=c?t[s+2]:0,u=i>>2,d=(i&3)<<4|l>>4;let g=(l&15)<<2|h>>6,m=h&63;c||(m=64,o||(g=64)),r.push(n[u],n[d],n[g],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Bm(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Ub(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const h=s<t.length?n[t.charAt(s)]:64;++s;const d=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||h==null||d==null)throw new $b;const g=i<<2|l>>4;if(r.push(g),h!==64){const m=l<<4&240|h>>2;if(r.push(m),d!==64){const I=h<<6&192|d;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class $b extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jb=function(t){const e=Bm(t);return Hm.encodeByteArray(e,!0)},ca=function(t){return jb(t).replace(/\./g,"")},qm=function(t){try{return Hm.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Bb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Hb=()=>Bb().__FIREBASE_DEFAULTS__,qb=()=>{if(typeof process>"u"||typeof cd>"u")return;const t=cd.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Wb=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&qm(t[1]);return e&&JSON.parse(e)},qa=()=>{try{return Fb()||Hb()||qb()||Wb()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Wm=t=>qa()?.emulatorHosts?.[t],zb=t=>{const e=Wm(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},zm=()=>qa()?.config,Gm=t=>qa()?.[`_${t}`];class Gb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function Ms(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Km(t){return(await fetch(t,{credentials:"include"})).ok}function Kb(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[ca(JSON.stringify(n)),ca(JSON.stringify(o)),""].join(".")}const bi={};function Qb(){const t={prod:[],emulator:[]};for(const e of Object.keys(bi))bi[e]?t.emulator.push(e):t.prod.push(e);return t}function Jb(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let ud=!1;function Qm(t,e){if(typeof window>"u"||typeof document>"u"||!Ms(window.location.host)||bi[t]===e||bi[t]||ud)return;bi[t]=e;function n(g){return`__firebase__banner__${g}`}const r="__firebase__banner",i=Qb().prod.length>0;function o(){const g=document.getElementById(r);g&&g.remove()}function l(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function c(g,m){g.setAttribute("width","24"),g.setAttribute("id",m),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function h(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{ud=!0,o()},g}function u(g,m){g.setAttribute("id",m),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function d(){const g=Jb(r),m=n("text"),I=document.getElementById(m)||document.createElement("span"),R=n("learnmore"),N=document.getElementById(R)||document.createElement("a"),O=n("preprendIcon"),D=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const C=g.element;l(C),u(N,R);const k=h();c(D,O),C.append(D,I,N,k),document.body.appendChild(C)}i?(I.innerText="Preview backend disconnected.",D.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(D.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}function pt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Xb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pt())}function Yb(){const t=qa()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Zb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function eI(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function tI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nI(){const t=pt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function rI(){return!Yb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sI(){try{return typeof indexedDB=="object"}catch{return!1}}function iI(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(n){e(n)}})}const oI="FirebaseError";class Cn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=oI,Object.setPrototypeOf(this,Cn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xi.prototype.create)}}class Xi{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?aI(i,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new Cn(s,l,r)}}function aI(t,e){return t.replace(lI,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const lI=/\{\$([^}]+)}/g;function cI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Or(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(hd(i)&&hd(o)){if(!Or(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function hd(t){return t!==null&&typeof t=="object"}function Yi(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function uI(t,e){const n=new hI(t,e);return n.subscribe.bind(n)}class hI{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");fI(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Fl),s.error===void 0&&(s.error=Fl),s.complete===void 0&&(s.complete=Fl);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fI(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Fl(){}function yt(t){return t&&t._delegate?t._delegate:t}class Mr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ar="[DEFAULT]";class dI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Gb;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gI(e))try{this.getOrInitializeService({instanceIdentifier:Ar})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Ar){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ar){return this.instances.has(e)}getOptions(e=Ar){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:pI(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ar){return this.component?this.component.multipleInstances?e:Ar:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pI(t){return t===Ar?void 0:t}function gI(t){return t.instantiationMode==="EAGER"}class mI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new dI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var _e;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(_e||(_e={}));const _I={debug:_e.DEBUG,verbose:_e.VERBOSE,info:_e.INFO,warn:_e.WARN,error:_e.ERROR,silent:_e.SILENT},yI=_e.INFO,vI={[_e.DEBUG]:"log",[_e.VERBOSE]:"log",[_e.INFO]:"info",[_e.WARN]:"warn",[_e.ERROR]:"error"},wI=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=vI[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class vu{constructor(e){this.name=e,this._logLevel=yI,this._logHandler=wI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in _e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_I[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,_e.DEBUG,...e),this._logHandler(this,_e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,_e.VERBOSE,...e),this._logHandler(this,_e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,_e.INFO,...e),this._logHandler(this,_e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,_e.WARN,...e),this._logHandler(this,_e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,_e.ERROR,...e),this._logHandler(this,_e.ERROR,...e)}}const EI=(t,e)=>e.some(n=>t instanceof n);let fd,dd;function TI(){return fd||(fd=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bI(){return dd||(dd=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Jm=new WeakMap,vc=new WeakMap,Xm=new WeakMap,Ul=new WeakMap,wu=new WeakMap;function II(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Jn(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Jm.set(n,t)}).catch(()=>{}),wu.set(e,t),e}function AI(t){if(vc.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});vc.set(t,e)}let wc={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return vc.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Xm.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Jn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function SI(t){wc=t(wc)}function RI(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call($l(this),e,...n);return Xm.set(r,e.sort?e.sort():[e]),Jn(r)}:bI().includes(t)?function(...e){return t.apply($l(this),e),Jn(Jm.get(this))}:function(...e){return Jn(t.apply($l(this),e))}}function CI(t){return typeof t=="function"?RI(t):(t instanceof IDBTransaction&&AI(t),EI(t,TI())?new Proxy(t,wc):t)}function Jn(t){if(t instanceof IDBRequest)return II(t);if(Ul.has(t))return Ul.get(t);const e=CI(t);return e!==t&&(Ul.set(t,e),wu.set(e,t)),e}const $l=t=>wu.get(t);function PI(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),l=Jn(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Jn(o.result),c.oldVersion,c.newVersion,Jn(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const xI=["get","getKey","getAll","getAllKeys","count"],kI=["put","add","delete","clear"],jl=new Map;function pd(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(jl.get(e))return jl.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=kI.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||xI.includes(n)))return;const i=async function(o,...l){const c=this.transaction(o,s?"readwrite":"readonly");let h=c.store;return r&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),s&&c.done]))[0]};return jl.set(e,i),i}SI(t=>({...t,get:(e,n,r)=>pd(e,n)||t.get(e,n,r),has:(e,n)=>!!pd(e,n)||t.has(e,n)}));class NI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(DI(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function DI(t){return t.getComponent()?.type==="VERSION"}const Ec="@firebase/app",gd="0.14.6";const Tn=new vu("@firebase/app"),VI="@firebase/app-compat",OI="@firebase/analytics-compat",MI="@firebase/analytics",LI="@firebase/app-check-compat",FI="@firebase/app-check",UI="@firebase/auth",$I="@firebase/auth-compat",jI="@firebase/database",BI="@firebase/data-connect",HI="@firebase/database-compat",qI="@firebase/functions",WI="@firebase/functions-compat",zI="@firebase/installations",GI="@firebase/installations-compat",KI="@firebase/messaging",QI="@firebase/messaging-compat",JI="@firebase/performance",XI="@firebase/performance-compat",YI="@firebase/remote-config",ZI="@firebase/remote-config-compat",eA="@firebase/storage",tA="@firebase/storage-compat",nA="@firebase/firestore",rA="@firebase/ai",sA="@firebase/firestore-compat",iA="firebase",oA="12.6.0";const Tc="[DEFAULT]",aA={[Ec]:"fire-core",[VI]:"fire-core-compat",[MI]:"fire-analytics",[OI]:"fire-analytics-compat",[FI]:"fire-app-check",[LI]:"fire-app-check-compat",[UI]:"fire-auth",[$I]:"fire-auth-compat",[jI]:"fire-rtdb",[BI]:"fire-data-connect",[HI]:"fire-rtdb-compat",[qI]:"fire-fn",[WI]:"fire-fn-compat",[zI]:"fire-iid",[GI]:"fire-iid-compat",[KI]:"fire-fcm",[QI]:"fire-fcm-compat",[JI]:"fire-perf",[XI]:"fire-perf-compat",[YI]:"fire-rc",[ZI]:"fire-rc-compat",[eA]:"fire-gcs",[tA]:"fire-gcs-compat",[nA]:"fire-fst",[sA]:"fire-fst-compat",[rA]:"fire-vertex","fire-js":"fire-js",[iA]:"fire-js-all"};const ua=new Map,lA=new Map,bc=new Map;function md(t,e){try{t.container.addComponent(e)}catch(n){Tn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function As(t){const e=t.name;if(bc.has(e))return Tn.debug(`There were multiple attempts to register component ${e}.`),!1;bc.set(e,t);for(const n of ua.values())md(n,t);for(const n of lA.values())md(n,t);return!0}function Eu(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ot(t){return t==null?!1:t.settings!==void 0}const cA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xn=new Xi("app","Firebase",cA);class uA{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Mr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xn.create("app-deleted",{appName:this._name})}}const Ls=oA;function Ym(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Tc,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Xn.create("bad-app-name",{appName:String(s)});if(n||(n=zm()),!n)throw Xn.create("no-options");const i=ua.get(s);if(i){if(Or(n,i.options)&&Or(r,i.config))return i;throw Xn.create("duplicate-app",{appName:s})}const o=new mI(s);for(const c of bc.values())o.addComponent(c);const l=new uA(n,r,o);return ua.set(s,l),l}function Zm(t=Tc){const e=ua.get(t);if(!e&&t===Tc&&zm())return Ym();if(!e)throw Xn.create("no-app",{appName:t});return e}function Yn(t,e,n){let r=aA[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Tn.warn(o.join(" "));return}As(new Mr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const hA="firebase-heartbeat-database",fA=1,Mi="firebase-heartbeat-store";let Bl=null;function e_(){return Bl||(Bl=PI(hA,fA,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Mi)}catch(n){console.warn(n)}}}}).catch(t=>{throw Xn.create("idb-open",{originalErrorMessage:t.message})})),Bl}async function dA(t){try{const n=(await e_()).transaction(Mi),r=await n.objectStore(Mi).get(t_(t));return await n.done,r}catch(e){if(e instanceof Cn)Tn.warn(e.message);else{const n=Xn.create("idb-get",{originalErrorMessage:e?.message});Tn.warn(n.message)}}}async function _d(t,e){try{const r=(await e_()).transaction(Mi,"readwrite");await r.objectStore(Mi).put(e,t_(t)),await r.done}catch(n){if(n instanceof Cn)Tn.warn(n.message);else{const r=Xn.create("idb-set",{originalErrorMessage:n?.message});Tn.warn(r.message)}}}function t_(t){return`${t.name}!${t.options.appId}`}const pA=1024,gA=30;class mA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new yA(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=yd();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>gA){const s=vA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Tn.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=yd(),{heartbeatsToSend:n,unsentEntries:r}=_A(this._heartbeatsCache.heartbeats),s=ca(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return Tn.warn(e),""}}}function yd(){return new Date().toISOString().substring(0,10)}function _A(t,e=pA){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),vd(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),vd(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class yA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sI()?iI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await dA(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return _d(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return _d(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function vd(t){return ca(JSON.stringify({version:2,heartbeats:t})).length}function vA(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function wA(t){As(new Mr("platform-logger",e=>new NI(e),"PRIVATE")),As(new Mr("heartbeat",e=>new mA(e),"PRIVATE")),Yn(Ec,gd,t),Yn(Ec,gd,"esm2020"),Yn("fire-js","")}wA("");var EA="firebase",TA="12.6.0";Yn(EA,TA,"app");function n_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const bA=n_,r_=new Xi("auth","Firebase",n_());const ha=new vu("@firebase/auth");function IA(t,...e){ha.logLevel<=_e.WARN&&ha.warn(`Auth (${Ls}): ${t}`,...e)}function Uo(t,...e){ha.logLevel<=_e.ERROR&&ha.error(`Auth (${Ls}): ${t}`,...e)}function an(t,...e){throw bu(t,...e)}function $t(t,...e){return bu(t,...e)}function Tu(t,e,n){const r={...bA(),[e]:n};return new Xi("auth","Firebase",r).create(e,{appName:t.name})}function kr(t){return Tu(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function AA(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&an(t,"argument-error"),Tu(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function bu(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return r_.create(t,...e)}function ue(t,e,...n){if(!t)throw bu(e,...n)}function yn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Uo(e),new Error(e)}function bn(t,e){t||yn(e)}function Ic(){return typeof self<"u"&&self.location?.href||""}function SA(){return wd()==="http:"||wd()==="https:"}function wd(){return typeof self<"u"&&self.location?.protocol||null}function RA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(SA()||eI()||"connection"in navigator)?navigator.onLine:!0}function CA(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Zi{constructor(e,n){this.shortDelay=e,this.longDelay=n,bn(n>e,"Short delay should be less than long delay!"),this.isMobile=Xb()||tI()}get(){return RA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Iu(t,e){bn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class s_{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;yn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;yn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;yn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const PA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const xA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],kA=new Zi(3e4,6e4);function Au(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Fs(t,e,n,r,s={}){return i_(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const l=Yi({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:c,...i};return Zb()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&Ms(t.emulatorConfig.host)&&(h.credentials="include"),s_.fetch()(await o_(t,t.config.apiHost,n,l),h)})}async function i_(t,e,n){t._canInitEmulator=!1;const r={...PA,...e};try{const s=new DA(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Ro(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const l=i.ok?o.errorMessage:o.error.message,[c,h]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ro(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Ro(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Ro(t,"user-disabled",o);const u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw Tu(t,u,h);an(t,u)}}catch(s){if(s instanceof Cn)throw s;an(t,"network-request-failed",{message:String(s)})}}async function NA(t,e,n,r,s={}){const i=await Fs(t,e,n,r,s);return"mfaPendingCredential"in i&&an(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function o_(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?Iu(t.config,s):`${t.config.apiScheme}://${s}`;return xA.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}class DA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r($t(this.auth,"network-request-failed")),kA.get())})}}function Ro(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=$t(t,e,r);return s.customData._tokenResponse=n,s}async function VA(t,e){return Fs(t,"POST","/v1/accounts:delete",e)}async function fa(t,e){return Fs(t,"POST","/v1/accounts:lookup",e)}function Ii(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function OA(t,e=!1){const n=yt(t),r=await n.getIdToken(e),s=Su(r);ue(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i?.sign_in_provider;return{claims:s,token:r,authTime:Ii(Hl(s.auth_time)),issuedAtTime:Ii(Hl(s.iat)),expirationTime:Ii(Hl(s.exp)),signInProvider:o||null,signInSecondFactor:i?.sign_in_second_factor||null}}function Hl(t){return Number(t)*1e3}function Su(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Uo("JWT malformed, contained fewer than 3 sections"),null;try{const s=qm(n);return s?JSON.parse(s):(Uo("Failed to decode base64 JWT payload"),null)}catch(s){return Uo("Caught error parsing JWT payload as JSON",s?.toString()),null}}function Ed(t){const e=Su(t);return ue(e,"internal-error"),ue(typeof e.exp<"u","internal-error"),ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Li(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Cn&&MA(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function MA({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class LA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Ac{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ii(this.lastLoginAt),this.creationTime=Ii(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function da(t){const e=t.auth,n=await t.getIdToken(),r=await Li(t,fa(e,{idToken:n}));ue(r?.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=s.providerUserInfo?.length?a_(s.providerUserInfo):[],o=UA(t.providerData,i),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!o?.length,h=l?c:!1,u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Ac(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,u)}async function FA(t){const e=yt(t);await da(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function UA(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function a_(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function $A(t,e){const n=await i_(t,{},async()=>{const r=Yi({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await o_(t,s,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return t.emulatorConfig&&Ms(t.emulatorConfig.host)&&(c.credentials="include"),s_.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function jA(t,e){return Fs(t,"POST","/v2/accounts:revokeToken",Au(t,e))}class _s{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ue(e.idToken,"internal-error"),ue(typeof e.idToken<"u","internal-error"),ue(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ed(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ue(e.length!==0,"internal-error");const n=Ed(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await $A(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new _s;return r&&(ue(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ue(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(ue(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _s,this.toJSON())}_performRefresh(){return yn("not implemented")}}function Fn(t,e){ue(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Mt{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new LA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ac(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Li(this,this.stsTokenManager.getToken(this.auth,e));return ue(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return OA(this,e)}reload(){return FA(this)}_assign(e){this!==e&&(ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Mt({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await da(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ot(this.auth.app))return Promise.reject(kr(this.auth));const e=await this.getIdToken();return await Li(this,VA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,l=n.tenantId??void 0,c=n._redirectEventId??void 0,h=n.createdAt??void 0,u=n.lastLoginAt??void 0,{uid:d,emailVerified:g,isAnonymous:m,providerData:I,stsTokenManager:R}=n;ue(d&&R,e,"internal-error");const N=_s.fromJSON(this.name,R);ue(typeof d=="string",e,"internal-error"),Fn(r,e.name),Fn(s,e.name),ue(typeof g=="boolean",e,"internal-error"),ue(typeof m=="boolean",e,"internal-error"),Fn(i,e.name),Fn(o,e.name),Fn(l,e.name),Fn(c,e.name),Fn(h,e.name),Fn(u,e.name);const O=new Mt({uid:d,auth:e,email:s,emailVerified:g,displayName:r,isAnonymous:m,photoURL:o,phoneNumber:i,tenantId:l,stsTokenManager:N,createdAt:h,lastLoginAt:u});return I&&Array.isArray(I)&&(O.providerData=I.map(D=>({...D}))),c&&(O._redirectEventId=c),O}static async _fromIdTokenResponse(e,n,r=!1){const s=new _s;s.updateFromServerResponse(n);const i=new Mt({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await da(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ue(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?a_(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!i?.length,l=new _s;l.updateFromIdToken(r);const c=new Mt({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:o}),h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Ac(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!i?.length};return Object.assign(c,h),c}}const Td=new Map;function vn(t){bn(t instanceof Function,"Expected a class definition");let e=Td.get(t);return e?(bn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Td.set(t,e),e)}class l_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}l_.type="NONE";const bd=l_;function $o(t,e,n){return`firebase:${t}:${e}:${n}`}class ys{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=$o(this.userKey,s.apiKey,i),this.fullPersistenceKey=$o("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await fa(this.auth,{idToken:e}).catch(()=>{});return n?Mt._fromGetAccountInfoResponse(this.auth,n,e):null}return Mt._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ys(vn(bd),e,r);const s=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let i=s[0]||vn(bd);const o=$o(r,e.config.apiKey,e.name);let l=null;for(const h of n)try{const u=await h._get(o);if(u){let d;if(typeof u=="string"){const g=await fa(e,{idToken:u}).catch(()=>{});if(!g)break;d=await Mt._fromGetAccountInfoResponse(e,g,u)}else d=Mt._fromJSON(e,u);h!==i&&(l=d),i=h;break}}catch{}const c=s.filter(h=>h._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new ys(i,e,r):(i=c[0],l&&await i._set(o,l.toJSON()),await Promise.all(n.map(async h=>{if(h!==i)try{await h._remove(o)}catch{}})),new ys(i,e,r))}}function Id(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(f_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(c_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(p_(e))return"Blackberry";if(g_(e))return"Webos";if(u_(e))return"Safari";if((e.includes("chrome/")||h_(e))&&!e.includes("edge/"))return"Chrome";if(d_(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function c_(t=pt()){return/firefox\//i.test(t)}function u_(t=pt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function h_(t=pt()){return/crios\//i.test(t)}function f_(t=pt()){return/iemobile/i.test(t)}function d_(t=pt()){return/android/i.test(t)}function p_(t=pt()){return/blackberry/i.test(t)}function g_(t=pt()){return/webos/i.test(t)}function Ru(t=pt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function BA(t=pt()){return Ru(t)&&!!window.navigator?.standalone}function HA(){return nI()&&document.documentMode===10}function m_(t=pt()){return Ru(t)||d_(t)||g_(t)||p_(t)||/windows phone/i.test(t)||f_(t)}function __(t,e=[]){let n;switch(t){case"Browser":n=Id(pt());break;case"Worker":n=`${Id(pt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ls}/${r}`}class qA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,l)=>{try{const c=e(i);o(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function WA(t,e={}){return Fs(t,"GET","/v2/passwordPolicy",Au(t,e))}const zA=6;class GA{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??zA,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class KA{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ad(this),this.idTokenSubscription=new Ad(this),this.beforeStateQueue=new qA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=r_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=vn(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ys.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await fa(this,{idToken:e}),r=await Mt._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ot(this.app)){const i=this.app.settings.authIdToken;return i?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(i).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=this.redirectUser?._redirectEventId,o=r?._redirectEventId,l=await this.tryRedirectSignIn(e);(!i||i===o)&&l?.user&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(i){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await da(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=CA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ot(this.app))return Promise.reject(kr(this));const n=e?yt(e):null;return n&&ue(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ot(this.app)?Promise.reject(kr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ot(this.app)?Promise.reject(kr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await WA(this),n=new GA(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Xi("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await jA(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&vn(e)||this._popupRedirectResolver;ue(n,this,"argument-error"),this.redirectPersistenceManager=await ys.create(this,[vn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(ue(l,this,"internal-error"),l.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=__(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Ot(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&IA(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Wa(t){return yt(t)}class Ad{constructor(e){this.auth=e,this.observer=null,this.addObserver=uI(n=>this.observer=n)}get next(){return ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Cu={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function QA(t){Cu=t}function JA(t){return Cu.loadJS(t)}function XA(){return Cu.gapiScript}function YA(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function ZA(t,e){const n=Eu(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Or(i,e??{}))return s;an(s,"already-initialized")}return n.initialize({options:e})}function e1(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(vn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function t1(t,e,n){const r=Wa(t);ue(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=y_(e),{host:o,port:l}=n1(e),c=l===null?"":`:${l}`,h={url:`${i}//${o}${c}/`},u=Object.freeze({host:o,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){ue(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ue(Or(h,r.config.emulator)&&Or(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,Ms(o)?(Km(`${i}//${o}${c}`),Qm("Auth",!0)):r1()}function y_(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function n1(t){const e=y_(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Sd(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:Sd(o)}}}function Sd(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function r1(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class v_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return yn("not implemented")}_getIdTokenResponse(e){return yn("not implemented")}_linkToIdToken(e,n){return yn("not implemented")}_getReauthenticationResolver(e){return yn("not implemented")}}async function vs(t,e){return NA(t,"POST","/v1/accounts:signInWithIdp",Au(t,e))}const s1="http://localhost";class Lr extends v_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Lr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):an("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new Lr(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return vs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,vs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,vs(e,n)}buildRequest(){const e={requestUri:s1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Yi(n)}return e}}class Pu{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class eo extends Pu{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Hn extends eo{constructor(){super("facebook.com")}static credential(e){return Lr._fromParams({providerId:Hn.PROVIDER_ID,signInMethod:Hn.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hn.credentialFromTaggedObject(e)}static credentialFromError(e){return Hn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hn.credential(e.oauthAccessToken)}catch{return null}}}Hn.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hn.PROVIDER_ID="facebook.com";class _n extends eo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Lr._fromParams({providerId:_n.PROVIDER_ID,signInMethod:_n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return _n.credentialFromTaggedObject(e)}static credentialFromError(e){return _n.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return _n.credential(n,r)}catch{return null}}}_n.GOOGLE_SIGN_IN_METHOD="google.com";_n.PROVIDER_ID="google.com";class qn extends eo{constructor(){super("github.com")}static credential(e){return Lr._fromParams({providerId:qn.PROVIDER_ID,signInMethod:qn.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qn.credentialFromTaggedObject(e)}static credentialFromError(e){return qn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qn.credential(e.oauthAccessToken)}catch{return null}}}qn.GITHUB_SIGN_IN_METHOD="github.com";qn.PROVIDER_ID="github.com";class Wn extends eo{constructor(){super("twitter.com")}static credential(e,n){return Lr._fromParams({providerId:Wn.PROVIDER_ID,signInMethod:Wn.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Wn.credentialFromTaggedObject(e)}static credentialFromError(e){return Wn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Wn.credential(n,r)}catch{return null}}}Wn.TWITTER_SIGN_IN_METHOD="twitter.com";Wn.PROVIDER_ID="twitter.com";class Ss{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Mt._fromIdTokenResponse(e,r,s),o=Rd(r);return new Ss({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Rd(r);return new Ss({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Rd(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class pa extends Cn{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,pa.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new pa(e,n,r,s)}}function w_(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?pa._fromErrorAndOperation(t,i,e,r):i})}async function i1(t,e,n=!1){const r=await Li(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ss._forOperation(t,"link",r)}async function o1(t,e,n=!1){const{auth:r}=t;if(Ot(r.app))return Promise.reject(kr(r));const s="reauthenticate";try{const i=await Li(t,w_(r,s,e,t),n);ue(i.idToken,r,"internal-error");const o=Su(i.idToken);ue(o,r,"internal-error");const{sub:l}=o;return ue(t.uid===l,r,"user-mismatch"),Ss._forOperation(t,s,i)}catch(i){throw i?.code==="auth/user-not-found"&&an(r,"user-mismatch"),i}}async function a1(t,e,n=!1){if(Ot(t.app))return Promise.reject(kr(t));const r="signIn",s=await w_(t,r,e),i=await Ss._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}function l1(t,e,n,r){return yt(t).onIdTokenChanged(e,n,r)}function c1(t,e,n){return yt(t).beforeAuthStateChanged(e,n)}function u1(t,e,n,r){return yt(t).onAuthStateChanged(e,n,r)}function h1(t){return yt(t).signOut()}const ga="__sak";class E_{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ga,"1"),this.storage.removeItem(ga),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const f1=1e3,d1=10;class T_ extends E_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=m_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);HA()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,d1):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},f1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}T_.type="LOCAL";const p1=T_;class b_ extends E_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}b_.type="SESSION";const I_=b_;function g1(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class za{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new za(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!o?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(o).map(async h=>h(n.origin,i)),c=await g1(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}za.receivers=[];function xu(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class m1{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((l,c)=>{const h=xu("",20);s.port1.start();const u=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(d){const g=d;if(g.data.eventId===h)switch(g.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(g.data.response);break;default:clearTimeout(u),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}function Zt(){return window}function _1(t){Zt().location.href=t}function A_(){return typeof Zt().WorkerGlobalScope<"u"&&typeof Zt().importScripts=="function"}async function y1(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function v1(){return navigator?.serviceWorker?.controller||null}function w1(){return A_()?self:null}const S_="firebaseLocalStorageDb",E1=1,ma="firebaseLocalStorage",R_="fbase_key";class to{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ga(t,e){return t.transaction([ma],e?"readwrite":"readonly").objectStore(ma)}function T1(){const t=indexedDB.deleteDatabase(S_);return new to(t).toPromise()}function Sc(){const t=indexedDB.open(S_,E1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ma,{keyPath:R_})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ma)?e(r):(r.close(),await T1(),e(await Sc()))})})}async function Cd(t,e,n){const r=Ga(t,!0).put({[R_]:e,value:n});return new to(r).toPromise()}async function b1(t,e){const n=Ga(t,!1).get(e),r=await new to(n).toPromise();return r===void 0?null:r.value}function Pd(t,e){const n=Ga(t,!0).delete(e);return new to(n).toPromise()}const I1=800,A1=3;class C_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Sc(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>A1)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return A_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=za._getInstance(w1()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await y1(),!this.activeServiceWorker)return;this.sender=new m1(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||v1()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Sc();return await Cd(e,ga,"1"),await Pd(e,ga),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Cd(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>b1(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Pd(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Ga(s,!1).getAll();return new to(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),I1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}C_.type="LOCAL";const S1=C_;new Zi(3e4,6e4);function P_(t,e){return e?vn(e):(ue(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class ku extends v_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return vs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return vs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return vs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function R1(t){return a1(t.auth,new ku(t),t.bypassAuthState)}function C1(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),o1(n,new ku(t),t.bypassAuthState)}async function P1(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),i1(n,new ku(t),t.bypassAuthState)}class x_{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return R1;case"linkViaPopup":case"linkViaRedirect":return P1;case"reauthViaPopup":case"reauthViaRedirect":return C1;default:an(this.auth,"internal-error")}}resolve(e){bn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){bn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const x1=new Zi(2e3,1e4);async function k1(t,e,n){if(Ot(t.app))return Promise.reject($t(t,"operation-not-supported-in-this-environment"));const r=Wa(t);AA(t,e,Pu);const s=P_(r,n);return new Sr(r,"signInViaPopup",e,s).executeNotNull()}class Sr extends x_{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Sr.currentPopupAction&&Sr.currentPopupAction.cancel(),Sr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ue(e,this.auth,"internal-error"),e}async onExecution(){bn(this.filter.length===1,"Popup operations only handle one event");const e=xu();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject($t(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject($t(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Sr.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($t(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,x1.get())};e()}}Sr.currentPopupAction=null;const N1="pendingRedirect",jo=new Map;class D1 extends x_{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=jo.get(this.auth._key());if(!e){try{const r=await V1(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}jo.set(this.auth._key(),e)}return this.bypassAuthState||jo.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function V1(t,e){const n=L1(e),r=M1(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function O1(t,e){jo.set(t._key(),e)}function M1(t){return vn(t._redirectPersistence)}function L1(t){return $o(N1,t.config.apiKey,t.name)}async function F1(t,e,n=!1){if(Ot(t.app))return Promise.reject(kr(t));const r=Wa(t),s=P_(r,e),o=await new D1(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}const U1=600*1e3;class $1{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!j1(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!k_(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError($t(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=U1&&this.cachedEventUids.clear(),this.cachedEventUids.has(xd(e))}saveEventToCache(e){this.cachedEventUids.add(xd(e)),this.lastProcessedEventTime=Date.now()}}function xd(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function k_({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function j1(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return k_(t);default:return!1}}async function B1(t,e={}){return Fs(t,"GET","/v1/projects",e)}const H1=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,q1=/^https?/;async function W1(t){if(t.config.emulator)return;const{authorizedDomains:e}=await B1(t);for(const n of e)try{if(z1(n))return}catch{}an(t,"unauthorized-domain")}function z1(t){const e=Ic(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!q1.test(n))return!1;if(H1.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}const G1=new Zi(3e4,6e4);function kd(){const t=Zt().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function K1(t){return new Promise((e,n)=>{function r(){kd(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{kd(),n($t(t,"network-request-failed"))},timeout:G1.get()})}if(Zt().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Zt().gapi?.load)r();else{const s=YA("iframefcb");return Zt()[s]=()=>{gapi.load?r():n($t(t,"network-request-failed"))},JA(`${XA()}?onload=${s}`).catch(i=>n(i))}}).catch(e=>{throw Bo=null,e})}let Bo=null;function Q1(t){return Bo=Bo||K1(t),Bo}const J1=new Zi(5e3,15e3),X1="__/auth/iframe",Y1="emulator/auth/iframe",Z1={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},eS=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tS(t){const e=t.config;ue(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Iu(e,Y1):`https://${t.config.authDomain}/${X1}`,r={apiKey:e.apiKey,appName:t.name,v:Ls},s=eS.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Yi(r).slice(1)}`}async function nS(t){const e=await Q1(t),n=Zt().gapi;return ue(n,t,"internal-error"),e.open({where:document.body,url:tS(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Z1,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=$t(t,"network-request-failed"),l=Zt().setTimeout(()=>{i(o)},J1.get());function c(){Zt().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{i(o)})}))}const rS={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},sS=500,iS=600,oS="_blank",aS="http://localhost";class Nd{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function lS(t,e,n,r=sS,s=iS){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c={...rS,width:r.toString(),height:s.toString(),top:i,left:o},h=pt().toLowerCase();n&&(l=h_(h)?oS:n),c_(h)&&(e=e||aS,c.scrollbars="yes");const u=Object.entries(c).reduce((g,[m,I])=>`${g}${m}=${I},`,"");if(BA(h)&&l!=="_self")return cS(e||"",l),new Nd(null);const d=window.open(e||"",l,u);ue(d,t,"popup-blocked");try{d.focus()}catch{}return new Nd(d)}function cS(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const uS="__/auth/handler",hS="emulator/auth/handler",fS=encodeURIComponent("fac");async function Dd(t,e,n,r,s,i){ue(t.config.authDomain,t,"auth-domain-config-required"),ue(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ls,eventId:s};if(e instanceof Pu){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",cI(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries({}))o[u]=d}if(e instanceof eo){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const u of Object.keys(l))l[u]===void 0&&delete l[u];const c=await t._getAppCheckToken(),h=c?`#${fS}=${encodeURIComponent(c)}`:"";return`${dS(t)}?${Yi(l).slice(1)}${h}`}function dS({config:t}){return t.emulator?Iu(t,hS):`https://${t.authDomain}/${uS}`}const ql="webStorageSupport";class pS{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=I_,this._completeRedirectFn=F1,this._overrideRedirectResult=O1}async _openPopup(e,n,r,s){bn(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const i=await Dd(e,n,r,Ic(),s);return lS(e,i,xu())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await Dd(e,n,r,Ic(),s);return _1(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(bn(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await nS(e),r=new $1(e);return n.register("authEvent",s=>(ue(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ql,{type:ql},s=>{const i=s?.[0]?.[ql];i!==void 0&&n(!!i),an(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=W1(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return m_()||u_()||Ru()}}const gS=pS;var Vd="@firebase/auth",Od="1.11.1";class mS{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function _S(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function yS(t){As(new Mr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;ue(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:__(t)},h=new KA(r,s,i,c);return e1(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),As(new Mr("auth-internal",e=>{const n=Wa(e.getProvider("auth").getImmediate());return(r=>new mS(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Yn(Vd,Od,_S(t)),Yn(Vd,Od,"esm2020")}const vS=300,wS=Gm("authIdTokenMaxAge")||vS;let Md=null;const ES=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>wS)return;const s=n?.token;Md!==s&&(Md=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function TS(t=Zm()){const e=Eu(t,"auth");if(e.isInitialized())return e.getImmediate();const n=ZA(t,{popupRedirectResolver:gS,persistence:[S1,p1,I_]}),r=Gm("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=ES(i.toString());c1(n,o,()=>o(n.currentUser)),l1(n,l=>o(l))}}const s=Wm("auth");return s&&t1(n,`http://${s}`),n}function bS(){return document.getElementsByTagName("head")?.[0]??document}QA({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=$t("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",bS().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});yS("Browser");const IS="$s";function AS(...t){const e=typeof t[t.length-1]=="string"?t.pop():void 0;typeof t[0]!="string"&&t.unshift(e);const[n,r]=t;if(!n||typeof n!="string")throw new TypeError("[nuxt] [useState] key must be a string: "+n);if(r!==void 0&&typeof r!="function")throw new Error("[nuxt] [useState] init must be a function: "+r);const s=IS+n,i=je(),o=gg(i.payload.state,s);if(o.value===void 0&&r){const l=r();if(We(l))return i.payload.state[s]=l,l;o.value=l}return o}var Ld=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Zn,N_;(function(){var t;function e(E,v){function y(){}y.prototype=v.prototype,E.F=v.prototype,E.prototype=new y,E.prototype.constructor=E,E.D=function(T,A,b){for(var w=Array(arguments.length-2),ce=2;ce<arguments.length;ce++)w[ce-2]=arguments[ce];return v.prototype[A].apply(T,w)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(E,v,y){y||(y=0);const T=Array(16);if(typeof v=="string")for(var A=0;A<16;++A)T[A]=v.charCodeAt(y++)|v.charCodeAt(y++)<<8|v.charCodeAt(y++)<<16|v.charCodeAt(y++)<<24;else for(A=0;A<16;++A)T[A]=v[y++]|v[y++]<<8|v[y++]<<16|v[y++]<<24;v=E.g[0],y=E.g[1],A=E.g[2];let b=E.g[3],w;w=v+(b^y&(A^b))+T[0]+3614090360&4294967295,v=y+(w<<7&4294967295|w>>>25),w=b+(A^v&(y^A))+T[1]+3905402710&4294967295,b=v+(w<<12&4294967295|w>>>20),w=A+(y^b&(v^y))+T[2]+606105819&4294967295,A=b+(w<<17&4294967295|w>>>15),w=y+(v^A&(b^v))+T[3]+3250441966&4294967295,y=A+(w<<22&4294967295|w>>>10),w=v+(b^y&(A^b))+T[4]+4118548399&4294967295,v=y+(w<<7&4294967295|w>>>25),w=b+(A^v&(y^A))+T[5]+1200080426&4294967295,b=v+(w<<12&4294967295|w>>>20),w=A+(y^b&(v^y))+T[6]+2821735955&4294967295,A=b+(w<<17&4294967295|w>>>15),w=y+(v^A&(b^v))+T[7]+4249261313&4294967295,y=A+(w<<22&4294967295|w>>>10),w=v+(b^y&(A^b))+T[8]+1770035416&4294967295,v=y+(w<<7&4294967295|w>>>25),w=b+(A^v&(y^A))+T[9]+2336552879&4294967295,b=v+(w<<12&4294967295|w>>>20),w=A+(y^b&(v^y))+T[10]+4294925233&4294967295,A=b+(w<<17&4294967295|w>>>15),w=y+(v^A&(b^v))+T[11]+2304563134&4294967295,y=A+(w<<22&4294967295|w>>>10),w=v+(b^y&(A^b))+T[12]+1804603682&4294967295,v=y+(w<<7&4294967295|w>>>25),w=b+(A^v&(y^A))+T[13]+4254626195&4294967295,b=v+(w<<12&4294967295|w>>>20),w=A+(y^b&(v^y))+T[14]+2792965006&4294967295,A=b+(w<<17&4294967295|w>>>15),w=y+(v^A&(b^v))+T[15]+1236535329&4294967295,y=A+(w<<22&4294967295|w>>>10),w=v+(A^b&(y^A))+T[1]+4129170786&4294967295,v=y+(w<<5&4294967295|w>>>27),w=b+(y^A&(v^y))+T[6]+3225465664&4294967295,b=v+(w<<9&4294967295|w>>>23),w=A+(v^y&(b^v))+T[11]+643717713&4294967295,A=b+(w<<14&4294967295|w>>>18),w=y+(b^v&(A^b))+T[0]+3921069994&4294967295,y=A+(w<<20&4294967295|w>>>12),w=v+(A^b&(y^A))+T[5]+3593408605&4294967295,v=y+(w<<5&4294967295|w>>>27),w=b+(y^A&(v^y))+T[10]+38016083&4294967295,b=v+(w<<9&4294967295|w>>>23),w=A+(v^y&(b^v))+T[15]+3634488961&4294967295,A=b+(w<<14&4294967295|w>>>18),w=y+(b^v&(A^b))+T[4]+3889429448&4294967295,y=A+(w<<20&4294967295|w>>>12),w=v+(A^b&(y^A))+T[9]+568446438&4294967295,v=y+(w<<5&4294967295|w>>>27),w=b+(y^A&(v^y))+T[14]+3275163606&4294967295,b=v+(w<<9&4294967295|w>>>23),w=A+(v^y&(b^v))+T[3]+4107603335&4294967295,A=b+(w<<14&4294967295|w>>>18),w=y+(b^v&(A^b))+T[8]+1163531501&4294967295,y=A+(w<<20&4294967295|w>>>12),w=v+(A^b&(y^A))+T[13]+2850285829&4294967295,v=y+(w<<5&4294967295|w>>>27),w=b+(y^A&(v^y))+T[2]+4243563512&4294967295,b=v+(w<<9&4294967295|w>>>23),w=A+(v^y&(b^v))+T[7]+1735328473&4294967295,A=b+(w<<14&4294967295|w>>>18),w=y+(b^v&(A^b))+T[12]+2368359562&4294967295,y=A+(w<<20&4294967295|w>>>12),w=v+(y^A^b)+T[5]+4294588738&4294967295,v=y+(w<<4&4294967295|w>>>28),w=b+(v^y^A)+T[8]+2272392833&4294967295,b=v+(w<<11&4294967295|w>>>21),w=A+(b^v^y)+T[11]+1839030562&4294967295,A=b+(w<<16&4294967295|w>>>16),w=y+(A^b^v)+T[14]+4259657740&4294967295,y=A+(w<<23&4294967295|w>>>9),w=v+(y^A^b)+T[1]+2763975236&4294967295,v=y+(w<<4&4294967295|w>>>28),w=b+(v^y^A)+T[4]+1272893353&4294967295,b=v+(w<<11&4294967295|w>>>21),w=A+(b^v^y)+T[7]+4139469664&4294967295,A=b+(w<<16&4294967295|w>>>16),w=y+(A^b^v)+T[10]+3200236656&4294967295,y=A+(w<<23&4294967295|w>>>9),w=v+(y^A^b)+T[13]+681279174&4294967295,v=y+(w<<4&4294967295|w>>>28),w=b+(v^y^A)+T[0]+3936430074&4294967295,b=v+(w<<11&4294967295|w>>>21),w=A+(b^v^y)+T[3]+3572445317&4294967295,A=b+(w<<16&4294967295|w>>>16),w=y+(A^b^v)+T[6]+76029189&4294967295,y=A+(w<<23&4294967295|w>>>9),w=v+(y^A^b)+T[9]+3654602809&4294967295,v=y+(w<<4&4294967295|w>>>28),w=b+(v^y^A)+T[12]+3873151461&4294967295,b=v+(w<<11&4294967295|w>>>21),w=A+(b^v^y)+T[15]+530742520&4294967295,A=b+(w<<16&4294967295|w>>>16),w=y+(A^b^v)+T[2]+3299628645&4294967295,y=A+(w<<23&4294967295|w>>>9),w=v+(A^(y|~b))+T[0]+4096336452&4294967295,v=y+(w<<6&4294967295|w>>>26),w=b+(y^(v|~A))+T[7]+1126891415&4294967295,b=v+(w<<10&4294967295|w>>>22),w=A+(v^(b|~y))+T[14]+2878612391&4294967295,A=b+(w<<15&4294967295|w>>>17),w=y+(b^(A|~v))+T[5]+4237533241&4294967295,y=A+(w<<21&4294967295|w>>>11),w=v+(A^(y|~b))+T[12]+1700485571&4294967295,v=y+(w<<6&4294967295|w>>>26),w=b+(y^(v|~A))+T[3]+2399980690&4294967295,b=v+(w<<10&4294967295|w>>>22),w=A+(v^(b|~y))+T[10]+4293915773&4294967295,A=b+(w<<15&4294967295|w>>>17),w=y+(b^(A|~v))+T[1]+2240044497&4294967295,y=A+(w<<21&4294967295|w>>>11),w=v+(A^(y|~b))+T[8]+1873313359&4294967295,v=y+(w<<6&4294967295|w>>>26),w=b+(y^(v|~A))+T[15]+4264355552&4294967295,b=v+(w<<10&4294967295|w>>>22),w=A+(v^(b|~y))+T[6]+2734768916&4294967295,A=b+(w<<15&4294967295|w>>>17),w=y+(b^(A|~v))+T[13]+1309151649&4294967295,y=A+(w<<21&4294967295|w>>>11),w=v+(A^(y|~b))+T[4]+4149444226&4294967295,v=y+(w<<6&4294967295|w>>>26),w=b+(y^(v|~A))+T[11]+3174756917&4294967295,b=v+(w<<10&4294967295|w>>>22),w=A+(v^(b|~y))+T[2]+718787259&4294967295,A=b+(w<<15&4294967295|w>>>17),w=y+(b^(A|~v))+T[9]+3951481745&4294967295,E.g[0]=E.g[0]+v&4294967295,E.g[1]=E.g[1]+(A+(w<<21&4294967295|w>>>11))&4294967295,E.g[2]=E.g[2]+A&4294967295,E.g[3]=E.g[3]+b&4294967295}r.prototype.v=function(E,v){v===void 0&&(v=E.length);const y=v-this.blockSize,T=this.C;let A=this.h,b=0;for(;b<v;){if(A==0)for(;b<=y;)s(this,E,b),b+=this.blockSize;if(typeof E=="string"){for(;b<v;)if(T[A++]=E.charCodeAt(b++),A==this.blockSize){s(this,T),A=0;break}}else for(;b<v;)if(T[A++]=E[b++],A==this.blockSize){s(this,T),A=0;break}}this.h=A,this.o+=v},r.prototype.A=function(){var E=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);E[0]=128;for(var v=1;v<E.length-8;++v)E[v]=0;v=this.o*8;for(var y=E.length-8;y<E.length;++y)E[y]=v&255,v/=256;for(this.v(E),E=Array(16),v=0,y=0;y<4;++y)for(let T=0;T<32;T+=8)E[v++]=this.g[y]>>>T&255;return E};function i(E,v){var y=l;return Object.prototype.hasOwnProperty.call(y,E)?y[E]:y[E]=v(E)}function o(E,v){this.h=v;const y=[];let T=!0;for(let A=E.length-1;A>=0;A--){const b=E[A]|0;T&&b==v||(y[A]=b,T=!1)}this.g=y}var l={};function c(E){return-128<=E&&E<128?i(E,function(v){return new o([v|0],v<0?-1:0)}):new o([E|0],E<0?-1:0)}function h(E){if(isNaN(E)||!isFinite(E))return d;if(E<0)return N(h(-E));const v=[];let y=1;for(let T=0;E>=y;T++)v[T]=E/y|0,y*=4294967296;return new o(v,0)}function u(E,v){if(E.length==0)throw Error("number format error: empty string");if(v=v||10,v<2||36<v)throw Error("radix out of range: "+v);if(E.charAt(0)=="-")return N(u(E.substring(1),v));if(E.indexOf("-")>=0)throw Error('number format error: interior "-" character');const y=h(Math.pow(v,8));let T=d;for(let b=0;b<E.length;b+=8){var A=Math.min(8,E.length-b);const w=parseInt(E.substring(b,b+A),v);A<8?(A=h(Math.pow(v,A)),T=T.j(A).add(h(w))):(T=T.j(y),T=T.add(h(w)))}return T}var d=c(0),g=c(1),m=c(16777216);t=o.prototype,t.m=function(){if(R(this))return-N(this).m();let E=0,v=1;for(let y=0;y<this.g.length;y++){const T=this.i(y);E+=(T>=0?T:4294967296+T)*v,v*=4294967296}return E},t.toString=function(E){if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(I(this))return"0";if(R(this))return"-"+N(this).toString(E);const v=h(Math.pow(E,6));var y=this;let T="";for(;;){const A=k(y,v).g;y=O(y,A.j(v));let b=((y.g.length>0?y.g[0]:y.h)>>>0).toString(E);if(y=A,I(y))return b+T;for(;b.length<6;)b="0"+b;T=b+T}},t.i=function(E){return E<0?0:E<this.g.length?this.g[E]:this.h};function I(E){if(E.h!=0)return!1;for(let v=0;v<E.g.length;v++)if(E.g[v]!=0)return!1;return!0}function R(E){return E.h==-1}t.l=function(E){return E=O(this,E),R(E)?-1:I(E)?0:1};function N(E){const v=E.g.length,y=[];for(let T=0;T<v;T++)y[T]=~E.g[T];return new o(y,~E.h).add(g)}t.abs=function(){return R(this)?N(this):this},t.add=function(E){const v=Math.max(this.g.length,E.g.length),y=[];let T=0;for(let A=0;A<=v;A++){let b=T+(this.i(A)&65535)+(E.i(A)&65535),w=(b>>>16)+(this.i(A)>>>16)+(E.i(A)>>>16);T=w>>>16,b&=65535,w&=65535,y[A]=w<<16|b}return new o(y,y[y.length-1]&-2147483648?-1:0)};function O(E,v){return E.add(N(v))}t.j=function(E){if(I(this)||I(E))return d;if(R(this))return R(E)?N(this).j(N(E)):N(N(this).j(E));if(R(E))return N(this.j(N(E)));if(this.l(m)<0&&E.l(m)<0)return h(this.m()*E.m());const v=this.g.length+E.g.length,y=[];for(var T=0;T<2*v;T++)y[T]=0;for(T=0;T<this.g.length;T++)for(let A=0;A<E.g.length;A++){const b=this.i(T)>>>16,w=this.i(T)&65535,ce=E.i(A)>>>16,Ee=E.i(A)&65535;y[2*T+2*A]+=w*Ee,D(y,2*T+2*A),y[2*T+2*A+1]+=b*Ee,D(y,2*T+2*A+1),y[2*T+2*A+1]+=w*ce,D(y,2*T+2*A+1),y[2*T+2*A+2]+=b*ce,D(y,2*T+2*A+2)}for(E=0;E<v;E++)y[E]=y[2*E+1]<<16|y[2*E];for(E=v;E<2*v;E++)y[E]=0;return new o(y,0)};function D(E,v){for(;(E[v]&65535)!=E[v];)E[v+1]+=E[v]>>>16,E[v]&=65535,v++}function C(E,v){this.g=E,this.h=v}function k(E,v){if(I(v))throw Error("division by zero");if(I(E))return new C(d,d);if(R(E))return v=k(N(E),v),new C(N(v.g),N(v.h));if(R(v))return v=k(E,N(v)),new C(N(v.g),v.h);if(E.g.length>30){if(R(E)||R(v))throw Error("slowDivide_ only works with positive integers.");for(var y=g,T=v;T.l(E)<=0;)y=M(y),T=M(T);var A=j(y,1),b=j(T,1);for(T=j(T,2),y=j(y,2);!I(T);){var w=b.add(T);w.l(E)<=0&&(A=A.add(y),b=w),T=j(T,1),y=j(y,1)}return v=O(E,A.j(v)),new C(A,v)}for(A=d;E.l(v)>=0;){for(y=Math.max(1,Math.floor(E.m()/v.m())),T=Math.ceil(Math.log(y)/Math.LN2),T=T<=48?1:Math.pow(2,T-48),b=h(y),w=b.j(v);R(w)||w.l(E)>0;)y-=T,b=h(y),w=b.j(v);I(b)&&(b=g),A=A.add(b),E=O(E,w)}return new C(A,E)}t.B=function(E){return k(this,E).h},t.and=function(E){const v=Math.max(this.g.length,E.g.length),y=[];for(let T=0;T<v;T++)y[T]=this.i(T)&E.i(T);return new o(y,this.h&E.h)},t.or=function(E){const v=Math.max(this.g.length,E.g.length),y=[];for(let T=0;T<v;T++)y[T]=this.i(T)|E.i(T);return new o(y,this.h|E.h)},t.xor=function(E){const v=Math.max(this.g.length,E.g.length),y=[];for(let T=0;T<v;T++)y[T]=this.i(T)^E.i(T);return new o(y,this.h^E.h)};function M(E){const v=E.g.length+1,y=[];for(let T=0;T<v;T++)y[T]=E.i(T)<<1|E.i(T-1)>>>31;return new o(y,E.h)}function j(E,v){const y=v>>5;v%=32;const T=E.g.length-y,A=[];for(let b=0;b<T;b++)A[b]=v>0?E.i(b+y)>>>v|E.i(b+y+1)<<32-v:E.i(b+y);return new o(A,E.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,N_=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=u,Zn=o}).apply(typeof Ld<"u"?Ld:typeof self<"u"?self:typeof window<"u"?window:{});var Co=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var D_,di,V_,Ho,Rc,O_,M_,L_;(function(){var t,e=Object.defineProperty;function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Co=="object"&&Co];for(var f=0;f<a.length;++f){var p=a[f];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=n(this);function s(a,f){if(f)e:{var p=r;a=a.split(".");for(var _=0;_<a.length-1;_++){var x=a[_];if(!(x in p))break e;p=p[x]}a=a[a.length-1],_=p[a],f=f(_),f!=_&&f!=null&&e(p,a,{configurable:!0,writable:!0,value:f})}}s("Symbol.dispose",function(a){return a||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(a){return a||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(a){return a||function(f){var p=[],_;for(_ in f)Object.prototype.hasOwnProperty.call(f,_)&&p.push([_,f[_]]);return p}});var i=i||{},o=this||self;function l(a){var f=typeof a;return f=="object"&&a!=null||f=="function"}function c(a,f,p){return a.call.apply(a.bind,arguments)}function h(a,f,p){return h=c,h.apply(null,arguments)}function u(a,f){var p=Array.prototype.slice.call(arguments,1);return function(){var _=p.slice();return _.push.apply(_,arguments),a.apply(this,_)}}function d(a,f){function p(){}p.prototype=f.prototype,a.Z=f.prototype,a.prototype=new p,a.prototype.constructor=a,a.Ob=function(_,x,V){for(var Q=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)Q[pe-2]=arguments[pe];return f.prototype[x].apply(_,Q)}}var g=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?a=>a&&AsyncContext.Snapshot.wrap(a):a=>a;function m(a){const f=a.length;if(f>0){const p=Array(f);for(let _=0;_<f;_++)p[_]=a[_];return p}return[]}function I(a,f){for(let _=1;_<arguments.length;_++){const x=arguments[_];var p=typeof x;if(p=p!="object"?p:x?Array.isArray(x)?"array":p:"null",p=="array"||p=="object"&&typeof x.length=="number"){p=a.length||0;const V=x.length||0;a.length=p+V;for(let Q=0;Q<V;Q++)a[p+Q]=x[Q]}else a.push(x)}}class R{constructor(f,p){this.i=f,this.j=p,this.h=0,this.g=null}get(){let f;return this.h>0?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function N(a){o.setTimeout(()=>{throw a},0)}function O(){var a=E;let f=null;return a.g&&(f=a.g,a.g=a.g.next,a.g||(a.h=null),f.next=null),f}class D{constructor(){this.h=this.g=null}add(f,p){const _=C.get();_.set(f,p),this.h?this.h.next=_:this.g=_,this.h=_}}var C=new R(()=>new k,a=>a.reset());class k{constructor(){this.next=this.g=this.h=null}set(f,p){this.h=f,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let M,j=!1,E=new D,v=()=>{const a=Promise.resolve(void 0);M=()=>{a.then(y)}};function y(){for(var a;a=O();){try{a.h.call(a.g)}catch(p){N(p)}var f=C;f.j(a),f.h<100&&(f.h++,a.next=f.g,f.g=a)}j=!1}function T(){this.u=this.u,this.C=this.C}T.prototype.u=!1,T.prototype.dispose=function(){this.u||(this.u=!0,this.N())},T.prototype[Symbol.dispose]=function(){this.dispose()},T.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function A(a,f){this.type=a,this.g=this.target=f,this.defaultPrevented=!1}A.prototype.h=function(){this.defaultPrevented=!0};var b=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var a=!1,f=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const p=()=>{};o.addEventListener("test",p,f),o.removeEventListener("test",p,f)}catch{}return a})();function w(a){return/^[\s\xa0]*$/.test(a)}function ce(a,f){A.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a&&this.init(a,f)}d(ce,A),ce.prototype.init=function(a,f){const p=this.type=a.type,_=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement,this.g=f,f=a.relatedTarget,f||(p=="mouseover"?f=a.fromElement:p=="mouseout"&&(f=a.toElement)),this.relatedTarget=f,_?(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=a.pointerType,this.state=a.state,this.i=a,a.defaultPrevented&&ce.Z.h.call(this)},ce.prototype.h=function(){ce.Z.h.call(this);const a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Ee="closure_listenable_"+(Math.random()*1e6|0),te=0;function de(a,f,p,_,x){this.listener=a,this.proxy=null,this.src=f,this.type=p,this.capture=!!_,this.ha=x,this.key=++te,this.da=this.fa=!1}function Z(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Ce(a,f,p){for(const _ in a)f.call(p,a[_],_,a)}function qr(a,f){for(const p in a)f.call(void 0,a[p],p,a)}function qt(a){const f={};for(const p in a)f[p]=a[p];return f}const It="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function qs(a,f){let p,_;for(let x=1;x<arguments.length;x++){_=arguments[x];for(p in _)a[p]=_[p];for(let V=0;V<It.length;V++)p=It[V],Object.prototype.hasOwnProperty.call(_,p)&&(a[p]=_[p])}}function Wr(a){this.src=a,this.g={},this.h=0}Wr.prototype.add=function(a,f,p,_,x){const V=a.toString();a=this.g[V],a||(a=this.g[V]=[],this.h++);const Q=cn(a,f,_,x);return Q>-1?(f=a[Q],p||(f.fa=!1)):(f=new de(f,this.src,V,!!_,x),f.fa=p,a.push(f)),f};function Ws(a,f){const p=f.type;if(p in a.g){var _=a.g[p],x=Array.prototype.indexOf.call(_,f,void 0),V;(V=x>=0)&&Array.prototype.splice.call(_,x,1),V&&(Z(f),a.g[p].length==0&&(delete a.g[p],a.h--))}}function cn(a,f,p,_){for(let x=0;x<a.length;++x){const V=a[x];if(!V.da&&V.listener==f&&V.capture==!!p&&V.ha==_)return x}return-1}var Pn="closure_lm_"+(Math.random()*1e6|0),pr={};function zs(a,f,p,_,x){if(Array.isArray(f)){for(let V=0;V<f.length;V++)zs(a,f[V],p,_,x);return null}return p=H(p),a&&a[Ee]?a.J(f,p,l(_)?!!_.capture:!1,x):xn(a,f,p,!1,_,x)}function xn(a,f,p,_,x,V){if(!f)throw Error("Invalid event type");const Q=l(x)?!!x.capture:!!x;let pe=W(a);if(pe||(a[Pn]=pe=new Wr(a)),p=pe.add(f,p,_,Q,V),p.proxy)return p;if(_=Gs(),p.proxy=_,_.src=a,_.listener=p,a.addEventListener)b||(x=Q),x===void 0&&(x=!1),a.addEventListener(f.toString(),_,x);else if(a.attachEvent)a.attachEvent(P(f.toString()),_);else if(a.addListener&&a.removeListener)a.addListener(_);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Gs(){function a(p){return f.call(a.src,a.listener,p)}const f=L;return a}function zr(a,f,p,_,x){if(Array.isArray(f))for(var V=0;V<f.length;V++)zr(a,f[V],p,_,x);else _=l(_)?!!_.capture:!!_,p=H(p),a&&a[Ee]?(a=a.i,V=String(f).toString(),V in a.g&&(f=a.g[V],p=cn(f,p,_,x),p>-1&&(Z(f[p]),Array.prototype.splice.call(f,p,1),f.length==0&&(delete a.g[V],a.h--)))):a&&(a=W(a))&&(f=a.g[f.toString()],a=-1,f&&(a=cn(f,p,_,x)),(p=a>-1?f[a]:null)&&S(p))}function S(a){if(typeof a!="number"&&a&&!a.da){var f=a.src;if(f&&f[Ee])Ws(f.i,a);else{var p=a.type,_=a.proxy;f.removeEventListener?f.removeEventListener(p,_,a.capture):f.detachEvent?f.detachEvent(P(p),_):f.addListener&&f.removeListener&&f.removeListener(_),(p=W(f))?(Ws(p,a),p.h==0&&(p.src=null,f[Pn]=null)):Z(a)}}}function P(a){return a in pr?pr[a]:pr[a]="on"+a}function L(a,f){if(a.da)a=!0;else{f=new ce(f,this);const p=a.listener,_=a.ha||a.src;a.fa&&S(a),a=p.call(_,f)}return a}function W(a){return a=a[Pn],a instanceof Wr?a:null}var B="__closure_events_fn_"+(Math.random()*1e9>>>0);function H(a){return typeof a=="function"?a:(a[B]||(a[B]=function(f){return a.handleEvent(f)}),a[B])}function G(){T.call(this),this.i=new Wr(this),this.M=this,this.G=null}d(G,T),G.prototype[Ee]=!0,G.prototype.removeEventListener=function(a,f,p,_){zr(this,a,f,p,_)};function z(a,f){var p,_=a.G;if(_)for(p=[];_;_=_.G)p.push(_);if(a=a.M,_=f.type||f,typeof f=="string")f=new A(f,a);else if(f instanceof A)f.target=f.target||a;else{var x=f;f=new A(_,a),qs(f,x)}x=!0;let V,Q;if(p)for(Q=p.length-1;Q>=0;Q--)V=f.g=p[Q],x=K(V,_,!0,f)&&x;if(V=f.g=a,x=K(V,_,!0,f)&&x,x=K(V,_,!1,f)&&x,p)for(Q=0;Q<p.length;Q++)V=f.g=p[Q],x=K(V,_,!1,f)&&x}G.prototype.N=function(){if(G.Z.N.call(this),this.i){var a=this.i;for(const f in a.g){const p=a.g[f];for(let _=0;_<p.length;_++)Z(p[_]);delete a.g[f],a.h--}}this.G=null},G.prototype.J=function(a,f,p,_){return this.i.add(String(a),f,!1,p,_)},G.prototype.K=function(a,f,p,_){return this.i.add(String(a),f,!0,p,_)};function K(a,f,p,_){if(f=a.i.g[String(f)],!f)return!0;f=f.concat();let x=!0;for(let V=0;V<f.length;++V){const Q=f[V];if(Q&&!Q.da&&Q.capture==p){const pe=Q.listener,Ye=Q.ha||Q.src;Q.fa&&Ws(a.i,Q),x=pe.call(Ye,_)!==!1&&x}}return x&&!_.defaultPrevented}function q(a,f){if(typeof a!="function")if(a&&typeof a.handleEvent=="function")a=h(a.handleEvent,a);else throw Error("Invalid listener argument");return Number(f)>2147483647?-1:o.setTimeout(a,f||0)}function re(a){a.g=q(()=>{a.g=null,a.i&&(a.i=!1,re(a))},a.l);const f=a.h;a.h=null,a.m.apply(null,f)}class J extends T{constructor(f,p){super(),this.m=f,this.l=p,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:re(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ee(a){T.call(this),this.h=a,this.g={}}d(ee,T);var le=[];function me(a){Ce(a.g,function(f,p){this.g.hasOwnProperty(p)&&S(f)},a),a.g={}}ee.prototype.N=function(){ee.Z.N.call(this),me(this)},ee.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ae=o.JSON.stringify,Ie=o.JSON.parse,ct=class{stringify(a){return o.JSON.stringify(a,void 0)}parse(a){return o.JSON.parse(a,void 0)}};function Je(){}function vt(){}var Xe={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function un(){A.call(this,"d")}d(un,A);function Gr(){A.call(this,"c")}d(Gr,A);var Be={},At=null;function gr(){return At=At||new G}Be.Ia="serverreachability";function Ks(a){A.call(this,Be.Ia,a)}d(Ks,A);function Qs(a){const f=gr();z(f,new Ks(f))}Be.STAT_EVENT="statevent";function mh(a,f){A.call(this,Be.STAT_EVENT,a),this.stat=f}d(mh,A);function gt(a){const f=gr();z(f,new mh(f,a))}Be.Ja="timingevent";function _h(a,f){A.call(this,Be.Ja,a),this.size=f}d(_h,A);function Js(a,f){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){a()},f)}function Xs(){this.g=!0}Xs.prototype.ua=function(){this.g=!1};function fv(a,f,p,_,x,V){a.info(function(){if(a.g)if(V){var Q="",pe=V.split("&");for(let xe=0;xe<pe.length;xe++){var Ye=pe[xe].split("=");if(Ye.length>1){const tt=Ye[0];Ye=Ye[1];const zt=tt.split("_");Q=zt.length>=2&&zt[1]=="type"?Q+(tt+"="+Ye+"&"):Q+(tt+"=redacted&")}}}else Q=null;else Q=V;return"XMLHTTP REQ ("+_+") [attempt "+x+"]: "+f+`
`+p+`
`+Q})}function dv(a,f,p,_,x,V,Q){a.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+x+"]: "+f+`
`+p+`
`+V+" "+Q})}function Kr(a,f,p,_){a.info(function(){return"XMLHTTP TEXT ("+f+"): "+gv(a,p)+(_?" "+_:"")})}function pv(a,f){a.info(function(){return"TIMEOUT: "+f})}Xs.prototype.info=function(){};function gv(a,f){if(!a.g)return f;if(!f)return null;try{const V=JSON.parse(f);if(V){for(a=0;a<V.length;a++)if(Array.isArray(V[a])){var p=V[a];if(!(p.length<2)){var _=p[1];if(Array.isArray(_)&&!(_.length<1)){var x=_[0];if(x!="noop"&&x!="stop"&&x!="close")for(let Q=1;Q<_.length;Q++)_[Q]=""}}}}return Ae(V)}catch{return f}}var ao={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},yh={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},vh;function al(){}d(al,Je),al.prototype.g=function(){return new XMLHttpRequest},vh=new al;function Ys(a){return encodeURIComponent(String(a))}function mv(a){var f=1;a=a.split(":");const p=[];for(;f>0&&a.length;)p.push(a.shift()),f--;return a.length&&p.push(a.join(":")),p}function kn(a,f,p,_){this.j=a,this.i=f,this.l=p,this.S=_||1,this.V=new ee(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new wh}function wh(){this.i=null,this.g="",this.h=!1}var Eh={},ll={};function cl(a,f,p){a.M=1,a.A=co(Wt(f)),a.u=p,a.R=!0,Th(a,null)}function Th(a,f){a.F=Date.now(),lo(a),a.B=Wt(a.A);var p=a.B,_=a.S;Array.isArray(_)||(_=[String(_)]),Oh(p.i,"t",_),a.C=0,p=a.j.L,a.h=new wh,a.g=Zh(a.j,p?f:null,!a.u),a.P>0&&(a.O=new J(h(a.Y,a,a.g),a.P)),f=a.V,p=a.g,_=a.ba;var x="readystatechange";Array.isArray(x)||(x&&(le[0]=x.toString()),x=le);for(let V=0;V<x.length;V++){const Q=zs(p,x[V],_||f.handleEvent,!1,f.h||f);if(!Q)break;f.g[Q.key]=Q}f=a.J?qt(a.J):{},a.u?(a.v||(a.v="POST"),f["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.B,a.v,a.u,f)):(a.v="GET",a.g.ea(a.B,a.v,null,f)),Qs(),fv(a.i,a.v,a.B,a.l,a.S,a.u)}kn.prototype.ba=function(a){a=a.target;const f=this.O;f&&Vn(a)==3?f.j():this.Y(a)},kn.prototype.Y=function(a){try{if(a==this.g)e:{const pe=Vn(this.g),Ye=this.g.ya(),xe=this.g.ca();if(!(pe<3)&&(pe!=3||this.g&&(this.h.h||this.g.la()||Bh(this.g)))){this.K||pe!=4||Ye==7||(Ye==8||xe<=0?Qs(3):Qs(2)),ul(this);var f=this.g.ca();this.X=f;var p=_v(this);if(this.o=f==200,dv(this.i,this.v,this.B,this.l,this.S,pe,f),this.o){if(this.U&&!this.L){t:{if(this.g){var _,x=this.g;if((_=x.g?x.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(_)){var V=_;break t}}V=null}if(a=V)Kr(this.i,this.l,a,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,hl(this,a);else{this.o=!1,this.m=3,gt(12),mr(this),Zs(this);break e}}if(this.R){a=!0;let tt;for(;!this.K&&this.C<p.length;)if(tt=yv(this,p),tt==ll){pe==4&&(this.m=4,gt(14),a=!1),Kr(this.i,this.l,null,"[Incomplete Response]");break}else if(tt==Eh){this.m=4,gt(15),Kr(this.i,this.l,p,"[Invalid Chunk]"),a=!1;break}else Kr(this.i,this.l,tt,null),hl(this,tt);if(bh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),pe!=4||p.length!=0||this.h.h||(this.m=1,gt(16),a=!1),this.o=this.o&&a,!a)Kr(this.i,this.l,p,"[Invalid Chunked Response]"),mr(this),Zs(this);else if(p.length>0&&!this.W){this.W=!0;var Q=this.j;Q.g==this&&Q.aa&&!Q.P&&(Q.j.info("Great, no buffering proxy detected. Bytes received: "+p.length),vl(Q),Q.P=!0,gt(11))}}else Kr(this.i,this.l,p,null),hl(this,p);pe==4&&mr(this),this.o&&!this.K&&(pe==4?Qh(this.j,this):(this.o=!1,lo(this)))}else Nv(this.g),f==400&&p.indexOf("Unknown SID")>0?(this.m=3,gt(12)):(this.m=0,gt(13)),mr(this),Zs(this)}}}catch{}finally{}};function _v(a){if(!bh(a))return a.g.la();const f=Bh(a.g);if(f==="")return"";let p="";const _=f.length,x=Vn(a.g)==4;if(!a.h.i){if(typeof TextDecoder>"u")return mr(a),Zs(a),"";a.h.i=new o.TextDecoder}for(let V=0;V<_;V++)a.h.h=!0,p+=a.h.i.decode(f[V],{stream:!(x&&V==_-1)});return f.length=0,a.h.g+=p,a.C=0,a.h.g}function bh(a){return a.g?a.v=="GET"&&a.M!=2&&a.j.Aa:!1}function yv(a,f){var p=a.C,_=f.indexOf(`
`,p);return _==-1?ll:(p=Number(f.substring(p,_)),isNaN(p)?Eh:(_+=1,_+p>f.length?ll:(f=f.slice(_,_+p),a.C=_+p,f)))}kn.prototype.cancel=function(){this.K=!0,mr(this)};function lo(a){a.T=Date.now()+a.H,Ih(a,a.H)}function Ih(a,f){if(a.D!=null)throw Error("WatchDog timer not null");a.D=Js(h(a.aa,a),f)}function ul(a){a.D&&(o.clearTimeout(a.D),a.D=null)}kn.prototype.aa=function(){this.D=null;const a=Date.now();a-this.T>=0?(pv(this.i,this.B),this.M!=2&&(Qs(),gt(17)),mr(this),this.m=2,Zs(this)):Ih(this,this.T-a)};function Zs(a){a.j.I==0||a.K||Qh(a.j,a)}function mr(a){ul(a);var f=a.O;f&&typeof f.dispose=="function"&&f.dispose(),a.O=null,me(a.V),a.g&&(f=a.g,a.g=null,f.abort(),f.dispose())}function hl(a,f){try{var p=a.j;if(p.I!=0&&(p.g==a||fl(p.h,a))){if(!a.L&&fl(p.h,a)&&p.I==3){try{var _=p.Ba.g.parse(f)}catch{_=null}if(Array.isArray(_)&&_.length==3){var x=_;if(x[0]==0){e:if(!p.v){if(p.g)if(p.g.F+3e3<a.F)go(p),fo(p);else break e;yl(p),gt(18)}}else p.xa=x[1],0<p.xa-p.K&&x[2]<37500&&p.F&&p.A==0&&!p.C&&(p.C=Js(h(p.Va,p),6e3));Rh(p.h)<=1&&p.ta&&(p.ta=void 0)}else yr(p,11)}else if((a.L||p.g==a)&&go(p),!w(f))for(x=p.Ba.g.parse(f),f=0;f<x.length;f++){let xe=x[f];const tt=xe[0];if(!(tt<=p.K))if(p.K=tt,xe=xe[1],p.I==2)if(xe[0]=="c"){p.M=xe[1],p.ba=xe[2];const zt=xe[3];zt!=null&&(p.ka=zt,p.j.info("VER="+p.ka));const vr=xe[4];vr!=null&&(p.za=vr,p.j.info("SVER="+p.za));const On=xe[5];On!=null&&typeof On=="number"&&On>0&&(_=1.5*On,p.O=_,p.j.info("backChannelRequestTimeoutMs_="+_)),_=p;const Mn=a.g;if(Mn){const _o=Mn.g?Mn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_o){var V=_.h;V.g||_o.indexOf("spdy")==-1&&_o.indexOf("quic")==-1&&_o.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(dl(V,V.h),V.h=null))}if(_.G){const wl=Mn.g?Mn.g.getResponseHeader("X-HTTP-Session-Id"):null;wl&&(_.wa=wl,Oe(_.J,_.G,wl))}}p.I=3,p.l&&p.l.ra(),p.aa&&(p.T=Date.now()-a.F,p.j.info("Handshake RTT: "+p.T+"ms")),_=p;var Q=a;if(_.na=Yh(_,_.L?_.ba:null,_.W),Q.L){Ch(_.h,Q);var pe=Q,Ye=_.O;Ye&&(pe.H=Ye),pe.D&&(ul(pe),lo(pe)),_.g=Q}else Gh(_);p.i.length>0&&po(p)}else xe[0]!="stop"&&xe[0]!="close"||yr(p,7);else p.I==3&&(xe[0]=="stop"||xe[0]=="close"?xe[0]=="stop"?yr(p,7):_l(p):xe[0]!="noop"&&p.l&&p.l.qa(xe),p.A=0)}}Qs(4)}catch{}}var vv=class{constructor(a,f){this.g=a,this.map=f}};function Ah(a){this.l=a||10,o.PerformanceNavigationTiming?(a=o.performance.getEntriesByType("navigation"),a=a.length>0&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Sh(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Rh(a){return a.h?1:a.g?a.g.size:0}function fl(a,f){return a.h?a.h==f:a.g?a.g.has(f):!1}function dl(a,f){a.g?a.g.add(f):a.h=f}function Ch(a,f){a.h&&a.h==f?a.h=null:a.g&&a.g.has(f)&&a.g.delete(f)}Ah.prototype.cancel=function(){if(this.i=Ph(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function Ph(a){if(a.h!=null)return a.i.concat(a.h.G);if(a.g!=null&&a.g.size!==0){let f=a.i;for(const p of a.g.values())f=f.concat(p.G);return f}return m(a.i)}var xh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wv(a,f){if(a){a=a.split("&");for(let p=0;p<a.length;p++){const _=a[p].indexOf("=");let x,V=null;_>=0?(x=a[p].substring(0,_),V=a[p].substring(_+1)):x=a[p],f(x,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Nn(a){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let f;a instanceof Nn?(this.l=a.l,ei(this,a.j),this.o=a.o,this.g=a.g,ti(this,a.u),this.h=a.h,pl(this,Mh(a.i)),this.m=a.m):a&&(f=String(a).match(xh))?(this.l=!1,ei(this,f[1]||"",!0),this.o=ni(f[2]||""),this.g=ni(f[3]||"",!0),ti(this,f[4]),this.h=ni(f[5]||"",!0),pl(this,f[6]||"",!0),this.m=ni(f[7]||"")):(this.l=!1,this.i=new si(null,this.l))}Nn.prototype.toString=function(){const a=[];var f=this.j;f&&a.push(ri(f,kh,!0),":");var p=this.g;return(p||f=="file")&&(a.push("//"),(f=this.o)&&a.push(ri(f,kh,!0),"@"),a.push(Ys(p).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.u,p!=null&&a.push(":",String(p))),(p=this.h)&&(this.g&&p.charAt(0)!="/"&&a.push("/"),a.push(ri(p,p.charAt(0)=="/"?bv:Tv,!0))),(p=this.i.toString())&&a.push("?",p),(p=this.m)&&a.push("#",ri(p,Av)),a.join("")},Nn.prototype.resolve=function(a){const f=Wt(this);let p=!!a.j;p?ei(f,a.j):p=!!a.o,p?f.o=a.o:p=!!a.g,p?f.g=a.g:p=a.u!=null;var _=a.h;if(p)ti(f,a.u);else if(p=!!a.h){if(_.charAt(0)!="/")if(this.g&&!this.h)_="/"+_;else{var x=f.h.lastIndexOf("/");x!=-1&&(_=f.h.slice(0,x+1)+_)}if(x=_,x==".."||x==".")_="";else if(x.indexOf("./")!=-1||x.indexOf("/.")!=-1){_=x.lastIndexOf("/",0)==0,x=x.split("/");const V=[];for(let Q=0;Q<x.length;){const pe=x[Q++];pe=="."?_&&Q==x.length&&V.push(""):pe==".."?((V.length>1||V.length==1&&V[0]!="")&&V.pop(),_&&Q==x.length&&V.push("")):(V.push(pe),_=!0)}_=V.join("/")}else _=x}return p?f.h=_:p=a.i.toString()!=="",p?pl(f,Mh(a.i)):p=!!a.m,p&&(f.m=a.m),f};function Wt(a){return new Nn(a)}function ei(a,f,p){a.j=p?ni(f,!0):f,a.j&&(a.j=a.j.replace(/:$/,""))}function ti(a,f){if(f){if(f=Number(f),isNaN(f)||f<0)throw Error("Bad port number "+f);a.u=f}else a.u=null}function pl(a,f,p){f instanceof si?(a.i=f,Sv(a.i,a.l)):(p||(f=ri(f,Iv)),a.i=new si(f,a.l))}function Oe(a,f,p){a.i.set(f,p)}function co(a){return Oe(a,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),a}function ni(a,f){return a?f?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function ri(a,f,p){return typeof a=="string"?(a=encodeURI(a).replace(f,Ev),p&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function Ev(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var kh=/[#\/\?@]/g,Tv=/[#\?:]/g,bv=/[#\?]/g,Iv=/[#\?@]/g,Av=/#/g;function si(a,f){this.h=this.g=null,this.i=a||null,this.j=!!f}function _r(a){a.g||(a.g=new Map,a.h=0,a.i&&wv(a.i,function(f,p){a.add(decodeURIComponent(f.replace(/\+/g," ")),p)}))}t=si.prototype,t.add=function(a,f){_r(this),this.i=null,a=Qr(this,a);let p=this.g.get(a);return p||this.g.set(a,p=[]),p.push(f),this.h+=1,this};function Nh(a,f){_r(a),f=Qr(a,f),a.g.has(f)&&(a.i=null,a.h-=a.g.get(f).length,a.g.delete(f))}function Dh(a,f){return _r(a),f=Qr(a,f),a.g.has(f)}t.forEach=function(a,f){_r(this),this.g.forEach(function(p,_){p.forEach(function(x){a.call(f,x,_,this)},this)},this)};function Vh(a,f){_r(a);let p=[];if(typeof f=="string")Dh(a,f)&&(p=p.concat(a.g.get(Qr(a,f))));else for(a=Array.from(a.g.values()),f=0;f<a.length;f++)p=p.concat(a[f]);return p}t.set=function(a,f){return _r(this),this.i=null,a=Qr(this,a),Dh(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[f]),this.h+=1,this},t.get=function(a,f){return a?(a=Vh(this,a),a.length>0?String(a[0]):f):f};function Oh(a,f,p){Nh(a,f),p.length>0&&(a.i=null,a.g.set(Qr(a,f),m(p)),a.h+=p.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],f=Array.from(this.g.keys());for(let _=0;_<f.length;_++){var p=f[_];const x=Ys(p);p=Vh(this,p);for(let V=0;V<p.length;V++){let Q=x;p[V]!==""&&(Q+="="+Ys(p[V])),a.push(Q)}}return this.i=a.join("&")};function Mh(a){const f=new si;return f.i=a.i,a.g&&(f.g=new Map(a.g),f.h=a.h),f}function Qr(a,f){return f=String(f),a.j&&(f=f.toLowerCase()),f}function Sv(a,f){f&&!a.j&&(_r(a),a.i=null,a.g.forEach(function(p,_){const x=_.toLowerCase();_!=x&&(Nh(this,_),Oh(this,x,p))},a)),a.j=f}function Rv(a,f){const p=new Xs;if(o.Image){const _=new Image;_.onload=u(Dn,p,"TestLoadImage: loaded",!0,f,_),_.onerror=u(Dn,p,"TestLoadImage: error",!1,f,_),_.onabort=u(Dn,p,"TestLoadImage: abort",!1,f,_),_.ontimeout=u(Dn,p,"TestLoadImage: timeout",!1,f,_),o.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=a}else f(!1)}function Cv(a,f){const p=new Xs,_=new AbortController,x=setTimeout(()=>{_.abort(),Dn(p,"TestPingServer: timeout",!1,f)},1e4);fetch(a,{signal:_.signal}).then(V=>{clearTimeout(x),V.ok?Dn(p,"TestPingServer: ok",!0,f):Dn(p,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(x),Dn(p,"TestPingServer: error",!1,f)})}function Dn(a,f,p,_,x){try{x&&(x.onload=null,x.onerror=null,x.onabort=null,x.ontimeout=null),_(p)}catch{}}function Pv(){this.g=new ct}function gl(a){this.i=a.Sb||null,this.h=a.ab||!1}d(gl,Je),gl.prototype.g=function(){return new uo(this.i,this.h)};function uo(a,f){G.call(this),this.H=a,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}d(uo,G),t=uo.prototype,t.open=function(a,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=a,this.D=f,this.readyState=1,oi(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const f={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};a&&(f.body=a),(this.H||o).fetch(new Request(this.D,f)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ii(this)),this.readyState=0},t.Pa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,oi(this)),this.g&&(this.readyState=3,oi(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Lh(this)}else a.text().then(this.Oa.bind(this),this.ga.bind(this))};function Lh(a){a.j.read().then(a.Ma.bind(a)).catch(a.ga.bind(a))}t.Ma=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var f=a.value?a.value:new Uint8Array(0);(f=this.B.decode(f,{stream:!a.done}))&&(this.response=this.responseText+=f)}a.done?ii(this):oi(this),this.readyState==3&&Lh(this)}},t.Oa=function(a){this.g&&(this.response=this.responseText=a,ii(this))},t.Na=function(a){this.g&&(this.response=a,ii(this))},t.ga=function(){this.g&&ii(this)};function ii(a){a.readyState=4,a.l=null,a.j=null,a.B=null,oi(a)}t.setRequestHeader=function(a,f){this.A.append(a,f)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],f=this.h.entries();for(var p=f.next();!p.done;)p=p.value,a.push(p[0]+": "+p[1]),p=f.next();return a.join(`\r
`)};function oi(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(uo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function Fh(a){let f="";return Ce(a,function(p,_){f+=_,f+=":",f+=p,f+=`\r
`}),f}function ml(a,f,p){e:{for(_ in p){var _=!1;break e}_=!0}_||(p=Fh(p),typeof a=="string"?p!=null&&Ys(p):Oe(a,f,p))}function $e(a){G.call(this),this.headers=new Map,this.L=a||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}d($e,G);var xv=/^https?$/i,kv=["POST","PUT"];t=$e.prototype,t.Fa=function(a){this.H=a},t.ea=function(a,f,p,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);f=f?f.toUpperCase():"GET",this.D=a,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():vh.g(),this.g.onreadystatechange=g(h(this.Ca,this));try{this.B=!0,this.g.open(f,String(a),!0),this.B=!1}catch(V){Uh(this,V);return}if(a=p||"",p=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var x in _)p.set(x,_[x]);else if(typeof _.keys=="function"&&typeof _.get=="function")for(const V of _.keys())p.set(V,_.get(V));else throw Error("Unknown input type for opt_headers: "+String(_));_=Array.from(p.keys()).find(V=>V.toLowerCase()=="content-type"),x=o.FormData&&a instanceof o.FormData,!(Array.prototype.indexOf.call(kv,f,void 0)>=0)||_||x||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,Q]of p)this.g.setRequestHeader(V,Q);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(a),this.v=!1}catch(V){Uh(this,V)}};function Uh(a,f){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=f,a.o=5,$h(a),ho(a)}function $h(a){a.A||(a.A=!0,z(a,"complete"),z(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=a||7,z(this,"complete"),z(this,"abort"),ho(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ho(this,!0)),$e.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?jh(this):this.Xa())},t.Xa=function(){jh(this)};function jh(a){if(a.h&&typeof i<"u"){if(a.v&&Vn(a)==4)setTimeout(a.Ca.bind(a),0);else if(z(a,"readystatechange"),Vn(a)==4){a.h=!1;try{const V=a.ca();e:switch(V){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var p;if(!(p=f)){var _;if(_=V===0){let Q=String(a.D).match(xh)[1]||null;!Q&&o.self&&o.self.location&&(Q=o.self.location.protocol.slice(0,-1)),_=!xv.test(Q?Q.toLowerCase():"")}p=_}if(p)z(a,"complete"),z(a,"success");else{a.o=6;try{var x=Vn(a)>2?a.g.statusText:""}catch{x=""}a.l=x+" ["+a.ca()+"]",$h(a)}}finally{ho(a)}}}}function ho(a,f){if(a.g){a.m&&(clearTimeout(a.m),a.m=null);const p=a.g;a.g=null,f||z(a,"ready");try{p.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Vn(a){return a.g?a.g.readyState:0}t.ca=function(){try{return Vn(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(a){if(this.g){var f=this.g.responseText;return a&&f.indexOf(a)==0&&(f=f.substring(a.length)),Ie(f)}};function Bh(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.F){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function Nv(a){const f={};a=(a.g&&Vn(a)>=2&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let _=0;_<a.length;_++){if(w(a[_]))continue;var p=mv(a[_]);const x=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const V=f[x]||[];f[x]=V,V.push(p)}qr(f,function(_){return _.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ai(a,f,p){return p&&p.internalChannelParams&&p.internalChannelParams[a]||f}function Hh(a){this.za=0,this.i=[],this.j=new Xs,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ai("failFast",!1,a),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ai("baseRetryDelayMs",5e3,a),this.Za=ai("retryDelaySeedMs",1e4,a),this.Ta=ai("forwardChannelMaxRetries",2,a),this.va=ai("forwardChannelRequestTimeoutMs",2e4,a),this.ma=a&&a.xmlHttpFactory||void 0,this.Ua=a&&a.Rb||void 0,this.Aa=a&&a.useFetchStreams||!1,this.O=void 0,this.L=a&&a.supportsCrossDomainXhr||!1,this.M="",this.h=new Ah(a&&a.concurrentRequestLimit),this.Ba=new Pv,this.S=a&&a.fastHandshake||!1,this.R=a&&a.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=a&&a.Pb||!1,a&&a.ua&&this.j.ua(),a&&a.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&a&&a.detectBufferingProxy||!1,this.ia=void 0,a&&a.longPollingTimeout&&a.longPollingTimeout>0&&(this.ia=a.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Hh.prototype,t.ka=8,t.I=1,t.connect=function(a,f,p,_){gt(0),this.W=a,this.H=f||{},p&&_!==void 0&&(this.H.OSID=p,this.H.OAID=_),this.F=this.X,this.J=Yh(this,null,this.W),po(this)};function _l(a){if(qh(a),a.I==3){var f=a.V++,p=Wt(a.J);if(Oe(p,"SID",a.M),Oe(p,"RID",f),Oe(p,"TYPE","terminate"),li(a,p),f=new kn(a,a.j,f),f.M=2,f.A=co(Wt(p)),p=!1,o.navigator&&o.navigator.sendBeacon)try{p=o.navigator.sendBeacon(f.A.toString(),"")}catch{}!p&&o.Image&&(new Image().src=f.A,p=!0),p||(f.g=Zh(f.j,null),f.g.ea(f.A)),f.F=Date.now(),lo(f)}Xh(a)}function fo(a){a.g&&(vl(a),a.g.cancel(),a.g=null)}function qh(a){fo(a),a.v&&(o.clearTimeout(a.v),a.v=null),go(a),a.h.cancel(),a.m&&(typeof a.m=="number"&&o.clearTimeout(a.m),a.m=null)}function po(a){if(!Sh(a.h)&&!a.m){a.m=!0;var f=a.Ea;M||v(),j||(M(),j=!0),E.add(f,a),a.D=0}}function Dv(a,f){return Rh(a.h)>=a.h.j-(a.m?1:0)?!1:a.m?(a.i=f.G.concat(a.i),!0):a.I==1||a.I==2||a.D>=(a.Sa?0:a.Ta)?!1:(a.m=Js(h(a.Ea,a,f),Jh(a,a.D)),a.D++,!0)}t.Ea=function(a){if(this.m)if(this.m=null,this.I==1){if(!a){this.V=Math.floor(Math.random()*1e5),a=this.V++;const x=new kn(this,this.j,a);let V=this.o;if(this.U&&(V?(V=qt(V),qs(V,this.U)):V=this.U),this.u!==null||this.R||(x.J=V,V=null),this.S)e:{for(var f=0,p=0;p<this.i.length;p++){t:{var _=this.i[p];if("__data__"in _.map&&(_=_.map.__data__,typeof _=="string")){_=_.length;break t}_=void 0}if(_===void 0)break;if(f+=_,f>4096){f=p;break e}if(f===4096||p===this.i.length-1){f=p+1;break e}}f=1e3}else f=1e3;f=zh(this,x,f),p=Wt(this.J),Oe(p,"RID",a),Oe(p,"CVER",22),this.G&&Oe(p,"X-HTTP-Session-Id",this.G),li(this,p),V&&(this.R?f="headers="+Ys(Fh(V))+"&"+f:this.u&&ml(p,this.u,V)),dl(this.h,x),this.Ra&&Oe(p,"TYPE","init"),this.S?(Oe(p,"$req",f),Oe(p,"SID","null"),x.U=!0,cl(x,p,null)):cl(x,p,f),this.I=2}}else this.I==3&&(a?Wh(this,a):this.i.length==0||Sh(this.h)||Wh(this))};function Wh(a,f){var p;f?p=f.l:p=a.V++;const _=Wt(a.J);Oe(_,"SID",a.M),Oe(_,"RID",p),Oe(_,"AID",a.K),li(a,_),a.u&&a.o&&ml(_,a.u,a.o),p=new kn(a,a.j,p,a.D+1),a.u===null&&(p.J=a.o),f&&(a.i=f.G.concat(a.i)),f=zh(a,p,1e3),p.H=Math.round(a.va*.5)+Math.round(a.va*.5*Math.random()),dl(a.h,p),cl(p,_,f)}function li(a,f){a.H&&Ce(a.H,function(p,_){Oe(f,_,p)}),a.l&&Ce({},function(p,_){Oe(f,_,p)})}function zh(a,f,p){p=Math.min(a.i.length,p);const _=a.l?h(a.l.Ka,a.l,a):null;e:{var x=a.i;let pe=-1;for(;;){const Ye=["count="+p];pe==-1?p>0?(pe=x[0].g,Ye.push("ofs="+pe)):pe=0:Ye.push("ofs="+pe);let xe=!0;for(let tt=0;tt<p;tt++){var V=x[tt].g;const zt=x[tt].map;if(V-=pe,V<0)pe=Math.max(0,x[tt].g-100),xe=!1;else try{V="req"+V+"_"||"";try{var Q=zt instanceof Map?zt:Object.entries(zt);for(const[vr,On]of Q){let Mn=On;l(On)&&(Mn=Ae(On)),Ye.push(V+vr+"="+encodeURIComponent(Mn))}}catch(vr){throw Ye.push(V+"type="+encodeURIComponent("_badmap")),vr}}catch{_&&_(zt)}}if(xe){Q=Ye.join("&");break e}}Q=void 0}return a=a.i.splice(0,p),f.G=a,Q}function Gh(a){if(!a.g&&!a.v){a.Y=1;var f=a.Da;M||v(),j||(M(),j=!0),E.add(f,a),a.A=0}}function yl(a){return a.g||a.v||a.A>=3?!1:(a.Y++,a.v=Js(h(a.Da,a),Jh(a,a.A)),a.A++,!0)}t.Da=function(){if(this.v=null,Kh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var a=4*this.T;this.j.info("BP detection timer enabled: "+a),this.B=Js(h(this.Wa,this),a)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,gt(10),fo(this),Kh(this))};function vl(a){a.B!=null&&(o.clearTimeout(a.B),a.B=null)}function Kh(a){a.g=new kn(a,a.j,"rpc",a.Y),a.u===null&&(a.g.J=a.o),a.g.P=0;var f=Wt(a.na);Oe(f,"RID","rpc"),Oe(f,"SID",a.M),Oe(f,"AID",a.K),Oe(f,"CI",a.F?"0":"1"),!a.F&&a.ia&&Oe(f,"TO",a.ia),Oe(f,"TYPE","xmlhttp"),li(a,f),a.u&&a.o&&ml(f,a.u,a.o),a.O&&(a.g.H=a.O);var p=a.g;a=a.ba,p.M=1,p.A=co(Wt(f)),p.u=null,p.R=!0,Th(p,a)}t.Va=function(){this.C!=null&&(this.C=null,fo(this),yl(this),gt(19))};function go(a){a.C!=null&&(o.clearTimeout(a.C),a.C=null)}function Qh(a,f){var p=null;if(a.g==f){go(a),vl(a),a.g=null;var _=2}else if(fl(a.h,f))p=f.G,Ch(a.h,f),_=1;else return;if(a.I!=0){if(f.o)if(_==1){p=f.u?f.u.length:0,f=Date.now()-f.F;var x=a.D;_=gr(),z(_,new _h(_,p)),po(a)}else Gh(a);else if(x=f.m,x==3||x==0&&f.X>0||!(_==1&&Dv(a,f)||_==2&&yl(a)))switch(p&&p.length>0&&(f=a.h,f.i=f.i.concat(p)),x){case 1:yr(a,5);break;case 4:yr(a,10);break;case 3:yr(a,6);break;default:yr(a,2)}}}function Jh(a,f){let p=a.Qa+Math.floor(Math.random()*a.Za);return a.isActive()||(p*=2),p*f}function yr(a,f){if(a.j.info("Error code "+f),f==2){var p=h(a.bb,a),_=a.Ua;const x=!_;_=new Nn(_||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||ei(_,"https"),co(_),x?Rv(_.toString(),p):Cv(_.toString(),p)}else gt(2);a.I=0,a.l&&a.l.pa(f),Xh(a),qh(a)}t.bb=function(a){a?(this.j.info("Successfully pinged google.com"),gt(2)):(this.j.info("Failed to ping google.com"),gt(1))};function Xh(a){if(a.I=0,a.ja=[],a.l){const f=Ph(a.h);(f.length!=0||a.i.length!=0)&&(I(a.ja,f),I(a.ja,a.i),a.h.i.length=0,m(a.i),a.i.length=0),a.l.oa()}}function Yh(a,f,p){var _=p instanceof Nn?Wt(p):new Nn(p);if(_.g!="")f&&(_.g=f+"."+_.g),ti(_,_.u);else{var x=o.location;_=x.protocol,f=f?f+"."+x.hostname:x.hostname,x=+x.port;const V=new Nn(null);_&&ei(V,_),f&&(V.g=f),x&&ti(V,x),p&&(V.h=p),_=V}return p=a.G,f=a.wa,p&&f&&Oe(_,p,f),Oe(_,"VER",a.ka),li(a,_),_}function Zh(a,f,p){if(f&&!a.L)throw Error("Can't create secondary domain capable XhrIo object.");return f=a.Aa&&!a.ma?new $e(new gl({ab:p})):new $e(a.ma),f.Fa(a.L),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ef(){}t=ef.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function mo(){}mo.prototype.g=function(a,f){return new St(a,f)};function St(a,f){G.call(this),this.g=new Hh(f),this.l=a,this.h=f&&f.messageUrlParams||null,a=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(a?a["X-WebChannel-Content-Type"]=f.messageContentType:a={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.sa&&(a?a["X-WebChannel-Client-Profile"]=f.sa:a={"X-WebChannel-Client-Profile":f.sa}),this.g.U=a,(a=f&&f.Qb)&&!w(a)&&(this.g.u=a),this.A=f&&f.supportsCrossDomainXhr||!1,this.v=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!w(f)&&(this.g.G=f,a=this.h,a!==null&&f in a&&(a=this.h,f in a&&delete a[f])),this.j=new Jr(this)}d(St,G),St.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},St.prototype.close=function(){_l(this.g)},St.prototype.o=function(a){var f=this.g;if(typeof a=="string"){var p={};p.__data__=a,a=p}else this.v&&(p={},p.__data__=Ae(a),a=p);f.i.push(new vv(f.Ya++,a)),f.I==3&&po(f)},St.prototype.N=function(){this.g.l=null,delete this.j,_l(this.g),delete this.g,St.Z.N.call(this)};function tf(a){un.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var f=a.__sm__;if(f){e:{for(const p in f){a=p;break e}a=void 0}(this.i=a)&&(a=this.i,f=f!==null&&a in f?f[a]:void 0),this.data=f}else this.data=a}d(tf,un);function nf(){Gr.call(this),this.status=1}d(nf,Gr);function Jr(a){this.g=a}d(Jr,ef),Jr.prototype.ra=function(){z(this.g,"a")},Jr.prototype.qa=function(a){z(this.g,new tf(a))},Jr.prototype.pa=function(a){z(this.g,new nf)},Jr.prototype.oa=function(){z(this.g,"b")},mo.prototype.createWebChannel=mo.prototype.g,St.prototype.send=St.prototype.o,St.prototype.open=St.prototype.m,St.prototype.close=St.prototype.close,L_=function(){return new mo},M_=function(){return gr()},O_=Be,Rc={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ao.NO_ERROR=0,ao.TIMEOUT=8,ao.HTTP_ERROR=6,Ho=ao,yh.COMPLETE="complete",V_=yh,vt.EventType=Xe,Xe.OPEN="a",Xe.CLOSE="b",Xe.ERROR="c",Xe.MESSAGE="d",G.prototype.listen=G.prototype.J,di=vt,$e.prototype.listenOnce=$e.prototype.K,$e.prototype.getLastError=$e.prototype.Ha,$e.prototype.getLastErrorCode=$e.prototype.ya,$e.prototype.getStatus=$e.prototype.ca,$e.prototype.getResponseJson=$e.prototype.La,$e.prototype.getResponseText=$e.prototype.la,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Fa,D_=$e}).apply(typeof Co<"u"?Co:typeof self<"u"?self:typeof window<"u"?window:{});const Fd="@firebase/firestore",Ud="4.9.2";class ht{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ht.UNAUTHENTICATED=new ht(null),ht.GOOGLE_CREDENTIALS=new ht("google-credentials-uid"),ht.FIRST_PARTY=new ht("first-party-uid"),ht.MOCK_USER=new ht("mock-user");let Us="12.3.0";const Fr=new vu("@firebase/firestore");function ts(){return Fr.logLevel}function Y(t,...e){if(Fr.logLevel<=_e.DEBUG){const n=e.map(Nu);Fr.debug(`Firestore (${Us}): ${t}`,...n)}}function In(t,...e){if(Fr.logLevel<=_e.ERROR){const n=e.map(Nu);Fr.error(`Firestore (${Us}): ${t}`,...n)}}function Rs(t,...e){if(Fr.logLevel<=_e.WARN){const n=e.map(Nu);Fr.warn(`Firestore (${Us}): ${t}`,...n)}}function Nu(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function oe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,F_(t,r,n)}function F_(t,e,n){let r=`FIRESTORE (${Us}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw In(r),new Error(r)}function Re(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||F_(e,s,r)}function fe(t,e){return t}const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class X extends Cn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class er{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class U_{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class SS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(ht.UNAUTHENTICATED)))}shutdown(){}}class RS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class CS{constructor(e){this.t=e,this.currentUser=ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Re(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new er;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new er,e.enqueueRetryable((()=>s(this.currentUser)))};const o=()=>{const c=i;e.enqueueRetryable((async()=>{await c.promise,await s(this.currentUser)}))},l=c=>{Y("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((c=>l(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Y("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new er)}}),0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Y("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Re(typeof r.accessToken=="string",31837,{l:r}),new U_(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Re(e===null||typeof e=="string",2055,{h:e}),new ht(e)}}class PS{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=ht.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class xS{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new PS(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(ht.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class $d{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kS{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ot(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Re(this.o===void 0,3512);const r=i=>{i.error!=null&&Y("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,Y("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable((()=>r(i)))};const s=i=>{Y("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((i=>s(i))),setTimeout((()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):Y("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new $d(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Re(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new $d(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function NS(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class Du{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=NS(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function ye(t,e){return t<e?-1:t>e?1:0}function Cc(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return Wl(s)===Wl(i)?ye(s,i):Wl(s)?1:-1}return ye(t.length,e.length)}const DS=55296,VS=57343;function Wl(t){const e=t.charCodeAt(0);return e>=DS&&e<=VS}function Cs(t,e,n){return t.length===e.length&&t.every(((r,s)=>n(r,e[s])))}const jd="__name__";class Qt{constructor(e,n,r){n===void 0?n=0:n>e.length&&oe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&oe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Qt.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Qt?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Qt.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return ye(e.length,n.length)}static compareSegments(e,n){const r=Qt.isNumericId(e),s=Qt.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Qt.extractNumericId(e).compare(Qt.extractNumericId(n)):Cc(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Zn.fromString(e.substring(4,e.length-2))}}class Ve extends Qt{construct(e,n,r){return new Ve(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new X(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((s=>s.length>0)))}return new Ve(n)}static emptyPath(){return new Ve([])}}const OS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class at extends Qt{construct(e,n,r){return new at(e,n,r)}static isValidIdentifier(e){return OS.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),at.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===jd}static keyField(){return new at([jd])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new X(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new X(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new X(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else l==="`"?(o=!o,s++):l!=="."||o?(r+=l,s++):(i(),s++)}if(i(),o)throw new X(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new at(n)}static emptyPath(){return new at([])}}class ne{constructor(e){this.path=e}static fromPath(e){return new ne(Ve.fromString(e))}static fromName(e){return new ne(Ve.fromString(e).popFirst(5))}static empty(){return new ne(Ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ve.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ve.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ne(new Ve(e.slice()))}}function $_(t,e,n){if(!n)throw new X(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function MS(t,e,n,r){if(e===!0&&r===!0)throw new X(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Bd(t){if(!ne.isDocumentKey(t))throw new X(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Hd(t){if(ne.isDocumentKey(t))throw new X(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function j_(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Ka(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":oe(12329,{type:typeof t})}function tr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new X(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ka(t);throw new X(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Qe(t,e){const n={typeString:t};return e&&(n.value=e),n}function no(t,e){if(!j_(t))throw new X(U.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new X(U.INVALID_ARGUMENT,n);return!0}const qd=-62135596800,Wd=1e6;class Me{static now(){return Me.fromMillis(Date.now())}static fromDate(e){return Me.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Wd);return new Me(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new X(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new X(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<qd)throw new X(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new X(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Wd}_compareTo(e){return this.seconds===e.seconds?ye(this.nanoseconds,e.nanoseconds):ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Me._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(no(e,Me._jsonSchema))return new Me(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-qd;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Me._jsonSchemaVersion="firestore/timestamp/1.0",Me._jsonSchema={type:Qe("string",Me._jsonSchemaVersion),seconds:Qe("number"),nanoseconds:Qe("number")};class he{static fromTimestamp(e){return new he(e)}static min(){return new he(new Me(0,0))}static max(){return new he(new Me(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Fi=-1;function LS(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=he.fromTimestamp(r===1e9?new Me(n+1,0):new Me(n,r));return new ir(s,ne.empty(),e)}function FS(t){return new ir(t.readTime,t.key,Fi)}class ir{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ir(he.min(),ne.empty(),Fi)}static max(){return new ir(he.max(),ne.empty(),Fi)}}function US(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ne.comparator(t.documentKey,e.documentKey),n!==0?n:ye(t.largestBatchId,e.largestBatchId))}const $S="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function $s(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==$S)throw t;Y("LocalStore","Unexpectedly lost primary lease")}class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&oe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $(((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):$.reject(n)}static resolve(e){return new $(((n,r)=>{n(e)}))}static reject(e){return new $(((n,r)=>{r(e)}))}static waitFor(e){return new $(((n,r)=>{let s=0,i=0,o=!1;e.forEach((l=>{++s,l.next((()=>{++i,o&&i===s&&n()}),(c=>r(c)))})),o=!0,i===s&&n()}))}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next((s=>s?$.resolve(s):r()));return n}static forEach(e,n){const r=[];return e.forEach(((s,i)=>{r.push(n.call(this,s,i))})),this.waitFor(r)}static mapArray(e,n){return new $(((r,s)=>{const i=e.length,o=new Array(i);let l=0;for(let c=0;c<i;c++){const h=c;n(e[h]).next((u=>{o[h]=u,++l,l===i&&r(o)}),(u=>s(u)))}}))}static doWhile(e,n){return new $(((r,s)=>{const i=()=>{e()===!0?n().next((()=>{i()}),s):r()};i()}))}}function BS(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function js(t){return t.name==="IndexedDbTransactionError"}class Qa{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Qa.ce=-1;const Vu=-1;function Ja(t){return t==null}function _a(t){return t===0&&1/t==-1/0}function HS(t){return typeof t=="number"&&Number.isInteger(t)&&!_a(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const B_="";function qS(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=zd(e)),e=WS(t.get(n),e);return zd(e)}function WS(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case B_:n+="";break;default:n+=i}}return n}function zd(t){return t+B_+""}function Gd(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function $r(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function H_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Ue{constructor(e,n){this.comparator=e,this.root=n||it.EMPTY}insert(e,n){return new Ue(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,it.BLACK,null,null))}remove(e){return new Ue(this.comparator,this.root.remove(e,this.comparator).copy(null,null,it.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Po(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Po(this.root,e,this.comparator,!1)}getReverseIterator(){return new Po(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Po(this.root,e,this.comparator,!0)}}class Po{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class it{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??it.RED,this.left=s??it.EMPTY,this.right=i??it.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new it(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return it.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return it.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,it.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,it.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw oe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw oe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw oe(27949);return e+(this.isRed()?0:1)}}it.EMPTY=null,it.RED=!0,it.BLACK=!1;it.EMPTY=new class{constructor(){this.size=0}get key(){throw oe(57766)}get value(){throw oe(16141)}get color(){throw oe(16727)}get left(){throw oe(29726)}get right(){throw oe(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new it(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class et{constructor(e){this.comparator=e,this.data=new Ue(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Kd(this.data.getIterator())}getIteratorFrom(e){return new Kd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof et)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new et(this.comparator);return n.data=e,n}}class Kd{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Lt{constructor(e){this.fields=e,e.sort(at.comparator)}static empty(){return new Lt([])}unionWith(e){let n=new et(at.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Lt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Cs(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class q_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class lt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new q_("Invalid base64 string: "+i):i}})(e);return new lt(n)}static fromUint8Array(e){const n=(function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i})(e);return new lt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}lt.EMPTY_BYTE_STRING=new lt("");const zS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function or(t){if(Re(!!t,39018),typeof t=="string"){let e=0;const n=zS.exec(t);if(Re(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:He(t.seconds),nanos:He(t.nanos)}}function He(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ar(t){return typeof t=="string"?lt.fromBase64String(t):lt.fromUint8Array(t)}const W_="server_timestamp",z_="__type__",G_="__previous_value__",K_="__local_write_time__";function Ou(t){return(t?.mapValue?.fields||{})[z_]?.stringValue===W_}function Xa(t){const e=t.mapValue.fields[G_];return Ou(e)?Xa(e):e}function Ui(t){const e=or(t.mapValue.fields[K_].timestampValue);return new Me(e.seconds,e.nanos)}class GS{constructor(e,n,r,s,i,o,l,c,h,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=h,this.isUsingEmulator=u}}const ya="(default)";class $i{constructor(e,n){this.projectId=e,this.database=n||ya}static empty(){return new $i("","")}get isDefaultDatabase(){return this.database===ya}isEqual(e){return e instanceof $i&&e.projectId===this.projectId&&e.database===this.database}}const Q_="__type__",KS="__max__",xo={mapValue:{}},J_="__vector__",va="value";function lr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ou(t)?4:JS(t)?9007199254740991:QS(t)?10:11:oe(28295,{value:t})}function ln(t,e){if(t===e)return!0;const n=lr(t);if(n!==lr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ui(t).isEqual(Ui(e));case 3:return(function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=or(s.timestampValue),l=or(i.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(s,i){return ar(s.bytesValue).isEqual(ar(i.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(s,i){return He(s.geoPointValue.latitude)===He(i.geoPointValue.latitude)&&He(s.geoPointValue.longitude)===He(i.geoPointValue.longitude)})(t,e);case 2:return(function(s,i){if("integerValue"in s&&"integerValue"in i)return He(s.integerValue)===He(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=He(s.doubleValue),l=He(i.doubleValue);return o===l?_a(o)===_a(l):isNaN(o)&&isNaN(l)}return!1})(t,e);case 9:return Cs(t.arrayValue.values||[],e.arrayValue.values||[],ln);case 10:case 11:return(function(s,i){const o=s.mapValue.fields||{},l=i.mapValue.fields||{};if(Gd(o)!==Gd(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!ln(o[c],l[c])))return!1;return!0})(t,e);default:return oe(52216,{left:t})}}function ji(t,e){return(t.values||[]).find((n=>ln(n,e)))!==void 0}function Ps(t,e){if(t===e)return 0;const n=lr(t),r=lr(e);if(n!==r)return ye(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ye(t.booleanValue,e.booleanValue);case 2:return(function(i,o){const l=He(i.integerValue||i.doubleValue),c=He(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1})(t,e);case 3:return Qd(t.timestampValue,e.timestampValue);case 4:return Qd(Ui(t),Ui(e));case 5:return Cc(t.stringValue,e.stringValue);case 6:return(function(i,o){const l=ar(i),c=ar(o);return l.compareTo(c)})(t.bytesValue,e.bytesValue);case 7:return(function(i,o){const l=i.split("/"),c=o.split("/");for(let h=0;h<l.length&&h<c.length;h++){const u=ye(l[h],c[h]);if(u!==0)return u}return ye(l.length,c.length)})(t.referenceValue,e.referenceValue);case 8:return(function(i,o){const l=ye(He(i.latitude),He(o.latitude));return l!==0?l:ye(He(i.longitude),He(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return Jd(t.arrayValue,e.arrayValue);case 10:return(function(i,o){const l=i.fields||{},c=o.fields||{},h=l[va]?.arrayValue,u=c[va]?.arrayValue,d=ye(h?.values?.length||0,u?.values?.length||0);return d!==0?d:Jd(h,u)})(t.mapValue,e.mapValue);case 11:return(function(i,o){if(i===xo.mapValue&&o===xo.mapValue)return 0;if(i===xo.mapValue)return 1;if(o===xo.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),h=o.fields||{},u=Object.keys(h);c.sort(),u.sort();for(let d=0;d<c.length&&d<u.length;++d){const g=Cc(c[d],u[d]);if(g!==0)return g;const m=Ps(l[c[d]],h[u[d]]);if(m!==0)return m}return ye(c.length,u.length)})(t.mapValue,e.mapValue);default:throw oe(23264,{he:n})}}function Qd(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ye(t,e);const n=or(t),r=or(e),s=ye(n.seconds,r.seconds);return s!==0?s:ye(n.nanos,r.nanos)}function Jd(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Ps(n[s],r[s]);if(i)return i}return ye(n.length,r.length)}function xs(t){return Pc(t)}function Pc(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=or(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ar(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ne.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Pc(i);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Pc(n.fields[o])}`;return s+"}"})(t.mapValue):oe(61005,{value:t})}function qo(t){switch(lr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Xa(t);return e?16+qo(e):16;case 5:return 2*t.stringValue.length;case 6:return ar(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,i)=>s+qo(i)),0)})(t.arrayValue);case 10:case 11:return(function(r){let s=0;return $r(r.fields,((i,o)=>{s+=i.length+qo(o)})),s})(t.mapValue);default:throw oe(13486,{value:t})}}function Xd(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function xc(t){return!!t&&"integerValue"in t}function Mu(t){return!!t&&"arrayValue"in t}function Yd(t){return!!t&&"nullValue"in t}function Zd(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Wo(t){return!!t&&"mapValue"in t}function QS(t){return(t?.mapValue?.fields||{})[Q_]?.stringValue===J_}function Ai(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return $r(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Ai(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ai(t.arrayValue.values[n]);return e}return{...t}}function JS(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===KS}class Nt{constructor(e){this.value=e}static empty(){return new Nt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Wo(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ai(n)}setAll(e){let n=at.emptyPath(),r={},s=[];e.forEach(((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=l.popLast()}o?r[l.lastSegment()]=Ai(o):s.push(l.lastSegment())}));const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Wo(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ln(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Wo(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){$r(n,((s,i)=>e[s]=i));for(const s of r)delete e[s]}clone(){return new Nt(Ai(this.value))}}function X_(t){const e=[];return $r(t.fields,((n,r)=>{const s=new at([n]);if(Wo(r)){const i=X_(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)})),new Lt(e)}class dt{constructor(e,n,r,s,i,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=l}static newInvalidDocument(e){return new dt(e,0,he.min(),he.min(),he.min(),Nt.empty(),0)}static newFoundDocument(e,n,r,s){return new dt(e,1,n,he.min(),r,s,0)}static newNoDocument(e,n){return new dt(e,2,n,he.min(),he.min(),Nt.empty(),0)}static newUnknownDocument(e,n){return new dt(e,3,n,he.min(),he.min(),Nt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(he.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=he.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class wa{constructor(e,n){this.position=e,this.inclusive=n}}function ep(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ne.comparator(ne.fromName(o.referenceValue),n.key):r=Ps(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function tp(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ln(t.position[n],e.position[n]))return!1;return!0}class Bi{constructor(e,n="asc"){this.field=e,this.dir=n}}function XS(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class Y_{}class Ke extends Y_{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new ZS(e,n,r):n==="array-contains"?new nR(e,r):n==="in"?new rR(e,r):n==="not-in"?new sR(e,r):n==="array-contains-any"?new iR(e,r):new Ke(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new eR(e,r):new tR(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ps(n,this.value)):n!==null&&lr(this.value)===lr(n)&&this.matchesComparison(Ps(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return oe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ht extends Y_{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ht(e,n)}matches(e){return Z_(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Z_(t){return t.op==="and"}function ey(t){return YS(t)&&Z_(t)}function YS(t){for(const e of t.filters)if(e instanceof Ht)return!1;return!0}function kc(t){if(t instanceof Ke)return t.field.canonicalString()+t.op.toString()+xs(t.value);if(ey(t))return t.filters.map((e=>kc(e))).join(",");{const e=t.filters.map((n=>kc(n))).join(",");return`${t.op}(${e})`}}function ty(t,e){return t instanceof Ke?(function(r,s){return s instanceof Ke&&r.op===s.op&&r.field.isEqual(s.field)&&ln(r.value,s.value)})(t,e):t instanceof Ht?(function(r,s){return s instanceof Ht&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((i,o,l)=>i&&ty(o,s.filters[l])),!0):!1})(t,e):void oe(19439)}function ny(t){return t instanceof Ke?(function(n){return`${n.field.canonicalString()} ${n.op} ${xs(n.value)}`})(t):t instanceof Ht?(function(n){return n.op.toString()+" {"+n.getFilters().map(ny).join(" ,")+"}"})(t):"Filter"}class ZS extends Ke{constructor(e,n,r){super(e,n,r),this.key=ne.fromName(r.referenceValue)}matches(e){const n=ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class eR extends Ke{constructor(e,n){super(e,"in",n),this.keys=ry("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class tR extends Ke{constructor(e,n){super(e,"not-in",n),this.keys=ry("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function ry(t,e){return(e.arrayValue?.values||[]).map((n=>ne.fromName(n.referenceValue)))}class nR extends Ke{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Mu(n)&&ji(n.arrayValue,this.value)}}class rR extends Ke{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ji(this.value.arrayValue,n)}}class sR extends Ke{constructor(e,n){super(e,"not-in",n)}matches(e){if(ji(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ji(this.value.arrayValue,n)}}class iR extends Ke{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Mu(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>ji(this.value.arrayValue,r)))}}class oR{constructor(e,n=null,r=[],s=[],i=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=l,this.Te=null}}function np(t,e=null,n=[],r=[],s=null,i=null,o=null){return new oR(t,e,n,r,s,i,o)}function Lu(t){const e=fe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>kc(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(i){return i.field.canonicalString()+i.dir})(r))).join(","),Ja(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>xs(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>xs(r))).join(",")),e.Te=n}return e.Te}function Fu(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!XS(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ty(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!tp(t.startAt,e.startAt)&&tp(t.endAt,e.endAt)}function Nc(t){return ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Bs{constructor(e,n=null,r=[],s=[],i=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function aR(t,e,n,r,s,i,o,l){return new Bs(t,e,n,r,s,i,o,l)}function Uu(t){return new Bs(t)}function rp(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function sy(t){return t.collectionGroup!==null}function Si(t){const e=fe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new et(at.comparator);return o.filters.forEach((c=>{c.getFlattenedFilters().forEach((h=>{h.isInequality()&&(l=l.add(h.field))}))})),l})(e).forEach((i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Bi(i,r))})),n.has(at.keyField().canonicalString())||e.Ie.push(new Bi(at.keyField(),r))}return e.Ie}function en(t){const e=fe(t);return e.Ee||(e.Ee=lR(e,Si(t))),e.Ee}function lR(t,e){if(t.limitType==="F")return np(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const i=s.dir==="desc"?"asc":"desc";return new Bi(s.field,i)}));const n=t.endAt?new wa(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new wa(t.startAt.position,t.startAt.inclusive):null;return np(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Dc(t,e){const n=t.filters.concat([e]);return new Bs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Vc(t,e,n){return new Bs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ya(t,e){return Fu(en(t),en(e))&&t.limitType===e.limitType}function iy(t){return`${Lu(en(t))}|lt:${t.limitType}`}function ns(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((s=>ny(s))).join(", ")}]`),Ja(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((s=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(s))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((s=>xs(s))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((s=>xs(s))).join(",")),`Target(${r})`})(en(t))}; limitType=${t.limitType})`}function Za(t,e){return e.isFoundDocument()&&(function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ne.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)})(t,e)&&(function(r,s){for(const i of Si(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0})(t,e)&&(function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0})(t,e)&&(function(r,s){return!(r.startAt&&!(function(o,l,c){const h=ep(o,l,c);return o.inclusive?h<=0:h<0})(r.startAt,Si(r),s)||r.endAt&&!(function(o,l,c){const h=ep(o,l,c);return o.inclusive?h>=0:h>0})(r.endAt,Si(r),s))})(t,e)}function cR(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function oy(t){return(e,n)=>{let r=!1;for(const s of Si(t)){const i=uR(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function uR(t,e,n){const r=t.field.isKeyField()?ne.comparator(e.key,n.key):(function(i,o,l){const c=o.data.field(i),h=l.data.field(i);return c!==null&&h!==null?Ps(c,h):oe(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return oe(19790,{direction:t.dir})}}class jr{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){$r(this.inner,((n,r)=>{for(const[s,i]of r)e(s,i)}))}isEmpty(){return H_(this.inner)}size(){return this.innerSize}}const hR=new Ue(ne.comparator);function An(){return hR}const ay=new Ue(ne.comparator);function pi(...t){let e=ay;for(const n of t)e=e.insert(n.key,n);return e}function ly(t){let e=ay;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Rr(){return Ri()}function cy(){return Ri()}function Ri(){return new jr((t=>t.toString()),((t,e)=>t.isEqual(e)))}const fR=new Ue(ne.comparator),dR=new et(ne.comparator);function ve(...t){let e=dR;for(const n of t)e=e.add(n);return e}const pR=new et(ye);function gR(){return pR}function $u(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_a(e)?"-0":e}}function uy(t){return{integerValue:""+t}}function mR(t,e){return HS(e)?uy(e):$u(t,e)}class el{constructor(){this._=void 0}}function _R(t,e,n){return t instanceof Hi?(function(s,i){const o={fields:{[z_]:{stringValue:W_},[K_]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Ou(i)&&(i=Xa(i)),i&&(o.fields[G_]=i),{mapValue:o}})(n,e):t instanceof qi?fy(t,e):t instanceof Wi?dy(t,e):(function(s,i){const o=hy(s,i),l=sp(o)+sp(s.Ae);return xc(o)&&xc(s.Ae)?uy(l):$u(s.serializer,l)})(t,e)}function yR(t,e,n){return t instanceof qi?fy(t,e):t instanceof Wi?dy(t,e):n}function hy(t,e){return t instanceof Ea?(function(r){return xc(r)||(function(i){return!!i&&"doubleValue"in i})(r)})(e)?e:{integerValue:0}:null}class Hi extends el{}class qi extends el{constructor(e){super(),this.elements=e}}function fy(t,e){const n=py(e);for(const r of t.elements)n.some((s=>ln(s,r)))||n.push(r);return{arrayValue:{values:n}}}class Wi extends el{constructor(e){super(),this.elements=e}}function dy(t,e){let n=py(e);for(const r of t.elements)n=n.filter((s=>!ln(s,r)));return{arrayValue:{values:n}}}class Ea extends el{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function sp(t){return He(t.integerValue||t.doubleValue)}function py(t){return Mu(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class vR{constructor(e,n){this.field=e,this.transform=n}}function wR(t,e){return t.field.isEqual(e.field)&&(function(r,s){return r instanceof qi&&s instanceof qi||r instanceof Wi&&s instanceof Wi?Cs(r.elements,s.elements,ln):r instanceof Ea&&s instanceof Ea?ln(r.Ae,s.Ae):r instanceof Hi&&s instanceof Hi})(t.transform,e.transform)}class ER{constructor(e,n){this.version=e,this.transformResults=n}}class tn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new tn}static exists(e){return new tn(void 0,e)}static updateTime(e){return new tn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zo(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class tl{}function gy(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ju(t.key,tn.none()):new ro(t.key,t.data,tn.none());{const n=t.data,r=Nt.empty();let s=new et(at.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Br(t.key,r,new Lt(s.toArray()),tn.none())}}function TR(t,e,n){t instanceof ro?(function(s,i,o){const l=s.value.clone(),c=op(s.fieldTransforms,i,o.transformResults);l.setAll(c),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()})(t,e,n):t instanceof Br?(function(s,i,o){if(!zo(s.precondition,i))return void i.convertToUnknownDocument(o.version);const l=op(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(my(s)),c.setAll(l),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()})(t,e,n):(function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,n)}function Ci(t,e,n,r){return t instanceof ro?(function(i,o,l,c){if(!zo(i.precondition,o))return l;const h=i.value.clone(),u=ap(i.fieldTransforms,c,o);return h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null})(t,e,n,r):t instanceof Br?(function(i,o,l,c){if(!zo(i.precondition,o))return l;const h=ap(i.fieldTransforms,c,o),u=o.data;return u.setAll(my(i)),u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map((d=>d.field)))})(t,e,n,r):(function(i,o,l){return zo(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l})(t,e,n)}function bR(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=hy(r.transform,s||null);i!=null&&(n===null&&(n=Nt.empty()),n.set(r.field,i))}return n||null}function ip(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Cs(r,s,((i,o)=>wR(i,o)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ro extends tl{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Br extends tl{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function my(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function op(t,e,n){const r=new Map;Re(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,l=e.data.field(i.field);r.set(i.field,yR(o,l,n[s]))}return r}function ap(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,_R(i,o,e))}return r}class ju extends tl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class IR extends tl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class AR{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&TR(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ci(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ci(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=cy();return this.mutations.forEach((s=>{const i=e.get(s.key),o=i.overlayedDocument;let l=this.applyToLocalView(o,i.mutatedFields);l=n.has(s.key)?null:l;const c=gy(o,l);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(he.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ve())}isEqual(e){return this.batchId===e.batchId&&Cs(this.mutations,e.mutations,((n,r)=>ip(n,r)))&&Cs(this.baseMutations,e.baseMutations,((n,r)=>ip(n,r)))}}class Bu{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Re(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return fR})();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Bu(e,n,r,s)}}class SR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class RR{constructor(e,n){this.count=e,this.unchangedNames=n}}var ze,we;function CR(t){switch(t){case U.OK:return oe(64938);case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0;default:return oe(15467,{code:t})}}function _y(t){if(t===void 0)return In("GRPC error has no .code"),U.UNKNOWN;switch(t){case ze.OK:return U.OK;case ze.CANCELLED:return U.CANCELLED;case ze.UNKNOWN:return U.UNKNOWN;case ze.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case ze.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case ze.INTERNAL:return U.INTERNAL;case ze.UNAVAILABLE:return U.UNAVAILABLE;case ze.UNAUTHENTICATED:return U.UNAUTHENTICATED;case ze.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case ze.NOT_FOUND:return U.NOT_FOUND;case ze.ALREADY_EXISTS:return U.ALREADY_EXISTS;case ze.PERMISSION_DENIED:return U.PERMISSION_DENIED;case ze.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case ze.ABORTED:return U.ABORTED;case ze.OUT_OF_RANGE:return U.OUT_OF_RANGE;case ze.UNIMPLEMENTED:return U.UNIMPLEMENTED;case ze.DATA_LOSS:return U.DATA_LOSS;default:return oe(39323,{code:t})}}(we=ze||(ze={}))[we.OK=0]="OK",we[we.CANCELLED=1]="CANCELLED",we[we.UNKNOWN=2]="UNKNOWN",we[we.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",we[we.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",we[we.NOT_FOUND=5]="NOT_FOUND",we[we.ALREADY_EXISTS=6]="ALREADY_EXISTS",we[we.PERMISSION_DENIED=7]="PERMISSION_DENIED",we[we.UNAUTHENTICATED=16]="UNAUTHENTICATED",we[we.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",we[we.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",we[we.ABORTED=10]="ABORTED",we[we.OUT_OF_RANGE=11]="OUT_OF_RANGE",we[we.UNIMPLEMENTED=12]="UNIMPLEMENTED",we[we.INTERNAL=13]="INTERNAL",we[we.UNAVAILABLE=14]="UNAVAILABLE",we[we.DATA_LOSS=15]="DATA_LOSS";function PR(){return new TextEncoder}const xR=new Zn([4294967295,4294967295],0);function lp(t){const e=PR().encode(t),n=new N_;return n.update(e),new Uint8Array(n.digest())}function cp(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Zn([n,r],0),new Zn([s,i],0)]}class Hu{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new gi(`Invalid padding: ${n}`);if(r<0)throw new gi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new gi(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new gi(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Zn.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Zn.fromNumber(r)));return s.compare(xR)===1&&(s=new Zn([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=lp(e),[r,s]=cp(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Hu(i,s,n);return r.forEach((l=>o.insert(l))),o}insert(e){if(this.ge===0)return;const n=lp(e),[r,s]=cp(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class gi extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class nl{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,so.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new nl(he.min(),s,new Ue(ye),An(),ve())}}class so{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new so(r,n,ve(),ve(),ve())}}class Go{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class yy{constructor(e,n){this.targetId=e,this.Ce=n}}class vy{constructor(e,n,r=lt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class up{constructor(){this.ve=0,this.Fe=hp(),this.Me=lt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ve(),n=ve(),r=ve();return this.Fe.forEach(((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:oe(38017,{changeType:i})}})),new so(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=hp()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Re(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class kR{constructor(e){this.Ge=e,this.ze=new Map,this.je=An(),this.Je=ko(),this.He=ko(),this.Ye=new Ue(ye)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:oe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,s)=>{this.rt(s)&&n(s)}))}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(Nc(i))if(r===0){const o=new ne(i.path);this.et(n,o,dt.newNoDocument(o,he.min()))}else Re(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const l=this.ut(e),c=l?this.ct(l,e,o):1;if(c!==0){this.it(n);const h=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,l;try{o=ar(r).toUint8Array()}catch(c){if(c instanceof q_)return Rs("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new Hu(o,s,i)}catch(c){return Rs(c instanceof gi?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach((i=>{const o=this.Ge.ht(),l=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.et(n,i,null),s++)})),s}Tt(e){const n=new Map;this.ze.forEach(((i,o)=>{const l=this.ot(o);if(l){if(i.current&&Nc(l.target)){const c=new ne(l.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,dt.newNoDocument(c,e))}i.Be&&(n.set(o,i.ke()),i.qe())}}));let r=ve();this.He.forEach(((i,o)=>{let l=!0;o.forEachWhile((c=>{const h=this.ot(c);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)})),l&&(r=r.add(i))})),this.je.forEach(((i,o)=>o.setReadTime(e)));const s=new nl(e,n,this.Ye,this.je,r);return this.je=An(),this.Je=ko(),this.He=ko(),this.Ye=new Ue(ye),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new up,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new et(ye),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new et(ye),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Y("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new up),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function ko(){return new Ue(ne.comparator)}function hp(){return new Ue(ne.comparator)}const NR={asc:"ASCENDING",desc:"DESCENDING"},DR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},VR={and:"AND",or:"OR"};class OR{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Oc(t,e){return t.useProto3Json||Ja(e)?e:{value:e}}function Ta(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function wy(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function MR(t,e){return Ta(t,e.toTimestamp())}function nn(t){return Re(!!t,49232),he.fromTimestamp((function(n){const r=or(n);return new Me(r.seconds,r.nanos)})(t))}function qu(t,e){return Mc(t,e).canonicalString()}function Mc(t,e){const n=(function(s){return new Ve(["projects",s.projectId,"databases",s.database])})(t).child("documents");return e===void 0?n:n.child(e)}function Ey(t){const e=Ve.fromString(t);return Re(Sy(e),10190,{key:e.toString()}),e}function Lc(t,e){return qu(t.databaseId,e.path)}function zl(t,e){const n=Ey(e);if(n.get(1)!==t.databaseId.projectId)throw new X(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new X(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ne(by(n))}function Ty(t,e){return qu(t.databaseId,e)}function LR(t){const e=Ey(t);return e.length===4?Ve.emptyPath():by(e)}function Fc(t){return new Ve(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function by(t){return Re(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function fp(t,e,n){return{name:Lc(t,e),fields:n.value.mapValue.fields}}function FR(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:oe(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=(function(h,u){return h.useProto3Json?(Re(u===void 0||typeof u=="string",58123),lt.fromBase64String(u||"")):(Re(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),lt.fromUint8Array(u||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&(function(h){const u=h.code===void 0?U.UNKNOWN:_y(h.code);return new X(u,h.message||"")})(o);n=new vy(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=zl(t,r.document.name),i=nn(r.document.updateTime),o=r.document.createTime?nn(r.document.createTime):he.min(),l=new Nt({mapValue:{fields:r.document.fields}}),c=dt.newFoundDocument(s,i,o,l),h=r.targetIds||[],u=r.removedTargetIds||[];n=new Go(h,u,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=zl(t,r.document),i=r.readTime?nn(r.readTime):he.min(),o=dt.newNoDocument(s,i),l=r.removedTargetIds||[];n=new Go([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=zl(t,r.document),i=r.removedTargetIds||[];n=new Go([],i,s,null)}else{if(!("filter"in e))return oe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new RR(s,i),l=r.targetId;n=new yy(l,o)}}return n}function UR(t,e){let n;if(e instanceof ro)n={update:fp(t,e.key,e.value)};else if(e instanceof ju)n={delete:Lc(t,e.key)};else if(e instanceof Br)n={update:fp(t,e.key,e.data),updateMask:KR(e.fieldMask)};else{if(!(e instanceof IR))return oe(16599,{Vt:e.type});n={verify:Lc(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(i,o){const l=o.transform;if(l instanceof Hi)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof qi)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Wi)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Ea)return{fieldPath:o.field.canonicalString(),increment:l.Ae};throw oe(20930,{transform:o.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(s,i){return i.updateTime!==void 0?{updateTime:MR(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:oe(27497)})(t,e.precondition)),n}function $R(t,e){return t&&t.length>0?(Re(e!==void 0,14353),t.map((n=>(function(s,i){let o=s.updateTime?nn(s.updateTime):nn(i);return o.isEqual(he.min())&&(o=nn(i)),new ER(o,s.transformResults||[])})(n,e)))):[]}function jR(t,e){return{documents:[Ty(t,e.path)]}}function BR(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Ty(t,s);const i=(function(h){if(h.length!==0)return Ay(Ht.create(h,"and"))})(e.filters);i&&(n.structuredQuery.where=i);const o=(function(h){if(h.length!==0)return h.map((u=>(function(g){return{field:rs(g.field),direction:WR(g.dir)}})(u)))})(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=Oc(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:n,parent:s}}function HR(t){let e=LR(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Re(r===1,65062);const u=n.from[0];u.allDescendants?s=u.collectionId:e=e.child(u.collectionId)}let i=[];n.where&&(i=(function(d){const g=Iy(d);return g instanceof Ht&&ey(g)?g.getFilters():[g]})(n.where));let o=[];n.orderBy&&(o=(function(d){return d.map((g=>(function(I){return new Bi(ss(I.field),(function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(I.direction))})(g)))})(n.orderBy));let l=null;n.limit&&(l=(function(d){let g;return g=typeof d=="object"?d.value:d,Ja(g)?null:g})(n.limit));let c=null;n.startAt&&(c=(function(d){const g=!!d.before,m=d.values||[];return new wa(m,g)})(n.startAt));let h=null;return n.endAt&&(h=(function(d){const g=!d.before,m=d.values||[];return new wa(m,g)})(n.endAt)),aR(e,s,o,i,l,"F",c,h)}function qR(t,e){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return oe(28987,{purpose:s})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Iy(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ss(n.unaryFilter.field);return Ke.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=ss(n.unaryFilter.field);return Ke.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ss(n.unaryFilter.field);return Ke.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ss(n.unaryFilter.field);return Ke.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return oe(61313);default:return oe(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Ke.create(ss(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return oe(58110);default:return oe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Ht.create(n.compositeFilter.filters.map((r=>Iy(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return oe(1026)}})(n.compositeFilter.op))})(t):oe(30097,{filter:t})}function WR(t){return NR[t]}function zR(t){return DR[t]}function GR(t){return VR[t]}function rs(t){return{fieldPath:t.canonicalString()}}function ss(t){return at.fromServerFormat(t.fieldPath)}function Ay(t){return t instanceof Ke?(function(n){if(n.op==="=="){if(Zd(n.value))return{unaryFilter:{field:rs(n.field),op:"IS_NAN"}};if(Yd(n.value))return{unaryFilter:{field:rs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Zd(n.value))return{unaryFilter:{field:rs(n.field),op:"IS_NOT_NAN"}};if(Yd(n.value))return{unaryFilter:{field:rs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rs(n.field),op:zR(n.op),value:n.value}}})(t):t instanceof Ht?(function(n){const r=n.getFilters().map((s=>Ay(s)));return r.length===1?r[0]:{compositeFilter:{op:GR(n.op),filters:r}}})(t):oe(54877,{filter:t})}function KR(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Sy(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class Gn{constructor(e,n,r,s,i=he.min(),o=he.min(),l=lt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Gn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Gn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Gn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Gn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class QR{constructor(e){this.yt=e}}function JR(t){const e=HR({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Vc(e,e.limit,"L"):e}class XR{constructor(){this.Cn=new YR}addToCollectionParentIndex(e,n){return this.Cn.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(ir.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(ir.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class YR{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new et(Ve.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new et(Ve.comparator)).toArray()}}const dp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ry=41943040;class Tt{static withCacheSize(e){return new Tt(e,Tt.DEFAULT_COLLECTION_PERCENTILE,Tt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}Tt.DEFAULT_COLLECTION_PERCENTILE=10,Tt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tt.DEFAULT=new Tt(Ry,Tt.DEFAULT_COLLECTION_PERCENTILE,Tt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tt.DISABLED=new Tt(-1,0,0);class ks{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ks(0)}static cr(){return new ks(-1)}}const pp="LruGarbageCollector",ZR=1048576;function gp([t,e],[n,r]){const s=ye(t,n);return s===0?ye(e,r):s}class eC{constructor(e){this.Ir=e,this.buffer=new et(gp),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();gp(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class tC{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Y(pp,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){js(n)?Y(pp,"Ignoring IndexedDB error during garbage collection: ",n):await $s(n)}await this.Vr(3e5)}))}}class nC{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return $.resolve(Qa.ce);const r=new eC(n);return this.mr.forEachTarget(e,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Y("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(dp)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Y("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),dp):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,l,c,h;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((d=>(d>this.params.maximumSequenceNumbersToCollect?(Y("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),s=this.params.maximumSequenceNumbersToCollect):s=d,o=Date.now(),this.nthSequenceNumber(e,s)))).next((d=>(r=d,l=Date.now(),this.removeTargets(e,r,n)))).next((d=>(i=d,c=Date.now(),this.removeOrphanedDocuments(e,r)))).next((d=>(h=Date.now(),ts()<=_e.DEBUG&&Y("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-u}ms
	Determined least recently used ${s} in `+(l-o)+`ms
	Removed ${i} targets in `+(c-l)+`ms
	Removed ${d} documents in `+(h-c)+`ms
Total Duration: ${h-u}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:d}))))}}function rC(t,e){return new nC(t,e)}class sC{constructor(){this.changes=new jr((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,dt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class iC{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class oC{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(r!==null&&Ci(r.mutation,s,Lt.empty(),Me.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,ve()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=ve()){const s=Rr();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,r).next((i=>{let o=pi();return i.forEach(((l,c)=>{o=o.insert(l,c.overlayedDocument)})),o}))))}getOverlayedDocuments(e,n){const r=Rr();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,ve())))}populateOverlays(e,n,r){const s=[];return r.forEach((i=>{n.has(i)||s.push(i)})),this.documentOverlayCache.getOverlays(e,s).next((i=>{i.forEach(((o,l)=>{n.set(o,l)}))}))}computeViews(e,n,r,s){let i=An();const o=Ri(),l=(function(){return Ri()})();return n.forEach(((c,h)=>{const u=r.get(h.key);s.has(h.key)&&(u===void 0||u.mutation instanceof Br)?i=i.insert(h.key,h):u!==void 0?(o.set(h.key,u.mutation.getFieldMask()),Ci(u.mutation,h,u.mutation.getFieldMask(),Me.now())):o.set(h.key,Lt.empty())})),this.recalculateAndSaveOverlays(e,i).next((c=>(c.forEach(((h,u)=>o.set(h,u))),n.forEach(((h,u)=>l.set(h,new iC(u,o.get(h)??null)))),l)))}recalculateAndSaveOverlays(e,n){const r=Ri();let s=new Ue(((o,l)=>o-l)),i=ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((o=>{for(const l of o)l.keys().forEach((c=>{const h=n.get(c);if(h===null)return;let u=r.get(c)||Lt.empty();u=l.applyToLocalView(h,u),r.set(c,u);const d=(s.get(l.batchId)||ve()).add(c);s=s.insert(l.batchId,d)}))})).next((()=>{const o=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),h=c.key,u=c.value,d=cy();u.forEach((g=>{if(!i.has(g)){const m=gy(n.get(g),r.get(g));m!==null&&d.set(g,m),i=i.add(g)}})),o.push(this.documentOverlayCache.saveOverlays(e,h,d))}return $.waitFor(o)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,s){return(function(o){return ne.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):sy(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next((i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):$.resolve(Rr());let l=Fi,c=i;return o.next((h=>$.forEach(h,((u,d)=>(l<d.largestBatchId&&(l=d.largestBatchId),i.get(u)?$.resolve():this.remoteDocumentCache.getEntry(e,u).next((g=>{c=c.insert(u,g)}))))).next((()=>this.populateOverlays(e,h,i))).next((()=>this.computeViews(e,c,h,ve()))).next((u=>({batchId:l,changes:ly(u)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ne(n)).next((r=>{let s=pi();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=pi();return this.indexManager.getCollectionParents(e,i).next((l=>$.forEach(l,(c=>{const h=(function(d,g){return new Bs(g,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)})(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,h,r,s).next((u=>{u.forEach(((d,g)=>{o=o.insert(d,g)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s)))).next((o=>{i.forEach(((c,h)=>{const u=h.getKey();o.get(u)===null&&(o=o.insert(u,dt.newInvalidDocument(u)))}));let l=pi();return o.forEach(((c,h)=>{const u=i.get(c);u!==void 0&&Ci(u.mutation,h,Lt.empty(),Me.now()),Za(n,h)&&(l=l.insert(c,h))})),l}))}}class aC{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return $.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:nn(s.createTime)}})(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(s){return{name:s.name,query:JR(s.bundledQuery),readTime:nn(s.readTime)}})(n)),$.resolve()}}class lC{constructor(){this.overlays=new Ue(ne.comparator),this.qr=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Rr();return $.forEach(n,(s=>this.getOverlay(e,s).next((i=>{i!==null&&r.set(s,i)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((s,i)=>{this.St(e,n,i)})),$.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((i=>this.overlays=this.overlays.remove(i))),this.qr.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const s=Rr(),i=n.length+1,o=new ne(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,h=c.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return $.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Ue(((h,u)=>h-u));const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let u=i.get(h.largestBatchId);u===null&&(u=Rr(),i=i.insert(h.largestBatchId,u)),u.set(h.getKey(),h)}}const l=Rr(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((h,u)=>l.set(h,u))),!(l.size()>=s)););return $.resolve(l)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new SR(n,r));let i=this.qr.get(n);i===void 0&&(i=ve(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}class cC{constructor(){this.sessionToken=lt.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$.resolve()}}class Wu{constructor(){this.Qr=new et(nt.$r),this.Ur=new et(nt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new nt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new nt(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new ne(new Ve([])),r=new nt(n,e),s=new nt(n,e+1),i=[];return this.Ur.forEachInRange([r,s],(o=>{this.Gr(o),i.push(o.key)})),i}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ne(new Ve([])),r=new nt(n,e),s=new nt(n,e+1);let i=ve();return this.Ur.forEachInRange([r,s],(o=>{i=i.add(o.key)})),i}containsKey(e){const n=new nt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class nt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ne.comparator(e.key,n.key)||ye(e.Yr,n.Yr)}static Kr(e,n){return ye(e.Yr,n.Yr)||ne.comparator(e.key,n.key)}}class uC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new et(nt.$r)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new AR(i,n,r,s);this.mutationQueue.push(o);for(const l of s)this.Zr=this.Zr.add(new nt(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return $.resolve(o)}lookupMutationBatch(e,n){return $.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return $.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Vu:this.tr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new nt(n,0),s=new nt(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],(o=>{const l=this.Xr(o.Yr);i.push(l)})),$.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new et(ye);return n.forEach((s=>{const i=new nt(s,0),o=new nt(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],(l=>{r=r.add(l.Yr)}))})),$.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ne.isDocumentKey(i)||(i=i.child(""));const o=new nt(new ne(i),0);let l=new et(ye);return this.Zr.forEachWhile((c=>{const h=c.key.path;return!!r.isPrefixOf(h)&&(h.length===s&&(l=l.add(c.Yr)),!0)}),o),$.resolve(this.ti(l))}ti(e){const n=[];return e.forEach((r=>{const s=this.Xr(r);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){Re(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return $.forEach(n.mutations,(s=>{const i=new nt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new nt(n,0),s=this.Zr.firstAfterOrEqual(r);return $.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class hC{constructor(e){this.ri=e,this.docs=(function(){return new Ue(ne.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():dt.newInvalidDocument(n))}getEntries(e,n){let r=An();return n.forEach((s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():dt.newInvalidDocument(s))})),$.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=An();const o=n.path,l=new ne(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:h,value:{document:u}}=c.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||US(FS(u),r)<=0||(s.has(u.key)||Za(n,u))&&(i=i.insert(u.key,u.mutableCopy()))}return $.resolve(i)}getAllFromCollectionGroup(e,n,r,s){oe(9500)}ii(e,n){return $.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new fC(this)}getSize(e){return $.resolve(this.size)}}class fC extends sC{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)})),$.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class dC{constructor(e){this.persistence=e,this.si=new jr((n=>Lu(n)),Fu),this.lastRemoteSnapshotVersion=he.min(),this.highestTargetId=0,this.oi=0,this._i=new Wu,this.targetCount=0,this.ai=ks.ur()}forEachTarget(e,n){return this.si.forEach(((r,s)=>n(s))),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),$.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new ks(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.Pr(n),$.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach(((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)})),$.waitFor(i).next((()=>s))}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),$.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach((o=>{i.push(s.markPotentiallyOrphaned(e,o))})),$.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this._i.containsKey(n))}}class Cy{constructor(e,n){this.ui={},this.overlays={},this.ci=new Qa(0),this.li=!1,this.li=!0,this.hi=new cC,this.referenceDelegate=e(this),this.Pi=new dC(this),this.indexManager=new XR,this.remoteDocumentCache=(function(s){return new hC(s)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new QR(n),this.Ii=new aC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new lC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new uC(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Y("MemoryPersistence","Starting transaction:",e);const s=new pC(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((i=>this.referenceDelegate.di(s).next((()=>i)))).toPromise().then((i=>(s.raiseOnCommittedEvent(),i)))}Ai(e,n){return $.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class pC extends jS{constructor(e){super(),this.currentSequenceNumber=e}}class zu{constructor(e){this.persistence=e,this.Ri=new Wu,this.Vi=null}static mi(e){return new zu(e)}get fi(){if(this.Vi)return this.Vi;throw oe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),$.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((i=>this.fi.add(i.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(r=>{const s=ne.fromPath(r);return this.gi(e,s).next((i=>{i||n.removeEntry(s,he.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return $.or([()=>$.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class ba{constructor(e,n){this.persistence=e,this.pi=new jr((r=>qS(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=rC(this,n)}static mi(e,n){return new ba(e,n)}Ei(){}di(e){return $.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((s=>r+s))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return $.forEach(this.pi,((r,s)=>this.br(e,r,s).next((i=>i?$.resolve():n(s)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,(o=>this.br(e,o,n).next((l=>{l||(r++,i.removeEntry(o,he.min()))})))).next((()=>i.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),$.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),$.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),$.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=qo(e.data.value)),n}br(e,n,r){return $.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return $.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Gu{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=ve(),s=ve();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Gu(e,n.fromCache,r,s)}}class gC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class mC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return rI()?8:BS(pt())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next((o=>{i.result=o})).next((()=>{if(!i.result)return this.ws(e,n,s,r).next((o=>{i.result=o}))})).next((()=>{if(i.result)return;const o=new gC;return this.Ss(e,n,o).next((l=>{if(i.result=l,this.Vs)return this.bs(e,n,o,l.size)}))})).next((()=>i.result))}bs(e,n,r,s){return r.documentReadCount<this.fs?(ts()<=_e.DEBUG&&Y("QueryEngine","SDK will not create cache indexes for query:",ns(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(ts()<=_e.DEBUG&&Y("QueryEngine","Query:",ns(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(ts()<=_e.DEBUG&&Y("QueryEngine","The SDK decides to create cache indexes for query:",ns(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,en(n))):$.resolve())}ys(e,n){if(rp(n))return $.resolve(null);let r=en(n);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=Vc(n,null,"F"),r=en(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((i=>{const o=ve(...i);return this.ps.getDocuments(e,o).next((l=>this.indexManager.getMinOffset(e,r).next((c=>{const h=this.Ds(n,l);return this.Cs(n,h,o,c.readTime)?this.ys(e,Vc(n,null,"F")):this.vs(e,h,n,c)}))))})))))}ws(e,n,r,s){return rp(n)||s.isEqual(he.min())?$.resolve(null):this.ps.getDocuments(e,r).next((i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?$.resolve(null):(ts()<=_e.DEBUG&&Y("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ns(n)),this.vs(e,o,n,LS(s,Fi)).next((l=>l)))}))}Ds(e,n){let r=new et(oy(e));return n.forEach(((s,i)=>{Za(e,i)&&(r=r.add(i))})),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return ts()<=_e.DEBUG&&Y("QueryEngine","Using full collection scan to execute query:",ns(n)),this.ps.getDocumentsMatchingQuery(e,n,ir.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next((i=>(n.forEach((o=>{i=i.insert(o.key,o)})),i)))}}const Ku="LocalStore",_C=3e8;class yC{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Ue(ye),this.xs=new jr((i=>Lu(i)),Fu),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new oC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function vC(t,e,n,r){return new yC(t,e,n,r)}async function Py(t,e){const n=fe(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next((i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((i=>{const o=[],l=[];let c=ve();for(const h of s){o.push(h.batchId);for(const u of h.mutations)c=c.add(u.key)}for(const h of i){l.push(h.batchId);for(const u of h.mutations)c=c.add(u.key)}return n.localDocuments.getDocuments(r,c).next((h=>({Ls:h,removedBatchIds:o,addedBatchIds:l})))}))}))}function wC(t,e){const n=fe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(l,c,h,u){const d=h.batch,g=d.keys();let m=$.resolve();return g.forEach((I=>{m=m.next((()=>u.getEntry(c,I))).next((R=>{const N=h.docVersions.get(I);Re(N!==null,48541),R.version.compareTo(N)<0&&(d.applyToRemoteDocument(R,h),R.isValidDocument()&&(R.setReadTime(h.commitVersion),u.addEntry(R)))}))})),m.next((()=>l.mutationQueue.removeMutationBatch(c,d)))})(n,r,e,i).next((()=>i.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(l){let c=ve();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(c=c.add(l.batch.mutations[h].key));return c})(e)))).next((()=>n.localDocuments.getDocuments(r,s)))}))}function xy(t){const e=fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function EC(t,e){const n=fe(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const l=[];e.targetChanges.forEach(((u,d)=>{const g=s.get(d);if(!g)return;l.push(n.Pi.removeMatchingKeys(i,u.removedDocuments,d).next((()=>n.Pi.addMatchingKeys(i,u.addedDocuments,d))));let m=g.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(d)!==null?m=m.withResumeToken(lt.EMPTY_BYTE_STRING,he.min()).withLastLimboFreeSnapshotVersion(he.min()):u.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(u.resumeToken,r)),s=s.insert(d,m),(function(R,N,O){return R.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=_C?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(g,m,u)&&l.push(n.Pi.updateTargetData(i,m))}));let c=An(),h=ve();if(e.documentUpdates.forEach((u=>{e.resolvedLimboDocuments.has(u)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))})),l.push(TC(i,o,e.documentUpdates).next((u=>{c=u.ks,h=u.qs}))),!r.isEqual(he.min())){const u=n.Pi.getLastRemoteSnapshotVersion(i).next((d=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r)));l.push(u)}return $.waitFor(l).next((()=>o.apply(i))).next((()=>n.localDocuments.getLocalViewOfDocuments(i,c,h))).next((()=>c))})).then((i=>(n.Ms=s,i)))}function TC(t,e,n){let r=ve(),s=ve();return n.forEach((i=>r=r.add(i))),e.getEntries(t,r).next((i=>{let o=An();return n.forEach(((l,c)=>{const h=i.get(l);c.isFoundDocument()!==h.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(he.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!h.isValidDocument()||c.version.compareTo(h.version)>0||c.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):Y(Ku,"Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",c.version)})),{ks:o,qs:s}}))}function bC(t,e){const n=fe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Vu),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function IC(t,e){const n=fe(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return n.Pi.getTargetData(r,e).next((i=>i?(s=i,$.resolve(s)):n.Pi.allocateTargetId(r).next((o=>(s=new Gn(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function Uc(t,e,n){const r=fe(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,(o=>r.persistence.referenceDelegate.removeTarget(o,s)))}catch(o){if(!js(o))throw o;Y(Ku,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function mp(t,e,n){const r=fe(t);let s=he.min(),i=ve();return r.persistence.runTransaction("Execute query","readwrite",(o=>(function(c,h,u){const d=fe(c),g=d.xs.get(u);return g!==void 0?$.resolve(d.Ms.get(g)):d.Pi.getTargetData(h,u)})(r,o,en(e)).next((l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,l.targetId).next((c=>{i=c}))})).next((()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:he.min(),n?i:ve()))).next((l=>(AC(r,cR(e),l),{documents:l,Qs:i})))))}function AC(t,e,n){let r=t.Os.get(e)||he.min();n.forEach(((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)})),t.Os.set(e,r)}class _p{constructor(){this.activeTargetIds=gR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class SC{constructor(){this.Mo=new _p,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new _p,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class RC{Oo(e){}shutdown(){}}const yp="ConnectivityMonitor";class vp{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Y(yp,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Y(yp,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let No=null;function $c(){return No===null?No=(function(){return 268435456+Math.round(2147483648*Math.random())})():No++,"0x"+No.toString(16)}const Gl="RestConnection",CC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class PC{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===ya?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=$c(),l=this.zo(e,n.toUriEncodedString());Y(Gl,`Sending RPC '${e}' ${o}:`,l,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,s,i);const{host:h}=new URL(l),u=Ms(h);return this.Jo(e,l,c,r,u).then((d=>(Y(Gl,`Received RPC '${e}' ${o}: `,d),d)),(d=>{throw Rs(Gl,`RPC '${e}' ${o} failed with error: `,d,"url: ",l,"request:",r),d}))}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Us})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,i)=>e[i]=s)),r&&r.headers.forEach(((s,i)=>e[i]=s))}zo(e,n){const r=CC[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class xC{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const ut="WebChannelConnection";class kC extends PC{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=$c();return new Promise(((l,c)=>{const h=new D_;h.setWithCredentials(!0),h.listenOnce(V_.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case Ho.NO_ERROR:const d=h.getResponseJson();Y(ut,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),l(d);break;case Ho.TIMEOUT:Y(ut,`RPC '${e}' ${o} timed out`),c(new X(U.DEADLINE_EXCEEDED,"Request time out"));break;case Ho.HTTP_ERROR:const g=h.getStatus();if(Y(ut,`RPC '${e}' ${o} failed with status:`,g,"response text:",h.getResponseText()),g>0){let m=h.getResponseJson();Array.isArray(m)&&(m=m[0]);const I=m?.error;if(I&&I.status&&I.message){const R=(function(O){const D=O.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(D)>=0?D:U.UNKNOWN})(I.status);c(new X(R,I.message))}else c(new X(U.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new X(U.UNAVAILABLE,"Connection failed."));break;default:oe(9055,{l_:e,streamId:o,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{Y(ut,`RPC '${e}' ${o} completed.`)}}));const u=JSON.stringify(s);Y(ut,`RPC '${e}' ${o} sending request:`,s),h.send(n,"POST",u,r,15)}))}T_(e,n,r){const s=$c(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=L_(),l=M_(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(c.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const u=i.join("");Y(ut,`Creating RPC '${e}' stream ${s}: ${u}`,c);const d=o.createWebChannel(u,c);this.I_(d);let g=!1,m=!1;const I=new xC({Yo:N=>{m?Y(ut,`Not sending because RPC '${e}' stream ${s} is closed:`,N):(g||(Y(ut,`Opening RPC '${e}' stream ${s} transport.`),d.open(),g=!0),Y(ut,`RPC '${e}' stream ${s} sending:`,N),d.send(N))},Zo:()=>d.close()}),R=(N,O,D)=>{N.listen(O,(C=>{try{D(C)}catch(k){setTimeout((()=>{throw k}),0)}}))};return R(d,di.EventType.OPEN,(()=>{m||(Y(ut,`RPC '${e}' stream ${s} transport opened.`),I.o_())})),R(d,di.EventType.CLOSE,(()=>{m||(m=!0,Y(ut,`RPC '${e}' stream ${s} transport closed`),I.a_(),this.E_(d))})),R(d,di.EventType.ERROR,(N=>{m||(m=!0,Rs(ut,`RPC '${e}' stream ${s} transport errored. Name:`,N.name,"Message:",N.message),I.a_(new X(U.UNAVAILABLE,"The operation could not be completed")))})),R(d,di.EventType.MESSAGE,(N=>{if(!m){const O=N.data[0];Re(!!O,16349);const D=O,C=D?.error||D[0]?.error;if(C){Y(ut,`RPC '${e}' stream ${s} received error:`,C);const k=C.status;let M=(function(v){const y=ze[v];if(y!==void 0)return _y(y)})(k),j=C.message;M===void 0&&(M=U.INTERNAL,j="Unknown error status: "+k+" with message "+C.message),m=!0,I.a_(new X(M,j)),d.close()}else Y(ut,`RPC '${e}' stream ${s} received:`,O),I.u_(O)}})),R(l,O_.STAT_EVENT,(N=>{N.stat===Rc.PROXY?Y(ut,`RPC '${e}' stream ${s} detected buffering proxy`):N.stat===Rc.NOPROXY&&Y(ut,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{I.__()}),0),I}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Kl(){return typeof document<"u"?document:null}function rl(t){return new OR(t,!0)}class ky{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&Y("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const wp="PersistentStream";class Ny{constructor(e,n,r,s,i,o,l,c){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ky(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(In(n.toString()),In("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===n&&this.G_(r,s)}),(r=>{e((()=>{const s=new X(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Y(wp,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Y(wp,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class NC extends Ny{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=FR(this.serializer,e),r=(function(i){if(!("targetChange"in i))return he.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?he.min():o.readTime?nn(o.readTime):he.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Fc(this.serializer),n.addTarget=(function(i,o){let l;const c=o.target;if(l=Nc(c)?{documents:jR(i,c)}:{query:BR(i,c).ft},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=wy(i,o.resumeToken);const h=Oc(i,o.expectedCount);h!==null&&(l.expectedCount=h)}else if(o.snapshotVersion.compareTo(he.min())>0){l.readTime=Ta(i,o.snapshotVersion.toTimestamp());const h=Oc(i,o.expectedCount);h!==null&&(l.expectedCount=h)}return l})(this.serializer,e);const r=qR(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Fc(this.serializer),n.removeTarget=e,this.q_(n)}}class DC extends Ny{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Re(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Re(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Re(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=$R(e.writeResults,e.commitTime),r=nn(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Fc(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>UR(this.serializer,r)))};this.q_(n)}}class VC{}class OC extends VC{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new X(U.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,o])=>this.connection.Go(e,Mc(n,r),s,i,o))).catch((i=>{throw i.name==="FirebaseError"?(i.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new X(U.UNKNOWN,i.toString())}))}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Ho(e,Mc(n,r),s,o,l,i))).catch((o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new X(U.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class MC{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(In(n),this.aa=!1):Y("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ur="RemoteStore";class LC{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo((o=>{r.enqueueAndForget((async()=>{Hr(this)&&(Y(Ur,"Restarting streams for network reachability change."),await(async function(c){const h=fe(c);h.Ea.add(4),await io(h),h.Ra.set("Unknown"),h.Ea.delete(4),await sl(h)})(this))}))})),this.Ra=new MC(r,s)}}async function sl(t){if(Hr(t))for(const e of t.da)await e(!0)}async function io(t){for(const e of t.da)await e(!1)}function Dy(t,e){const n=fe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Yu(n)?Xu(n):Hs(n).O_()&&Ju(n,e))}function Qu(t,e){const n=fe(t),r=Hs(n);n.Ia.delete(e),r.O_()&&Vy(n,e),n.Ia.size===0&&(r.O_()?r.L_():Hr(n)&&n.Ra.set("Unknown"))}function Ju(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(he.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Hs(t).Y_(e)}function Vy(t,e){t.Va.Ue(e),Hs(t).Z_(e)}function Xu(t){t.Va=new kR({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Hs(t).start(),t.Ra.ua()}function Yu(t){return Hr(t)&&!Hs(t).x_()&&t.Ia.size>0}function Hr(t){return fe(t).Ea.size===0}function Oy(t){t.Va=void 0}async function FC(t){t.Ra.set("Online")}async function UC(t){t.Ia.forEach(((e,n)=>{Ju(t,e)}))}async function $C(t,e){Oy(t),Yu(t)?(t.Ra.ha(e),Xu(t)):t.Ra.set("Unknown")}async function jC(t,e,n){if(t.Ra.set("Online"),e instanceof vy&&e.state===2&&e.cause)try{await(async function(s,i){const o=i.cause;for(const l of i.targetIds)s.Ia.has(l)&&(await s.remoteSyncer.rejectListen(l,o),s.Ia.delete(l),s.Va.removeTarget(l))})(t,e)}catch(r){Y(Ur,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ia(t,r)}else if(e instanceof Go?t.Va.Ze(e):e instanceof yy?t.Va.st(e):t.Va.tt(e),!n.isEqual(he.min()))try{const r=await xy(t.localStore);n.compareTo(r)>=0&&await(function(i,o){const l=i.Va.Tt(o);return l.targetChanges.forEach(((c,h)=>{if(c.resumeToken.approximateByteSize()>0){const u=i.Ia.get(h);u&&i.Ia.set(h,u.withResumeToken(c.resumeToken,o))}})),l.targetMismatches.forEach(((c,h)=>{const u=i.Ia.get(c);if(!u)return;i.Ia.set(c,u.withResumeToken(lt.EMPTY_BYTE_STRING,u.snapshotVersion)),Vy(i,c);const d=new Gn(u.target,c,h,u.sequenceNumber);Ju(i,d)})),i.remoteSyncer.applyRemoteEvent(l)})(t,n)}catch(r){Y(Ur,"Failed to raise snapshot:",r),await Ia(t,r)}}async function Ia(t,e,n){if(!js(e))throw e;t.Ea.add(1),await io(t),t.Ra.set("Offline"),n||(n=()=>xy(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Y(Ur,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await sl(t)}))}function My(t,e){return e().catch((n=>Ia(t,n,e)))}async function il(t){const e=fe(t),n=cr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Vu;for(;BC(e);)try{const s=await bC(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,HC(e,s)}catch(s){await Ia(e,s)}Ly(e)&&Fy(e)}function BC(t){return Hr(t)&&t.Ta.length<10}function HC(t,e){t.Ta.push(e);const n=cr(t);n.O_()&&n.X_&&n.ea(e.mutations)}function Ly(t){return Hr(t)&&!cr(t).x_()&&t.Ta.length>0}function Fy(t){cr(t).start()}async function qC(t){cr(t).ra()}async function WC(t){const e=cr(t);for(const n of t.Ta)e.ea(n.mutations)}async function zC(t,e,n){const r=t.Ta.shift(),s=Bu.from(r,e,n);await My(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await il(t)}async function GC(t,e){e&&cr(t).X_&&await(async function(r,s){if((function(o){return CR(o)&&o!==U.ABORTED})(s.code)){const i=r.Ta.shift();cr(r).B_(),await My(r,(()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s))),await il(r)}})(t,e),Ly(t)&&Fy(t)}async function Ep(t,e){const n=fe(t);n.asyncQueue.verifyOperationInProgress(),Y(Ur,"RemoteStore received new credentials");const r=Hr(n);n.Ea.add(3),await io(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await sl(n)}async function KC(t,e){const n=fe(t);e?(n.Ea.delete(2),await sl(n)):e||(n.Ea.add(2),await io(n),n.Ra.set("Unknown"))}function Hs(t){return t.ma||(t.ma=(function(n,r,s){const i=fe(n);return i.sa(),new NC(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(t.datastore,t.asyncQueue,{Xo:FC.bind(null,t),t_:UC.bind(null,t),r_:$C.bind(null,t),H_:jC.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Yu(t)?Xu(t):t.Ra.set("Unknown")):(await t.ma.stop(),Oy(t))}))),t.ma}function cr(t){return t.fa||(t.fa=(function(n,r,s){const i=fe(n);return i.sa(),new DC(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:qC.bind(null,t),r_:GC.bind(null,t),ta:WC.bind(null,t),na:zC.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await il(t)):(await t.fa.stop(),t.Ta.length>0&&(Y(Ur,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class Zu{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new er,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,l=new Zu(e,n,o,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function eh(t,e){if(In("AsyncQueue",`${e}: ${t}`),js(t))return new X(U.UNAVAILABLE,`${e}: ${t}`);throw t}class ws{static emptySet(e){return new ws(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ne.comparator(n.key,r.key):(n,r)=>ne.comparator(n.key,r.key),this.keyedMap=pi(),this.sortedSet=new Ue(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ws)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ws;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class Tp{constructor(){this.ga=new Ue(ne.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):oe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Ns{constructor(e,n,r,s,i,o,l,c,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach((l=>{o.push({type:0,doc:l})})),new Ns(e,n,ws.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ya(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}class QC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class JC{constructor(){this.queries=bp(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=fe(n),i=s.queries;s.queries=bp(),i.forEach(((o,l)=>{for(const c of l.Sa)c.onError(r)}))})(this,new X(U.ABORTED,"Firestore shutting down"))}}function bp(){return new jr((t=>iy(t)),Ya)}async function Uy(t,e){const n=fe(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new QC,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const l=eh(o,`Initialization of query '${ns(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&th(n)}async function $y(t,e){const n=fe(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function XC(t,e){const n=fe(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const l of o.Sa)l.Fa(s)&&(r=!0);o.wa=s}}r&&th(n)}function YC(t,e,n){const r=fe(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function th(t){t.Ca.forEach((e=>{e.next()}))}var jc,Ip;(Ip=jc||(jc={})).Ma="default",Ip.Cache="cache";class jy{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Ns(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ns.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==jc.Cache}}class By{constructor(e){this.key=e}}class Hy{constructor(e){this.key=e}}class ZC{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ve(),this.mutatedKeys=ve(),this.eu=oy(e),this.tu=new ws(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new Tp,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,h=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((u,d)=>{const g=s.get(u),m=Za(this.query,d)?d:null,I=!!g&&this.mutatedKeys.has(g.key),R=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let N=!1;g&&m?g.data.isEqual(m.data)?I!==R&&(r.track({type:3,doc:m}),N=!0):this.su(g,m)||(r.track({type:2,doc:m}),N=!0,(c&&this.eu(m,c)>0||h&&this.eu(m,h)<0)&&(l=!0)):!g&&m?(r.track({type:0,doc:m}),N=!0):g&&!m&&(r.track({type:1,doc:g}),N=!0,(c||h)&&(l=!0)),N&&(m?(o=o.add(m),i=R?i.add(u):i.delete(u)):(o=o.delete(u),i=i.delete(u)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),i=i.delete(u.key),r.track({type:1,doc:u})}return{tu:o,iu:r,Cs:l,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((u,d)=>(function(m,I){const R=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return oe(20277,{Rt:N})}};return R(m)-R(I)})(u.type,d.type)||this.eu(u.doc,d.doc))),this.ou(r),s=s??!1;const l=n&&!s?this._u():[],c=this.Xa.size===0&&this.current&&!s?1:0,h=c!==this.Za;return this.Za=c,o.length!==0||h?{snapshot:new Ns(this.query,e.tu,i,o,e.mutatedKeys,c===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Tp,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ve(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new Hy(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new By(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=ve();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ns.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const nh="SyncEngine";class eP{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class tP{constructor(e){this.key=e,this.hu=!1}}class nP{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new jr((l=>iy(l)),Ya),this.Iu=new Map,this.Eu=new Set,this.du=new Ue(ne.comparator),this.Au=new Map,this.Ru=new Wu,this.Vu={},this.mu=new Map,this.fu=ks.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function rP(t,e,n=!0){const r=Qy(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await qy(r,e,n,!0),s}async function sP(t,e){const n=Qy(t);await qy(n,e,!0,!1)}async function qy(t,e,n,r){const s=await IC(t.localStore,en(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let l;return r&&(l=await iP(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&Dy(t.remoteStore,s),l}async function iP(t,e,n,r,s){t.pu=(d,g,m)=>(async function(R,N,O,D){let C=N.view.ru(O);C.Cs&&(C=await mp(R.localStore,N.query,!1).then((({documents:E})=>N.view.ru(E,C))));const k=D&&D.targetChanges.get(N.targetId),M=D&&D.targetMismatches.get(N.targetId)!=null,j=N.view.applyChanges(C,R.isPrimaryClient,k,M);return Sp(R,N.targetId,j.au),j.snapshot})(t,d,g,m);const i=await mp(t.localStore,e,!0),o=new ZC(e,i.Qs),l=o.ru(i.documents),c=so.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),h=o.applyChanges(l,t.isPrimaryClient,c);Sp(t,n,h.au);const u=new eP(e,n,o);return t.Tu.set(e,u),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function oP(t,e,n){const r=fe(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter((o=>!Ya(o,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Uc(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Qu(r.remoteStore,s.targetId),Bc(r,s.targetId)})).catch($s)):(Bc(r,s.targetId),await Uc(r.localStore,s.targetId,!0))}async function aP(t,e){const n=fe(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Qu(n.remoteStore,r.targetId))}async function lP(t,e,n){const r=gP(t);try{const s=await(function(o,l){const c=fe(o),h=Me.now(),u=l.reduce(((m,I)=>m.add(I.key)),ve());let d,g;return c.persistence.runTransaction("Locally write mutations","readwrite",(m=>{let I=An(),R=ve();return c.Ns.getEntries(m,u).next((N=>{I=N,I.forEach(((O,D)=>{D.isValidDocument()||(R=R.add(O))}))})).next((()=>c.localDocuments.getOverlayedDocuments(m,I))).next((N=>{d=N;const O=[];for(const D of l){const C=bR(D,d.get(D.key).overlayedDocument);C!=null&&O.push(new Br(D.key,C,X_(C.value.mapValue),tn.exists(!0)))}return c.mutationQueue.addMutationBatch(m,h,O,l)})).next((N=>{g=N;const O=N.applyToLocalDocumentSet(d,R);return c.documentOverlayCache.saveOverlays(m,N.batchId,O)}))})).then((()=>({batchId:g.batchId,changes:ly(d)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(o,l,c){let h=o.Vu[o.currentUser.toKey()];h||(h=new Ue(ye)),h=h.insert(l,c),o.Vu[o.currentUser.toKey()]=h})(r,s.batchId,n),await oo(r,s.changes),await il(r.remoteStore)}catch(s){const i=eh(s,"Failed to persist write");n.reject(i)}}async function Wy(t,e){const n=fe(t);try{const r=await EC(n.localStore,e);e.targetChanges.forEach(((s,i)=>{const o=n.Au.get(i);o&&(Re(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?Re(o.hu,14607):s.removedDocuments.size>0&&(Re(o.hu,42227),o.hu=!1))})),await oo(n,r,e)}catch(r){await $s(r)}}function Ap(t,e,n){const r=fe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach(((i,o)=>{const l=o.view.va(e);l.snapshot&&s.push(l.snapshot)})),(function(o,l){const c=fe(o);c.onlineState=l;let h=!1;c.queries.forEach(((u,d)=>{for(const g of d.Sa)g.va(l)&&(h=!0)})),h&&th(c)})(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function cP(t,e,n){const r=fe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new Ue(ne.comparator);o=o.insert(i,dt.newNoDocument(i,he.min()));const l=ve().add(i),c=new nl(he.min(),new Map,new Ue(ye),o,l);await Wy(r,c),r.du=r.du.remove(i),r.Au.delete(e),rh(r)}else await Uc(r.localStore,e,!1).then((()=>Bc(r,e,n))).catch($s)}async function uP(t,e){const n=fe(t),r=e.batch.batchId;try{const s=await wC(n.localStore,e);Gy(n,r,null),zy(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await oo(n,s)}catch(s){await $s(s)}}async function hP(t,e,n){const r=fe(t);try{const s=await(function(o,l){const c=fe(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let u;return c.mutationQueue.lookupMutationBatch(h,l).next((d=>(Re(d!==null,37113),u=d.keys(),c.mutationQueue.removeMutationBatch(h,d)))).next((()=>c.mutationQueue.performConsistencyCheck(h))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(h,u,l))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,u))).next((()=>c.localDocuments.getDocuments(h,u)))}))})(r.localStore,e);Gy(r,e,n),zy(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await oo(r,s)}catch(s){await $s(s)}}function zy(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function Gy(t,e,n){const r=fe(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function Bc(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||Ky(t,r)}))}function Ky(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Qu(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),rh(t))}function Sp(t,e,n){for(const r of n)r instanceof By?(t.Ru.addReference(r.key,e),fP(t,r)):r instanceof Hy?(Y(nh,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||Ky(t,r.key)):oe(19791,{wu:r})}function fP(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Y(nh,"New document in limbo: "+n),t.Eu.add(r),rh(t))}function rh(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ne(Ve.fromString(e)),r=t.fu.next();t.Au.set(r,new tP(n)),t.du=t.du.insert(n,r),Dy(t.remoteStore,new Gn(en(Uu(n.path)),r,"TargetPurposeLimboResolution",Qa.ce))}}async function oo(t,e,n){const r=fe(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((l,c)=>{o.push(r.pu(c,e,n).then((h=>{if((h||n)&&r.isPrimaryClient){const u=h?!h.fromCache:n?.targetChanges.get(c.targetId)?.current;r.sharedClientState.updateQueryState(c.targetId,u?"current":"not-current")}if(h){s.push(h);const u=Gu.As(c.targetId,h);i.push(u)}})))})),await Promise.all(o),r.Pu.H_(s),await(async function(c,h){const u=fe(c);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",(d=>$.forEach(h,(g=>$.forEach(g.Es,(m=>u.persistence.referenceDelegate.addReference(d,g.targetId,m))).next((()=>$.forEach(g.ds,(m=>u.persistence.referenceDelegate.removeReference(d,g.targetId,m)))))))))}catch(d){if(!js(d))throw d;Y(Ku,"Failed to update sequence numbers: "+d)}for(const d of h){const g=d.targetId;if(!d.fromCache){const m=u.Ms.get(g),I=m.snapshotVersion,R=m.withLastLimboFreeSnapshotVersion(I);u.Ms=u.Ms.insert(g,R)}}})(r.localStore,i))}async function dP(t,e){const n=fe(t);if(!n.currentUser.isEqual(e)){Y(nh,"User change. New user:",e.toKey());const r=await Py(n.localStore,e);n.currentUser=e,(function(i,o){i.mu.forEach((l=>{l.forEach((c=>{c.reject(new X(U.CANCELLED,o))}))})),i.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await oo(n,r.Ls)}}function pP(t,e){const n=fe(t),r=n.Au.get(e);if(r&&r.hu)return ve().add(r.key);{let s=ve();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const l=n.Tu.get(o);s=s.unionWith(l.view.nu)}return s}}function Qy(t){const e=fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Wy.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cP.bind(null,e),e.Pu.H_=XC.bind(null,e.eventManager),e.Pu.yu=YC.bind(null,e.eventManager),e}function gP(t){const e=fe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=uP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hP.bind(null,e),e}class Aa{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=rl(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return vC(this.persistence,new mC,e.initialUser,this.serializer)}Cu(e){return new Cy(zu.mi,this.serializer)}Du(e){return new SC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Aa.provider={build:()=>new Aa};class mP extends Aa{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Re(this.persistence.referenceDelegate instanceof ba,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new tC(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Tt.withCacheSize(this.cacheSizeBytes):Tt.DEFAULT;return new Cy((r=>ba.mi(r,n)),this.serializer)}}class Hc{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Ap(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=dP.bind(null,this.syncEngine),await KC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new JC})()}createDatastore(e){const n=rl(e.databaseInfo.databaseId),r=(function(i){return new kC(i)})(e.databaseInfo);return(function(i,o,l,c){return new OC(i,o,l,c)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,s,i,o,l){return new LC(r,s,i,o,l)})(this.localStore,this.datastore,e.asyncQueue,(n=>Ap(this.syncEngine,n,0)),(function(){return vp.v()?new vp:new RC})())}createSyncEngine(e,n){return(function(s,i,o,l,c,h,u){const d=new nP(s,i,o,l,c,h);return u&&(d.gu=!0),d})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=fe(n);Y(Ur,"RemoteStore shutting down."),r.Ea.add(5),await io(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Hc.provider={build:()=>new Hc};class Jy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):In("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const ur="FirestoreClient";class _P{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=ht.UNAUTHENTICATED,this.clientId=Du.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,(async o=>{Y(ur,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,(o=>(Y(ur,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new er;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=eh(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Ql(t,e){t.asyncQueue.verifyOperationInProgress(),Y(ur,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async s=>{r.isEqual(s)||(await Py(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function Rp(t,e){t.asyncQueue.verifyOperationInProgress();const n=await yP(t);Y(ur,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>Ep(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,s)=>Ep(e.remoteStore,s))),t._onlineComponents=e}async function yP(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Y(ur,"Using user provided OfflineComponentProvider");try{await Ql(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(s){return s.name==="FirebaseError"?s.code===U.FAILED_PRECONDITION||s.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;Rs("Error using user provided cache. Falling back to memory cache: "+n),await Ql(t,new Aa)}}else Y(ur,"Using default OfflineComponentProvider"),await Ql(t,new mP(void 0));return t._offlineComponents}async function Xy(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Y(ur,"Using user provided OnlineComponentProvider"),await Rp(t,t._uninitializedComponentsProvider._online)):(Y(ur,"Using default OnlineComponentProvider"),await Rp(t,new Hc))),t._onlineComponents}function vP(t){return Xy(t).then((e=>e.syncEngine))}async function qc(t){const e=await Xy(t),n=e.eventManager;return n.onListen=rP.bind(null,e.syncEngine),n.onUnlisten=oP.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=sP.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=aP.bind(null,e.syncEngine),n}function wP(t,e,n={}){const r=new er;return t.asyncQueue.enqueueAndForget((async()=>(function(i,o,l,c,h){const u=new Jy({next:g=>{u.Nu(),o.enqueueAndForget((()=>$y(i,d))),g.fromCache&&c.source==="server"?h.reject(new X(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(g)},error:g=>h.reject(g)}),d=new jy(l,u,{includeMetadataChanges:!0,qa:!0});return Uy(i,d)})(await qc(t),t.asyncQueue,e,n,r))),r.promise}function Yy(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const Cp=new Map;const Zy="firestore.googleapis.com",Pp=!0;class xp{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new X(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Zy,this.ssl=Pp}else this.host=e.host,this.ssl=e.ssl??Pp;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Ry;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ZR)throw new X(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}MS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Yy(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new X(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new X(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new X(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ol{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xp({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new X(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new X(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xp(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new SS;switch(r.type){case"firstParty":return new xS(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new X(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=Cp.get(n);r&&(Y("ComponentProvider","Removing Datastore"),Cp.delete(n),r.terminate())})(this),Promise.resolve()}}function EP(t,e,n,r={}){t=tr(t,ol);const s=Ms(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;s&&(Km(`https://${l}`),Qm("Firestore",!0)),i.host!==Zy&&i.host!==l&&Rs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...i,host:l,ssl:s,emulatorOptions:r};if(!Or(c,o)&&(t._setSettings(c),r.mockUserToken)){let h,u;if(typeof r.mockUserToken=="string")h=r.mockUserToken,u=ht.MOCK_USER;else{h=Kb(r.mockUserToken,t._app?.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new X(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new ht(d)}t._authCredentials=new RS(new U_(h,u))}}class dr{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new dr(this.firestore,e,this._query)}}class Ze{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ze(this.firestore,e,this._key)}toJSON(){return{type:Ze._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(no(n,Ze._jsonSchema))return new Ze(e,r||null,new ne(Ve.fromString(n.referencePath)))}}Ze._jsonSchemaVersion="firestore/documentReference/1.0",Ze._jsonSchema={type:Qe("string",Ze._jsonSchemaVersion),referencePath:Qe("string")};class nr extends dr{constructor(e,n,r){super(e,n,Uu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ze(this.firestore,null,new ne(e))}withConverter(e){return new nr(this.firestore,e,this._path)}}function TP(t,e,...n){if(t=yt(t),$_("collection","path",e),t instanceof ol){const r=Ve.fromString(e,...n);return Hd(r),new nr(t,null,r)}{if(!(t instanceof Ze||t instanceof nr))throw new X(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ve.fromString(e,...n));return Hd(r),new nr(t.firestore,null,r)}}function ev(t,e,...n){if(t=yt(t),arguments.length===1&&(e=Du.newId()),$_("doc","path",e),t instanceof ol){const r=Ve.fromString(e,...n);return Bd(r),new Ze(t,null,new ne(r))}{if(!(t instanceof Ze||t instanceof nr))throw new X(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ve.fromString(e,...n));return Bd(r),new Ze(t.firestore,t instanceof nr?t.converter:null,new ne(r))}}const kp="AsyncQueue";class Np{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ky(this,"async_queue_retry"),this._c=()=>{const r=Kl();r&&Y(kp,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Kl();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Kl();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new er;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!js(e))throw e;Y(kp,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,In("INTERNAL UNHANDLED ERROR: ",Dp(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Zu.createAndSchedule(this,e,n,r,(i=>this.hc(i)));return this.tc.push(s),s}uc(){this.nc&&oe(47125,{Pc:Dp(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Dp(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function Vp(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1})(t,["next","error","complete"])}class Ds extends ol{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new Np,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Np(e),this._firestoreClient=void 0,await e}}}function bP(t,e){const n=typeof t=="object"?t:Zm(),r=typeof t=="string"?t:ya,s=Eu(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=zb("firestore");i&&EP(s,...i)}return s}function sh(t){if(t._terminated)throw new X(U.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||IP(t),t._firestoreClient}function IP(t){const e=t._freezeSettings(),n=(function(s,i,o,l){return new GS(s,i,o,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,Yy(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new _P(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(s){const i=s?._online.build();return{_offline:s?._offline.build(i),_online:i}})(t._componentsProvider))}class Dt{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Dt(lt.fromBase64String(e))}catch(n){throw new X(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Dt(lt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Dt._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(no(e,Dt._jsonSchema))return Dt.fromBase64String(e.bytes)}}Dt._jsonSchemaVersion="firestore/bytes/1.0",Dt._jsonSchema={type:Qe("string",Dt._jsonSchemaVersion),bytes:Qe("string")};class ih{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new X(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new at(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class oh{constructor(e){this._methodName=e}}class rn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new X(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new X(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ye(this._lat,e._lat)||ye(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:rn._jsonSchemaVersion}}static fromJSON(e){if(no(e,rn._jsonSchema))return new rn(e.latitude,e.longitude)}}rn._jsonSchemaVersion="firestore/geoPoint/1.0",rn._jsonSchema={type:Qe("string",rn._jsonSchemaVersion),latitude:Qe("number"),longitude:Qe("number")};class sn{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0})(this._values,e._values)}toJSON(){return{type:sn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(no(e,sn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new sn(e.vectorValues);throw new X(U.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}sn._jsonSchemaVersion="firestore/vectorValue/1.0",sn._jsonSchema={type:Qe("string",sn._jsonSchemaVersion),vectorValues:Qe("object")};const AP=/^__.*__$/;class SP{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Br(e,this.data,this.fieldMask,n,this.fieldTransforms):new ro(e,this.data,n,this.fieldTransforms)}}function tv(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw oe(40011,{Ac:t})}}class ah{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ah({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Sa(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(tv(this.Ac)&&AP.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class RP{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||rl(e)}Cc(e,n,r,s=!1){return new ah({Ac:e,methodName:n,Dc:r,path:at.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function nv(t){const e=t._freezeSettings(),n=rl(t._databaseId);return new RP(t._databaseId,!!e.ignoreUndefinedProperties,n)}function CP(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);iv("Data must be an object, but it was:",o,r);const l=rv(r,o);let c,h;if(i.merge)c=new Lt(o.fieldMask),h=o.fieldTransforms;else if(i.mergeFields){const u=[];for(const d of i.mergeFields){const g=xP(e,d,n);if(!o.contains(g))throw new X(U.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);NP(u,g)||u.push(g)}c=new Lt(u),h=o.fieldTransforms.filter((d=>c.covers(d.field)))}else c=null,h=o.fieldTransforms;return new SP(new Nt(l),c,h)}class lh extends oh{_toFieldTransform(e){return new vR(e.path,new Hi)}isEqual(e){return e instanceof lh}}function PP(t,e,n,r=!1){return ch(n,t.Cc(r?4:3,e))}function ch(t,e){if(sv(t=yt(t)))return iv("Unsupported field value:",e,t),rv(t,e);if(t instanceof oh)return(function(r,s){if(!tv(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,s){const i=[];let o=0;for(const l of r){let c=ch(l,s.wc(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}})(t,e)}return(function(r,s){if((r=yt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return mR(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Me.fromDate(r);return{timestampValue:Ta(s.serializer,i)}}if(r instanceof Me){const i=new Me(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ta(s.serializer,i)}}if(r instanceof rn)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Dt)return{bytesValue:wy(s.serializer,r._byteString)};if(r instanceof Ze){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:qu(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof sn)return(function(o,l){return{mapValue:{fields:{[Q_]:{stringValue:J_},[va]:{arrayValue:{values:o.toArray().map((h=>{if(typeof h!="number")throw l.Sc("VectorValues must only contain numeric values.");return $u(l.serializer,h)}))}}}}}})(r,s);throw s.Sc(`Unsupported field value: ${Ka(r)}`)})(t,e)}function rv(t,e){const n={};return H_(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$r(t,((r,s)=>{const i=ch(s,e.mc(r));i!=null&&(n[r]=i)})),{mapValue:{fields:n}}}function sv(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Me||t instanceof rn||t instanceof Dt||t instanceof Ze||t instanceof oh||t instanceof sn)}function iv(t,e,n){if(!sv(n)||!j_(n)){const r=Ka(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function xP(t,e,n){if((e=yt(e))instanceof ih)return e._internalPath;if(typeof e=="string")return ov(t,e);throw Sa("Field path arguments must be of type string or ",t,!1,void 0,n)}const kP=new RegExp("[~\\*/\\[\\]]");function ov(t,e,n){if(e.search(kP)>=0)throw Sa(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ih(...e.split("."))._internalPath}catch{throw Sa(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Sa(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new X(U.INVALID_ARGUMENT,l+t+c)}function NP(t,e){return t.some((n=>n.isEqual(e)))}class av{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ze(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new DP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(uh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class DP extends av{data(){return super.data()}}function uh(t,e){return typeof e=="string"?ov(t,e):e instanceof ih?e._internalPath:e._delegate._internalPath}function lv(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new X(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hh{}class cv extends hh{}function VP(t,e,...n){let r=[];e instanceof hh&&r.push(e),r=r.concat(n),(function(i){const o=i.filter((c=>c instanceof dh)).length,l=i.filter((c=>c instanceof fh)).length;if(o>1||o>0&&l>0)throw new X(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)t=s._apply(t);return t}class fh extends cv{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new fh(e,n,r)}_apply(e){const n=this._parse(e);return uv(e._query,n),new dr(e.firestore,e.converter,Dc(e._query,n))}_parse(e){const n=nv(e.firestore);return(function(i,o,l,c,h,u,d){let g;if(h.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new X(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){Mp(d,u);const I=[];for(const R of d)I.push(Op(c,i,R));g={arrayValue:{values:I}}}else g=Op(c,i,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||Mp(d,u),g=PP(l,o,d,u==="in"||u==="not-in");return Ke.create(h,u,g)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class dh extends hh{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new dh(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Ht.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(s,i){let o=s;const l=i.getFlattenedFilters();for(const c of l)uv(o,c),o=Dc(o,c)})(e._query,n),new dr(e.firestore,e.converter,Dc(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ph extends cv{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new ph(e,n)}_apply(e){const n=(function(s,i,o){if(s.startAt!==null)throw new X(U.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new X(U.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Bi(i,o)})(e._query,this._field,this._direction);return new dr(e.firestore,e.converter,(function(s,i){const o=s.explicitOrderBy.concat([i]);return new Bs(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(e._query,n))}}function OP(t,e="asc"){const n=e,r=uh("orderBy",t);return ph._create(r,n)}function Op(t,e,n){if(typeof(n=yt(n))=="string"){if(n==="")throw new X(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sy(e)&&n.indexOf("/")!==-1)throw new X(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ve.fromString(n));if(!ne.isDocumentKey(r))throw new X(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Xd(t,new ne(r))}if(n instanceof Ze)return Xd(t,n._key);throw new X(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ka(n)}.`)}function Mp(t,e){if(!Array.isArray(t)||t.length===0)throw new X(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function uv(t,e){const n=(function(s,i){for(const o of s)for(const l of o.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null})(t.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new X(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new X(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class MP{convertValue(e,n="none"){switch(lr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return He(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ar(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw oe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return $r(e,((s,i)=>{r[s]=this.convertValue(i,n)})),r}convertVectorValue(e){const n=e.fields?.[va].arrayValue?.values?.map((r=>He(r.doubleValue)));return new sn(n)}convertGeoPoint(e){return new rn(He(e.latitude),He(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Xa(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ui(e));default:return null}}convertTimestamp(e){const n=or(e);return new Me(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ve.fromString(e);Re(Sy(r),9688,{name:e});const s=new $i(r.get(1),r.get(3)),i=new ne(r.popFirst(5));return s.isEqual(n)||In(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}function LP(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class mi{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Nr extends av{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ko(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(uh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new X(U.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Nr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Nr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Nr._jsonSchema={type:Qe("string",Nr._jsonSchemaVersion),bundleSource:Qe("string","DocumentSnapshot"),bundleName:Qe("string"),bundle:Qe("string")};class Ko extends Nr{data(e={}){return super.data(e)}}class Dr{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new mi(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Ko(this._firestore,this._userDataWriter,r.key,r,new mi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new X(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map((l=>{const c=new Ko(s._firestore,s._userDataWriter,l.doc.key,l.doc,new mi(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}}))}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((l=>i||l.type!==3)).map((l=>{const c=new Ko(s._firestore,s._userDataWriter,l.doc.key,l.doc,new mi(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let h=-1,u=-1;return l.type!==0&&(h=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),u=o.indexOf(l.doc.key)),{type:FP(l.type),doc:c,oldIndex:h,newIndex:u}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new X(U.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Dr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Du.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach((i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function FP(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return oe(61501,{type:t})}}Dr._jsonSchemaVersion="firestore/querySnapshot/1.0",Dr._jsonSchema={type:Qe("string",Dr._jsonSchemaVersion),bundleSource:Qe("string","QuerySnapshot"),bundleName:Qe("string"),bundle:Qe("string")};class gh extends MP{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dt(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ze(this.firestore,null,n)}}function UP(t){t=tr(t,dr);const e=tr(t.firestore,Ds),n=sh(e),r=new gh(e);return lv(t._query),wP(n,t._query).then((s=>new Dr(e,r,t,s)))}function $P(t){return hv(tr(t.firestore,Ds),[new ju(t._key,tn.none())])}function jP(t,e){const n=tr(t.firestore,Ds),r=ev(t),s=LP(t.converter,e);return hv(n,[CP(nv(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,tn.exists(!1))]).then((()=>r))}function BP(t,...e){t=yt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Vp(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Vp(e[r])){const c=e[r];e[r]=c.next?.bind(c),e[r+1]=c.error?.bind(c),e[r+2]=c.complete?.bind(c)}let i,o,l;if(t instanceof Ze)o=tr(t.firestore,Ds),l=Uu(t._key.path),i={next:c=>{e[r]&&e[r](HP(o,t,c))},error:e[r+1],complete:e[r+2]};else{const c=tr(t,dr);o=tr(c.firestore,Ds),l=c._query;const h=new gh(o);i={next:u=>{e[r]&&e[r](new Dr(o,h,c,u))},error:e[r+1],complete:e[r+2]},lv(t._query)}return(function(h,u,d,g){const m=new Jy(g),I=new jy(u,m,d);return h.asyncQueue.enqueueAndForget((async()=>Uy(await qc(h),I))),()=>{m.Nu(),h.asyncQueue.enqueueAndForget((async()=>$y(await qc(h),I)))}})(sh(o),l,s,i)}function hv(t,e){return(function(r,s){const i=new er;return r.asyncQueue.enqueueAndForget((async()=>lP(await vP(r),s,i))),i.promise})(sh(t),e)}function HP(t,e,n){const r=n.docs.get(e._key),s=new gh(t);return new Nr(t,s,e._key,r,new mi(n.hasPendingWrites,n.fromCache),e.converter)}function qP(){return new lh("serverTimestamp")}(function(e,n=!0){(function(s){Us=s})(Ls),As(new Mr("firestore",((r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),l=new Ds(new CS(r.getProvider("auth-internal")),new kS(o,r.getProvider("app-check-internal")),(function(h,u){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new X(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $i(h.options.projectId,u)})(o,s),o);return i={useFetchStreams:n,...i},l._setSettings(i),l}),"PUBLIC").setMultipleInstances(!0)),Yn(Fd,Ud,e),Yn(Fd,Ud,"esm2020")})();const WP=Rn(t=>{const e=Is(),n={apiKey:e.public.firebaseApiKey,authDomain:e.public.firebaseAuthDomain,projectId:e.public.firebaseProjectId,storageBucket:e.public.firebaseStorageBucket,messagingSenderId:e.public.firebaseMessagingSenderId,appId:e.public.firebaseAppId,measurementId:e.public.firebaseMeasurementId},r=Ym(n),s=TS(r),i=new _n,o=bP(r),l=AS("user",()=>null);return u1(s,c=>{c?l.value={name:c.displayName,email:c.email,photo:c.photoURL,uid:c.uid}:l.value=null}),{provide:{db:o,auth:s,user:l,login:()=>k1(s,i),logout:()=>h1(s),collection:TP,getDocs:UP,addDoc:jP,deleteDoc:$P,doc:ev,query:VP,orderBy:OP,onSnapshot:BP,serverTimestamp:qP}}}),zP=[bb,Cb,kb,Nb,Db,Vb,Mb,Lb,WP],GP={class:"sticky top-0 z-50 w-full bg-white/90 backdrop-blur-md border-b border-gray-100 transition-all duration-300"},KP={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},QP={class:"flex justify-between items-center h-16"},JP={class:"hidden md:flex items-center space-x-8 text-sm font-medium"},XP=["href"],YP={key:1,class:"flex items-center gap-4"},ZP=["src","title"],ex={class:"md:hidden flex items-center gap-3"},tx=["src"],nx={class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},rx={key:0,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"},sx={key:1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},ix={key:0,class:"md:hidden bg-white border-b border-gray-100 absolute w-full left-0 top-16 shadow-2xl py-4"},ox={class:"px-4 space-y-3 flex flex-col items-center"},ax=["href"],lx={class:"pt-4 border-t border-gray-100 w-full flex justify-center"},cx={__name:"NavBar",setup(t){const{$user:e,$login:n,$logout:r}=je(),s=e,i=qe(!1),o=[{name:"About",href:"#about"},{name:"Skills",href:"#skills"},{name:"Experience",href:"#experience"},{name:"Blog",href:"#blog"},{name:"Contact",href:"#contact"}],l=async()=>{i.value=!1;try{await n()}catch(u){console.error("Login failed:",u.message)}},c=async()=>{i.value=!1;try{await r()}catch(u){console.error("Logout failed:",u)}},h=()=>{window.scrollTo({top:0,behavior:"smooth"}),i.value=!1};return(u,d)=>(se(),ge("nav",GP,[F("div",KP,[F("div",QP,[F("div",{class:"flex-shrink-0 cursor-pointer",onClick:h},[...d[2]||(d[2]=[F("span",{class:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent"}," Third Aragon ",-1)])]),F("div",JP,[(se(),ge(Ge,null,zn(o,g=>F("a",{key:g.href,href:g.href,class:"text-gray-600 hover:text-blue-600 transition hover:-translate-y-0.5"},Pe(g.name),9,XP)),64)),be(s)?(se(),ge("div",YP,[be(s).photo?(se(),ge("img",{key:0,src:be(s).photo,alt:"User",class:"h-8 w-8 rounded-full border border-gray-200 shadow-sm",title:be(s).name},null,8,ZP)):Ut("",!0),F("button",{class:"px-5 py-2 rounded-full border border-red-100 bg-red-50 text-red-600 font-medium text-sm hover:bg-red-100 transition-transform transform hover:scale-105",onClick:c}," Logout ")])):(se(),ge("button",{key:0,class:"px-5 py-2 rounded-full bg-slate-900 text-white font-medium text-sm hover:bg-slate-800 transition-transform transform hover:scale-105 shadow-lg flex items-center gap-2",onClick:l},[...d[3]||(d[3]=[F("span",null,"Login",-1)])]))]),F("div",ex,[be(s)&&be(s).photo?(se(),ge("img",{key:0,src:be(s).photo,alt:"User",class:"h-8 w-8 rounded-full border border-gray-200"},null,8,tx)):Ut("",!0),F("button",{onClick:d[0]||(d[0]=g=>i.value=!i.value),class:"text-slate-600 hover:text-blue-600 focus:outline-none p-2"},[(se(),ge("svg",nx,[i.value?(se(),ge("path",sx)):(se(),ge("path",rx))]))])])])]),Le(UE,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"transform -translate-y-2 opacity-0","enter-to-class":"transform translate-y-0 opacity-100","leave-active-class":"transition duration-100 ease-in","leave-from-class":"transform translate-y-0 opacity-100","leave-to-class":"transform -translate-y-2 opacity-0"},{default:nu(()=>[i.value?(se(),ge("div",ix,[F("div",ox,[(se(),ge(Ge,null,zn(o,g=>F("a",{key:g.href,href:g.href,class:"block px-3 py-2 text-base font-medium text-slate-600 hover:text-blue-600 hover:bg-blue-50 rounded-md w-full text-center",onClick:d[1]||(d[1]=m=>i.value=!1)},Pe(g.name),9,ax)),64)),F("div",lx,[be(s)?(se(),ge("button",{key:1,class:"w-full max-w-xs px-5 py-3 rounded-xl bg-red-50 text-red-600 border border-red-100 font-bold hover:bg-red-100 transition shadow-md",onClick:c}," Logout ("+Pe(be(s).name.split(" ")[0])+") ",1)):(se(),ge("button",{key:0,class:"w-full max-w-xs px-5 py-3 rounded-xl bg-slate-900 text-white font-bold hover:bg-slate-800 transition shadow-md",onClick:l}," Login with Google "))])])])):Ut("",!0)]),_:1})]))}},ux=(t,e)=>{const n=t.__vccOpts||t;for(const[r,s]of e)n[r]=s;return n},hx={},fx={class:"bg-slate-900 border-t border-slate-800 pt-16 pb-8 relative overflow-hidden"},dx={class:"max-w-7xl mx-auto px-6 sm:px-6 lg:px-8 relative z-10"},px={class:"border-t border-slate-800 pt-8 flex flex-col md:flex-row justify-between items-center gap-4"},gx={class:"text-slate-500 text-sm"};function mx(t,e){return se(),ge("footer",fx,[e[2]||(e[2]=F("div",{class:"absolute top-0 right-0 -translate-y-1/2 w-96 h-96 bg-blue-900/20 rounded-full blur-[100px] pointer-events-none"},null,-1)),e[3]||(e[3]=F("div",{class:"absolute bottom-0 left-0 translate-y-1/2 w-64 h-64 bg-indigo-900/20 rounded-full blur-[80px] pointer-events-none"},null,-1)),F("div",dx,[e[1]||(e[1]=ac('<div class="grid grid-cols-1 md:grid-cols-12 gap-12 mb-12"><div class="md:col-span-5 space-y-6"><div><h2 class="text-2xl font-bold bg-gradient-to-r from-blue-400 to-indigo-400 bg-clip-text text-transparent inline-block"> Third Aragon </h2><p class="text-slate-400 mt-4 leading-relaxed max-w-sm"> Computer Engineering student bridging the gap between hardware and software. Building digital experiences that matter. </p></div><div class="flex gap-4"><a href="#" class="w-10 h-10 rounded-full bg-slate-800 flex items-center justify-center text-slate-400 hover:bg-blue-600 hover:text-white transition-all duration-300"><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg></a><a href="#" class="w-10 h-10 rounded-full bg-slate-800 flex items-center justify-center text-slate-400 hover:bg-blue-600 hover:text-white transition-all duration-300"><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"></path></svg></a><a href="mailto:third.aragon123@gmail.com" class="w-10 h-10 rounded-full bg-slate-800 flex items-center justify-center text-slate-400 hover:bg-blue-600 hover:text-white transition-all duration-300"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path></svg></a></div></div><div class="md:col-span-3 md:pl-8"><h3 class="text-white font-semibold mb-6">Quick Links</h3><ul class="space-y-3"><li><a href="#hero" class="text-slate-400 hover:text-blue-400 transition-colors duration-200">Home</a></li><li><a href="#about" class="text-slate-400 hover:text-blue-400 transition-colors duration-200">About Me</a></li><li><a href="#skills" class="text-slate-400 hover:text-blue-400 transition-colors duration-200">Skills</a></li><li><a href="#blog" class="text-slate-400 hover:text-blue-400 transition-colors duration-200">Blog</a></li></ul></div><div class="md:col-span-4"><h3 class="text-white font-semibold mb-6">Contact</h3><ul class="space-y-4"><li class="flex items-start gap-3 text-slate-400"><svg class="w-5 h-5 mt-1 text-blue-500 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path></svg><span>General Trias, Cavite, Philippines</span></li><li class="flex items-start gap-3 text-slate-400"><svg class="w-5 h-5 mt-1 text-blue-500 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path></svg><span class="break-all">third.aragon123@gmail.com</span></li></ul></div></div>',1)),F("div",px,[F("p",gx,"  "+Pe(new Date().getFullYear())+" Third Aragon. All rights reserved. ",1),e[0]||(e[0]=F("p",{class:"text-slate-600 text-sm flex items-center gap-2"},[F("span",null,"Built with Nuxt 4 & Firebase")],-1))])])])}const _x=Object.assign(ux(hx,[["render",mx]]),{__name:"TheFooter"}),yx={class:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm"},vx={class:"bg-white rounded-2xl shadow-2xl w-full max-w-lg p-6 animate-fade-in-up"},wx={class:"flex justify-end gap-3 pt-2"},Ex={__name:"AddBlogModal",emits:["close","refresh"],setup(t,{emit:e}){const{$db:n,$collection:r,$addDoc:s,$serverTimestamp:i}=je(),o=e,l=qe({title:"",category:"",image:"",content:""}),c=qe(!1),h=async()=>{if(!c.value){c.value=!0;try{await s(r(n,"blogs"),{...l.value,date:new Date().toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),createdAt:i()}),alert("Blog posted!"),o("refresh"),o("close")}catch(u){console.error(u),alert("Error: "+u.message)}finally{c.value=!1}}};return(u,d)=>(se(),ge("div",yx,[F("div",vx,[d[6]||(d[6]=F("h2",{class:"text-2xl font-bold mb-4"},"Add New Blog",-1)),F("form",{onSubmit:lT(h,["prevent"]),class:"space-y-4"},[os(F("input",{"onUpdate:modelValue":d[0]||(d[0]=g=>l.value.title=g),type:"text",placeholder:"Title",required:"",class:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"},null,512),[[ls,l.value.title]]),os(F("input",{"onUpdate:modelValue":d[1]||(d[1]=g=>l.value.category=g),type:"text",placeholder:"Category (e.g., Tech)",required:"",class:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"},null,512),[[ls,l.value.category]]),os(F("input",{"onUpdate:modelValue":d[2]||(d[2]=g=>l.value.image=g),type:"text",placeholder:"Image URL (e.g., Unsplash Link)",required:"",class:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"},null,512),[[ls,l.value.image]]),os(F("textarea",{"onUpdate:modelValue":d[3]||(d[3]=g=>l.value.content=g),rows:"4",placeholder:"Blog Content...",required:"",class:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"},null,512),[[ls,l.value.content]]),F("div",wx,[F("button",{type:"button",onClick:d[4]||(d[4]=g=>u.$emit("close")),class:"px-4 py-2 text-gray-500 hover:text-gray-700"},"Cancel"),d[5]||(d[5]=F("button",{type:"submit",class:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium"},"Post Blog",-1))])],32)])]))}},Tx={class:"border-l-2 border-gray-100 pl-4 mb-6 hover:border-blue-200 transition-colors"},bx={class:"flex items-start gap-3"},Ix=["src"],Ax={class:"flex-1"},Sx={class:"bg-gray-50 p-3 rounded-2xl rounded-tl-none relative group"},Rx={class:"flex justify-between items-center mb-1"},Cx={class:"font-bold text-sm text-slate-800"},Px={class:"text-xs text-gray-400"},xx={class:"text-slate-700 text-sm leading-relaxed"},kx={key:0,class:"mt-3 ml-11 flex gap-2 animate-fade-in-up"},Nx={key:1,class:"mt-4 ml-8 space-y-4 border-l border-gray-100 pl-4"},Dx=["src"],Vx={class:"bg-gray-50 p-2.5 rounded-xl rounded-tl-none flex-1"},Ox={class:"flex justify-between items-center mb-0.5"},Mx={class:"font-bold text-xs text-slate-800"},Lx={class:"text-[10px] text-gray-400"},Fx={class:"text-slate-600 text-xs"},Ux={__name:"CommentItem",props:["blogId","comment"],setup(t){const e=t,{$db:n,$collection:r,$addDoc:s,$query:i,$orderBy:o,$onSnapshot:l,$serverTimestamp:c,$user:h}=je(),u=h,d=qe(!1),g=qe(""),m=qe([]);La(()=>{const N=r(n,`blogs/${e.blogId}/comments/${e.comment.id}/replies`),O=i(N,o("createdAt","asc"));l(O,D=>{m.value=D.docs.map(C=>({id:C.id,...C.data()}))})});const I=async()=>{if(g.value.trim())try{const N=r(n,`blogs/${e.blogId}/comments/${e.comment.id}/replies`);await s(N,{text:g.value,userName:u.value.name||"Anonymous",userPhoto:u.value.photo||null,createdAt:c()}),g.value="",d.value=!1}catch(N){console.error("Reply error:",N),alert("Reply failed: "+N.message)}},R=N=>N?new Date(N.seconds*1e3).toLocaleDateString(void 0,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"";return(N,O)=>(se(),ge("div",Tx,[F("div",bx,[F("img",{src:t.comment.userPhoto||"https://placehold.co/100",class:"w-8 h-8 rounded-full bg-gray-200 object-cover border border-white shadow-sm",alt:"Avatar"},null,8,Ix),F("div",Ax,[F("div",Sx,[F("div",Rx,[F("span",Cx,Pe(t.comment.userName),1),F("span",Px,Pe(R(t.comment.createdAt)),1)]),F("p",xx,Pe(t.comment.text),1)]),be(u)?(se(),ge("button",{key:0,onClick:O[0]||(O[0]=D=>d.value=!d.value),class:"text-xs font-bold text-slate-500 mt-1 ml-2 hover:text-blue-600 hover:underline transition-colors"},Pe(d.value?"Cancel":"Reply"),1)):Ut("",!0)])]),d.value?(se(),ge("div",kx,[os(F("input",{"onUpdate:modelValue":O[1]||(O[1]=D=>g.value=D),type:"text",placeholder:"Write a reply...",class:"flex-1 px-3 py-2 text-sm border border-gray-200 rounded-lg outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100 transition-all",onKeyup:uT(I,["enter"])},null,544),[[ls,g.value]]),F("button",{onClick:I,class:"px-3 py-2 bg-slate-900 text-white text-xs font-bold rounded-lg hover:bg-slate-800 transition-colors"}," Send ")])):Ut("",!0),m.value.length>0?(se(),ge("div",Nx,[(se(!0),ge(Ge,null,zn(m.value,D=>(se(),ge("div",{key:D.id,class:"flex items-start gap-3"},[F("img",{src:D.userPhoto||"https://placehold.co/100",class:"w-6 h-6 rounded-full bg-gray-200 object-cover border border-white shadow-sm"},null,8,Dx),F("div",Vx,[F("div",Ox,[F("span",Mx,Pe(D.userName),1),F("span",Lx,Pe(R(D.createdAt)),1)]),F("p",Fx,Pe(D.text),1)])]))),128))])):Ut("",!0)]))}},$x={key:0,class:"fixed inset-0 z-[60] overflow-y-auto bg-white/95 backdrop-blur-sm"},jx={class:"fixed top-6 right-6 z-50 flex items-center gap-3"},Bx={class:"max-w-3xl mx-auto px-4 py-12 md:py-20 animate-fade-in-up"},Hx={class:"text-blue-600 font-bold tracking-wide uppercase text-sm bg-blue-50 px-3 py-1 rounded-md"},qx={class:"text-3xl md:text-5xl font-extrabold text-slate-900 mt-4 mb-6 leading-tight"},Wx={class:"flex items-center gap-4 text-gray-500 text-sm mb-8 border-b border-gray-100 pb-8"},zx=["src"],Gx={class:"prose prose-lg text-slate-700 max-w-none mb-16 whitespace-pre-wrap leading-loose"},Kx={class:"bg-gray-50 rounded-3xl p-6 md:p-10"},Qx={class:"text-2xl font-bold mb-8 text-slate-900"},Jx={key:0,class:"flex gap-4 mb-10"},Xx=["src"],Yx={class:"flex-1"},Zx={key:1,class:"text-center py-8 bg-white rounded-2xl border border-gray-200 mb-10 shadow-sm"},ek={class:"space-y-6"},tk={__name:"BlogModal",props:["blog"],emits:["close","refresh"],setup(t,{emit:e}){const n=t,r=e,{$db:s,$collection:i,$addDoc:o,$deleteDoc:l,$doc:c,$query:h,$orderBy:u,$onSnapshot:d,$serverTimestamp:g,$user:m}=je(),I=m,R=qe([]),N=qe(""),O=["third.aragon123@gmail.com"],D=ja(()=>I.value&&O.includes(I.value.email));Vo(()=>n.blog,M=>{if(M){const j=i(s,`blogs/${M.id}/comments`),E=h(j,u("createdAt","desc"));d(E,v=>{R.value=v.docs.map(y=>({id:y.id,...y.data()}))})}},{immediate:!0});const C=async()=>{if(N.value.trim())try{await o(i(s,`blogs/${n.blog.id}/comments`),{text:N.value,userName:I.value.name||"Anonymous",userPhoto:I.value.photo||null,uid:I.value.uid,createdAt:g()}),N.value=""}catch(M){alert("Error: "+M.message)}},k=async()=>{if(confirm("Delete this post?"))try{await l(c(s,"blogs",n.blog.id)),r("refresh"),r("close")}catch(M){alert("Delete failed: "+M.message)}};return(M,j)=>{const E=Ux;return t.blog?(se(),ge("div",$x,[F("div",jx,[D.value?(se(),ge("button",{key:0,onClick:k,class:"group flex items-center gap-2 px-4 py-2 bg-red-50 text-red-600 rounded-full hover:bg-red-600 hover:text-white transition-all duration-300 border border-red-100"},[...j[2]||(j[2]=[F("span",{class:"text-sm font-bold hidden group-hover:inline"},"Delete",-1),F("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[F("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])])):Ut("",!0),F("button",{onClick:j[0]||(j[0]=v=>M.$emit("close")),class:"p-2 bg-slate-100 text-slate-600 rounded-full hover:bg-slate-200"},[...j[3]||(j[3]=[F("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[F("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),F("div",Bx,[F("span",Hx,Pe(t.blog.category),1),F("h1",qx,Pe(t.blog.title),1),F("div",Wx,[F("span",null,Pe(t.blog.date),1)]),F("img",{src:t.blog.image,class:"w-full h-64 md:h-[500px] object-cover rounded-3xl shadow-2xl mb-12"},null,8,zx),F("div",Gx,Pe(t.blog.content),1),j[5]||(j[5]=F("hr",{class:"border-gray-200 mb-12"},null,-1)),F("div",Kx,[F("h3",Qx,"Comments ("+Pe(R.value.length)+")",1),be(I)?(se(),ge("div",Jx,[F("img",{src:be(I).photo||"https://placehold.co/100",class:"w-10 h-10 rounded-full border border-white shadow-sm"},null,8,Xx),F("div",Yx,[os(F("textarea",{"onUpdate:modelValue":j[1]||(j[1]=v=>N.value=v),rows:"3",placeholder:"Share your thoughts...",class:"w-full p-4 bg-white rounded-2xl border border-gray-200 focus:ring-2 focus:ring-blue-500 outline-none resize-none shadow-sm"},null,512),[[ls,N.value]]),F("div",{class:"flex justify-end mt-2"},[F("button",{onClick:C,class:"px-5 py-2 bg-slate-900 text-white rounded-lg font-medium text-sm hover:bg-slate-800 transition"}," Post Comment ")])])])):(se(),ge("div",Zx,[...j[4]||(j[4]=[F("p",{class:"text-gray-500 mb-2"},"Log in to join the conversation.",-1),F("p",{class:"text-xs text-slate-400"},"Use the Login button in the Navbar",-1)])])),F("div",ek,[(se(!0),ge(Ge,null,zn(R.value,v=>(se(),Jt(E,{key:v.id,blogId:t.blog.id,comment:v},null,8,["blogId","comment"]))),128))])])])])):Ut("",!0)}}},nk=""+new URL("profile.BFmIGWAP.jpg",import.meta.url).href,rk={class:"min-h-screen font-sans text-slate-800 bg-gray-50 selection:bg-blue-100 overflow-x-hidden"},sk={id:"hero",class:"bg-white pt-28 pb-16 md:pt-32 md:pb-24 overflow-hidden relative"},ik={class:"max-w-7xl mx-auto px-6 sm:px-6 lg:px-8"},ok={class:"grid grid-cols-1 lg:grid-cols-2 gap-12 lg:gap-8 items-center relative z-10"},ak={class:"order-first lg:order-first relative mx-auto w-full max-w-[300px] sm:max-w-sm lg:max-w-md flex justify-center"},lk=["src"],ck={id:"skills",class:"py-20 md:py-24 bg-white"},uk={class:"max-w-7xl mx-auto px-6 sm:px-6 lg:px-8"},hk={class:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-4 gap-4 md:gap-6"},fk={class:"text-4xl mb-3"},dk={class:"font-semibold text-slate-700 text-sm md:text-base"},pk={class:"text-xs text-slate-400 mt-1"},gk={id:"experience",class:"py-20 md:py-24 bg-gray-50"},mk={class:"max-w-5xl mx-auto px-6 sm:px-6 lg:px-8"},_k={class:"relative border-l-2 border-blue-200 ml-2 md:ml-0 space-y-12"},yk={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-2"},vk={class:"text-xl font-bold text-slate-900"},wk={class:"text-sm font-bold text-blue-700 bg-blue-100 px-3 py-1 rounded-full w-fit mt-2 sm:mt-0"},Ek={class:"block text-sm text-gray-500 mb-4 font-medium"},Tk={class:"list-disc ml-5 text-slate-600 leading-relaxed space-y-1"},bk={id:"blog",class:"py-20 md:py-24 bg-white"},Ik={class:"max-w-7xl mx-auto px-6 sm:px-6 lg:px-8"},Ak={class:"text-center mb-12"},Sk={key:0,class:"mt-6 animate-fade-in-up"},Rk={key:0,class:"text-center py-20 text-gray-400"},Ck={key:1,class:"grid gap-8 grid-cols-1 md:grid-cols-2 lg:grid-cols-3"},Pk={class:"h-48 overflow-hidden bg-gray-200"},xk=["src"],kk={class:"p-6 flex-1 flex flex-col"},Nk={class:"flex justify-between items-center mb-3"},Dk={class:"text-xs font-bold text-blue-600 bg-blue-50 px-2 py-1 rounded uppercase tracking-wide"},Vk={class:"text-xs text-gray-400"},Ok={class:"text-xl font-bold text-slate-900 mb-2 group-hover:text-blue-600 transition-colors"},Mk={class:"text-gray-600 text-sm line-clamp-3 mb-4 flex-1"},Lk=["onClick"],Fk={__name:"app",setup(t){const{$db:e,$collection:n,$getDocs:r,$query:s,$orderBy:i,$user:o}=je(),l=qe(!0),c=qe([]),h=qe(!1),u=qe(null),d=qe([{name:"C / C++",icon:"",desc:"Programming"},{name:"Python / Java",icon:"",desc:"Programming"},{name:"Arduino / ESP32",icon:"",desc:"Embedded Systems"},{name:"Circuit Design",icon:"",desc:"Hardware"},{name:"SQL / PL/SQL",icon:"",desc:"Database"},{name:"Linux / Bash",icon:"",desc:"OS & Scripting"},{name:"Networking",icon:"",desc:"LAN/WAN"},{name:"Troubleshooting",icon:"",desc:"Diagnostics"}]),g=qe([{role:"Assistant Mechanic & Assistant Officer",company:"R+M Auto & Truck Center",duration:"Jan 2025 - Apr 2025",description:["Performed basic troubleshooting of vehicles and supplies purchasing.","Conducted basic PMS including engine oil changes, brake cleaning, and tune-ups.","Managed supplies purchasing and inventory."]},{role:"Associate Coordinator",company:"PSG Global Solutions (Remote)",duration:"Oct 2024 - Jan 2025",description:["Managed job postings for US Nurse candidates.","Validated candidate profiles and qualifications.","Collaborated with the recruitment team to streamline hiring processes."]}]),m=["protofabpcb@gmail.com","third.aragon123@gmail.com"],I=ja(()=>o.value&&m.includes(o.value.email)),R=async()=>{l.value=!0;try{const O=s(n(e,"blogs"),i("createdAt","desc")),D=await r(O);c.value=D.docs.map(C=>({id:C.id,...C.data()}))}catch(O){console.error("Error fetching blogs:",O)}finally{l.value=!1}},N=O=>{u.value=O};return La(()=>{R()}),(O,D)=>{const C=cx,k=_x,M=Ex,j=tk;return se(),ge("div",rk,[Le(C),F("header",sk,[F("div",ik,[F("div",ok,[F("div",ak,[D[3]||(D[3]=F("div",{class:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[120%] h-[120%] bg-gradient-to-tr from-blue-200/60 to-indigo-200/60 rounded-full blur-3xl -z-10 animate-blob"},null,-1)),F("img",{src:be(nk),alt:"Regalado Aragon III",class:"block w-auto h-auto max-w-full max-h-[400px] lg:max-h-none rounded-[2rem] shadow-2xl border-4 md:border-8 border-white transform transition-transform hover:scale-[1.01] object-cover"},null,8,lk)]),D[4]||(D[4]=ac('<div class="text-center lg:text-left flex flex-col items-center lg:items-start"><div class="inline-flex items-center justify-center lg:justify-start mb-6 px-4 py-1.5 rounded-full bg-blue-50 text-blue-700 text-sm font-semibold border border-blue-100"><span class="mr-2"></span> Computer Engineering Student </div><h1 class="text-4xl sm:text-5xl lg:text-7xl font-extrabold tracking-tight text-slate-900 mb-6 leading-[1.1]"> Hi, I&#39;m Third. <span class="block mt-2 text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-indigo-600"> Hardware meets Software. </span></h1><p class="mt-6 text-lg sm:text-xl text-slate-500 max-w-xl mx-auto lg:mx-0 leading-relaxed"> I am a dedicated Computer Engineering student at Samuel Christian College with a passion for embedded systems, circuit design, and full-stack development. </p><div class="mt-8 flex flex-col sm:flex-row justify-center lg:justify-start gap-4 w-full sm:w-auto"><a href="#contact" class="px-8 py-3.5 rounded-xl bg-blue-600 text-white font-bold text-center hover:bg-blue-700 transition shadow-lg shadow-blue-500/30 w-full sm:w-auto"> Contact Me </a><a href="#experience" class="px-8 py-3.5 rounded-xl bg-white text-slate-700 border border-slate-200 font-bold text-center hover:bg-gray-50 transition w-full sm:w-auto"> My Experience </a></div></div>',1))])])]),D[12]||(D[12]=F("section",{id:"about",class:"py-20 md:py-24 bg-gray-50"},[F("div",{class:"max-w-4xl mx-auto px-6 sm:px-6 lg:px-8 text-center"},[F("h2",{class:"text-3xl md:text-4xl font-bold text-slate-900 mb-6"},"About Me"),F("p",{class:"text-lg md:text-xl text-slate-600 leading-relaxed"},[jn(" I am a Computer Engineering student based in General Trias, Cavite. I possess strong analytical and technical skills, with experience ranging from "),F("strong",null,"hardware diagnostics"),jn(" and "),F("strong",null,"circuit design"),jn(" to "),F("strong",null,"software development"),jn(". I am professional, reliable, and committed to continuous learning. Whether it's soldering a PCB or writing SQL queries, I love delivering high-quality technical work. ")])])],-1)),F("section",ck,[F("div",uk,[D[5]||(D[5]=F("div",{class:"text-center mb-16"},[F("h2",{class:"text-3xl md:text-4xl font-bold text-slate-900"},"Technical Skills"),F("p",{class:"mt-4 text-slate-500 text-lg"},"My Core Competencies")],-1)),F("div",hk,[(se(!0),ge(Ge,null,zn(d.value,E=>(se(),ge("div",{key:E.name,class:"bg-gray-50 p-6 rounded-2xl shadow-sm border border-gray-100 flex flex-col items-center hover:shadow-md transition hover:-translate-y-1 text-center"},[F("span",fk,Pe(E.icon),1),F("span",dk,Pe(E.name),1),F("span",pk,Pe(E.desc),1)]))),128))])])]),F("section",gk,[F("div",mk,[D[7]||(D[7]=F("h2",{class:"text-3xl md:text-4xl font-bold text-slate-900 text-center mb-16"},"Work History",-1)),F("div",_k,[(se(!0),ge(Ge,null,zn(g.value,(E,v)=>(se(),ge("div",{key:v,class:"relative pl-8 md:pl-12 group"},[D[6]||(D[6]=F("div",{class:"absolute -left-[9px] top-2 h-4 w-4 rounded-full bg-blue-600 ring-4 ring-white group-hover:ring-blue-100 transition-all shadow-md"},null,-1)),F("div",yk,[F("h3",vk,Pe(E.role),1),F("span",wk,Pe(E.company),1)]),F("span",Ek,Pe(E.duration),1),F("ul",Tk,[(se(!0),ge(Ge,null,zn(E.description,(y,T)=>(se(),ge("li",{key:T},Pe(y),1))),128))])]))),128))])])]),F("section",bk,[F("div",Ik,[F("div",Ak,[D[9]||(D[9]=F("h2",{class:"text-3xl md:text-4xl font-bold text-slate-900"},"Latest Updates",-1)),D[10]||(D[10]=F("p",{class:"mt-4 text-slate-500 text-lg"},"My projects and learning journey.",-1)),I.value?(se(),ge("div",Sk,[F("button",{onClick:D[0]||(D[0]=E=>h.value=!0),class:"bg-indigo-600 text-white px-6 py-2 rounded-full font-medium shadow-md hover:bg-indigo-700 transition flex items-center gap-2 mx-auto"},[...D[8]||(D[8]=[F("span",{class:"text-xl font-bold"},"+",-1),jn(" Add New Blog ",-1)])])])):Ut("",!0)]),l.value?(se(),ge("div",Rk,"Loading articles...")):(se(),ge("div",Ck,[(se(!0),ge(Ge,null,zn(c.value,E=>(se(),ge("div",{key:E.id,class:"bg-white rounded-2xl overflow-hidden shadow-sm hover:shadow-xl transition-all duration-300 group border border-gray-100 flex flex-col h-full mx-auto w-full max-w-md md:max-w-none"},[F("div",Pk,[F("img",{src:E.image,class:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"},null,8,xk)]),F("div",kk,[F("div",Nk,[F("span",Dk,Pe(E.category),1),F("span",Vk,Pe(E.date),1)]),F("h3",Ok,Pe(E.title),1),F("p",Mk,Pe(E.content),1),F("button",{onClick:v=>N(E),class:"text-blue-600 font-semibold text-sm hover:underline mt-auto flex items-center gap-1"},[...D[11]||(D[11]=[jn(" Read Article ",-1),F("span",null,"",-1)])],8,Lk)])]))),128))]))])]),D[13]||(D[13]=ac('<section id="contact" class="py-20 md:py-24 bg-gray-50"><div class="max-w-3xl mx-auto px-6 sm:px-6 lg:px-8"><div class="bg-white rounded-2xl p-8 md:p-12 shadow-xl border border-gray-100 text-center"><h2 class="text-3xl font-bold text-slate-900 mb-6">Let&#39;s Connect</h2><p class="text-slate-600 mb-8 text-lg"> I&#39;m always open to discussing new projects, creative ideas, or opportunities in General Trias or Remote. </p><div class="flex flex-col sm:flex-row justify-center gap-4 mb-8"><div class="flex items-center justify-center gap-2 text-slate-600"><svg class="w-5 h-5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path></svg><span class="break-all">third.aragon123@gmail.com</span></div><div class="flex items-center justify-center gap-2 text-slate-600"><svg class="w-5 h-5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path></svg><span>+63 975 216 8931</span></div></div><form class="space-y-4 text-left"><div class="grid grid-cols-1 md:grid-cols-2 gap-4"><input type="text" placeholder="Name" class="w-full px-4 py-3 rounded-lg bg-gray-50 border border-gray-200 focus:bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition outline-none"><input type="email" placeholder="Email" class="w-full px-4 py-3 rounded-lg bg-gray-50 border border-gray-200 focus:bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition outline-none"></div><textarea rows="4" placeholder="Message" class="w-full px-4 py-3 rounded-lg bg-gray-50 border border-gray-200 focus:bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition outline-none"></textarea><button class="w-full px-8 py-3.5 rounded-lg bg-blue-600 text-white font-bold hover:bg-blue-500 transition transform hover:scale-[1.02] shadow-lg shadow-blue-500/20"> Send Message </button></form></div></div></section>',1)),Le(k),h.value?(se(),Jt(M,{key:0,onClose:D[1]||(D[1]=E=>h.value=!1),onRefresh:R})):Ut("",!0),u.value?(se(),Jt(j,{key:1,blog:u.value,onClose:D[2]||(D[2]=E=>u.value=null),onRefresh:R},null,8,["blog"])):Ut("",!0)])}}},Uk="modulepreload",$k=function(t,e){return new URL(t,e).href},Lp={},Fp=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let h=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};const o=document.getElementsByTagName("link"),l=document.querySelector("meta[property=csp-nonce]"),c=l?.nonce||l?.getAttribute("nonce");s=h(n.map(u=>{if(u=$k(u,r),u in Lp)return;Lp[u]=!0;const d=u.endsWith(".css"),g=d?'[rel="stylesheet"]':"";if(r)for(let I=o.length-1;I>=0;I--){const R=o[I];if(R.href===u&&(!d||R.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${g}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":Uk,d||(m.as="script"),m.crossOrigin="",m.href=u,c&&m.setAttribute("nonce",c),document.head.appendChild(m),d)return new Promise((I,R)=>{m.addEventListener("load",I),m.addEventListener("error",()=>R(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},jk={__name:"nuxt-error-page",props:{error:Object},setup(t){const n=t.error;n.stack&&n.stack.split(`
`).splice(1).map(d=>({text:d.replace("webpack:/","").replace(".vue",".js").trim(),internal:d.includes("node_modules")&&!d.includes(".cache")||d.includes("internal")||d.includes("new Promise")})).map(d=>`<span class="stack${d.internal?" internal":""}">${d.text}</span>`).join(`
`);const r=Number(n.statusCode||500),s=r===404,i=n.statusMessage??(s?"Page Not Found":"Internal Server Error"),o=n.message||n.toString(),l=void 0,u=s?df(()=>Fp(()=>import("./CMK4cpJ9.js"),__vite__mapDeps([0,1,2]),import.meta.url)):df(()=>Fp(()=>import("./DYjrdP8g.js"),__vite__mapDeps([3,1,4]),import.meta.url));return(d,g)=>(se(),Jt(be(u),Bv(om({statusCode:be(r),statusMessage:be(i),description:be(o),stack:be(l)})),null,16))}},Bk={key:0},Up={__name:"nuxt-root",setup(t){const e=()=>null,n=je(),r=n.deferHydration();if(n.isHydrating){const h=n.hooks.hookOnce("app:error",r);Vr().beforeEach(h)}const s=!1;Ug(Dm,Vm()),n.hooks.callHookWith(h=>h.map(u=>u()),"vue:setup");const i=pu(),o=!1,l=/bot\b|chrome-lighthouse|facebookexternalhit|google\b/i;Ng((h,u,d)=>{if(n.hooks.callHook("vue:error",h,u,d).catch(g=>console.error("[nuxt] Error in `vue:error` hook",g)),l.test(navigator.userAgent))return n.hooks.callHook("app:error",h),console.error(`[nuxt] Not rendering error page for bot with user agent \`${navigator.userAgent}\`:`,h),!1;if(U0(h)&&(h.fatal||h.unhandled))return n.runWithContext(()=>L0(h)),!1});const c=!1;return(h,u)=>(se(),Jt(mE,{onResolve:be(r)},{default:nu(()=>[be(o)?(se(),ge("div",Bk)):be(i)?(se(),Jt(be(jk),{key:1,error:be(i)},null,8,["error"])):be(c)?(se(),Jt(be(e),{key:2,context:be(c)},null,8,["context"])):be(s)?(se(),Jt($w(be(s)),{key:3})):(se(),Jt(be(Fk),{key:4}))]),_:1},8,["onResolve"]))}};let $p;{let t;$p=async function(){if(t)return t;const n=!!(window.__NUXT__?.serverRendered??document.getElementById("__NUXT_DATA__")?.dataset.ssr==="true"),r=n?pT(Up):dT(Up),s=E0({vueApp:r});async function i(o){await s.callHook("app:error",o),s.payload.error||=gu(o)}r.config.errorHandler=i,s.hook("app:suspense:resolve",()=>{r.config.errorHandler===i&&(r.config.errorHandler=void 0)}),!n&&Jf.id&&s.hook("app:suspense:resolve",()=>{document.getElementById(Jf.id)?.remove()});try{await I0(s,zP)}catch(o){i(o)}try{await s.hooks.callHook("app:created",r),await s.hooks.callHook("app:beforeMount",r),r.mount(y0),await s.hooks.callHook("app:mounted",r),await _g()}catch(o){i(o)}return r},t=$p().catch(e=>{throw console.error("Error while mounting app:",e),e})}export{Le as A,nu as B,jn as C,Wk as D,iu as E,gs as F,Fm as G,ux as _,je as a,yu as b,ld as c,Rg as d,su as e,zk as f,Hk as g,cm as h,M0 as i,ja as j,Os as k,Ba as l,Is as m,O0 as n,La as o,hu as p,mm as q,qe as r,af as s,qk as t,Vr as u,ge as v,dc as w,se as x,F as y,Pe as z};
